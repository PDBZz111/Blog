{"meta":{"version":1,"warehouse":"3.0.2"},"models":{"Asset":[{"_id":"themes/hexo-theme-matery/source/favicon.png","path":"favicon.png","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/css/gitment.css","path":"css/gitment.css","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/css/matery.css","path":"css/matery.css","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/css/my-gitalk.css","path":"css/my-gitalk.css","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/css/my.css","path":"css/my.css","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/js/matery.js","path":"js/matery.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/js/search.js","path":"js/search.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/avatar.jpg","path":"medias/avatar.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/comment_bg.png","path":"medias/comment_bg.png","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/icp.png","path":"medias/icp.png","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/logo.png","path":"medias/logo.png","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/animate/animate.min.css","path":"libs/animate/animate.min.css","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/aos/aos.css","path":"libs/aos/aos.css","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/aos/aos.js","path":"libs/aos/aos.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/aplayer/APlayer.min.css","path":"libs/aplayer/APlayer.min.css","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/aplayer/APlayer.min.js","path":"libs/aplayer/APlayer.min.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/background/canvas-nest.js","path":"libs/background/canvas-nest.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/background/ribbon-dynamic.js","path":"libs/background/ribbon-dynamic.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/background/ribbon.min.js","path":"libs/background/ribbon.min.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/background/ribbon-refresh.min.js","path":"libs/background/ribbon-refresh.min.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/codeBlock/codeBlockFuction.js","path":"libs/codeBlock/codeBlockFuction.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/codeBlock/codeLang.js","path":"libs/codeBlock/codeLang.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/codeBlock/codeCopy.js","path":"libs/codeBlock/codeCopy.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/codeBlock/codeShrink.js","path":"libs/codeBlock/codeShrink.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/cryptojs/crypto-js.min.js","path":"libs/cryptojs/crypto-js.min.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/dplayer/DPlayer.min.css","path":"libs/dplayer/DPlayer.min.css","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/gitalk/gitalk.css","path":"libs/gitalk/gitalk.css","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/gitment/gitment-default.css","path":"libs/gitment/gitment-default.css","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/instantpage/instantpage.js","path":"libs/instantpage/instantpage.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/jqcloud/jqcloud-1.0.4.min.js","path":"libs/jqcloud/jqcloud-1.0.4.min.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/jqcloud/jqcloud.css","path":"libs/jqcloud/jqcloud.css","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/masonry/masonry.pkgd.min.js","path":"libs/masonry/masonry.pkgd.min.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/others/busuanzi.pure.mini.js","path":"libs/others/busuanzi.pure.mini.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/others/clicklove.js","path":"libs/others/clicklove.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/scrollprogress/scrollProgress.min.js","path":"libs/scrollprogress/scrollProgress.min.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/tocbot/tocbot.css","path":"libs/tocbot/tocbot.css","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/tocbot/tocbot.min.js","path":"libs/tocbot/tocbot.min.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/cover.jpg","path":"medias/cover.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/10.jpg","path":"medias/featureimages/10.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/13.jpg","path":"medias/featureimages/13.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/15.jpg","path":"medias/featureimages/15.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/16.jpg","path":"medias/featureimages/16.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/2.jpg","path":"medias/featureimages/2.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/21.jpg","path":"medias/featureimages/21.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/22.jpg","path":"medias/featureimages/22.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/23.jpg","path":"medias/featureimages/23.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/3.jpg","path":"medias/featureimages/3.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/5.jpg","path":"medias/featureimages/5.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/7.jpg","path":"medias/featureimages/7.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/8.jpg","path":"medias/featureimages/8.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/dplayer/DPlayer.min.js","path":"libs/dplayer/DPlayer.min.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/gitment/gitment.js","path":"libs/gitment/gitment.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/jquery/jquery.min.js","path":"libs/jquery/jquery.min.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/valine/Valine.min.js","path":"libs/valine/Valine.min.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/banner/0.jpg","path":"medias/banner/0.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/banner/2.jpg","path":"medias/banner/2.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/banner/3.jpg","path":"medias/banner/3.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/0.jpg","path":"medias/featureimages/0.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/1.jpg","path":"medias/featureimages/1.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/11.jpg","path":"medias/featureimages/11.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/12.jpg","path":"medias/featureimages/12.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/14.jpg","path":"medias/featureimages/14.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/17.jpg","path":"medias/featureimages/17.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/18.jpg","path":"medias/featureimages/18.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/19.jpg","path":"medias/featureimages/19.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/20.jpg","path":"medias/featureimages/20.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/4.jpg","path":"medias/featureimages/4.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/6.jpg","path":"medias/featureimages/6.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/9.jpg","path":"medias/featureimages/9.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/awesome/webfonts/fa-regular-400.eot","path":"libs/awesome/webfonts/fa-regular-400.eot","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/awesome/webfonts/fa-regular-400.ttf","path":"libs/awesome/webfonts/fa-regular-400.ttf","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/awesome/webfonts/fa-regular-400.woff","path":"libs/awesome/webfonts/fa-regular-400.woff","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/awesome/webfonts/fa-regular-400.woff2","path":"libs/awesome/webfonts/fa-regular-400.woff2","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/gitalk/gitalk.min.js","path":"libs/gitalk/gitalk.min.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/lightGallery/css/lightgallery.min.css","path":"libs/lightGallery/css/lightgallery.min.css","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/lightGallery/fonts/lg.eot","path":"libs/lightGallery/fonts/lg.eot","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/lightGallery/fonts/lg.svg","path":"libs/lightGallery/fonts/lg.svg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/lightGallery/fonts/lg.woff","path":"libs/lightGallery/fonts/lg.woff","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/lightGallery/fonts/lg.ttf","path":"libs/lightGallery/fonts/lg.ttf","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/lightGallery/img/loading.gif","path":"libs/lightGallery/img/loading.gif","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/lightGallery/img/video-play.png","path":"libs/lightGallery/img/video-play.png","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/lightGallery/img/youtube-play.png","path":"libs/lightGallery/img/youtube-play.png","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/lightGallery/img/vimeo-play.png","path":"libs/lightGallery/img/vimeo-play.png","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/lightGallery/js/lightgallery-all.min.js","path":"libs/lightGallery/js/lightgallery-all.min.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/materialize/materialize.min.css","path":"libs/materialize/materialize.min.css","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/materialize/materialize.min.js","path":"libs/materialize/materialize.min.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/share/css/share.min.css","path":"libs/share/css/share.min.css","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/share/fonts/iconfont.eot","path":"libs/share/fonts/iconfont.eot","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/share/fonts/iconfont.svg","path":"libs/share/fonts/iconfont.svg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/share/fonts/iconfont.ttf","path":"libs/share/fonts/iconfont.ttf","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/share/fonts/iconfont.woff","path":"libs/share/fonts/iconfont.woff","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/share/js/jquery.share.min.js","path":"libs/share/js/jquery.share.min.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/share/js/social-share.min.js","path":"libs/share/js/social-share.min.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/valine/av-min.js","path":"libs/valine/av-min.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/banner/1.jpg","path":"medias/banner/1.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/banner/5.jpg","path":"medias/banner/5.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/banner/6.jpg","path":"medias/banner/6.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/awesome/css/all.css","path":"libs/awesome/css/all.css","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/awesome/webfonts/fa-brands-400.eot","path":"libs/awesome/webfonts/fa-brands-400.eot","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/awesome/webfonts/fa-brands-400.woff","path":"libs/awesome/webfonts/fa-brands-400.woff","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/awesome/webfonts/fa-brands-400.ttf","path":"libs/awesome/webfonts/fa-brands-400.ttf","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/awesome/webfonts/fa-brands-400.woff2","path":"libs/awesome/webfonts/fa-brands-400.woff2","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/awesome/webfonts/fa-solid-900.woff","path":"libs/awesome/webfonts/fa-solid-900.woff","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/awesome/webfonts/fa-solid-900.woff2","path":"libs/awesome/webfonts/fa-solid-900.woff2","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/awesome/webfonts/fa-regular-400.svg","path":"libs/awesome/webfonts/fa-regular-400.svg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/awesome/webfonts/fa-solid-900.eot","path":"libs/awesome/webfonts/fa-solid-900.eot","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/awesome/webfonts/fa-solid-900.ttf","path":"libs/awesome/webfonts/fa-solid-900.ttf","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/banner/4.jpg","path":"medias/banner/4.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/reward/wechat.png","path":"medias/reward/wechat.png","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/reward/alipay.jpg","path":"medias/reward/alipay.jpg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/echarts/echarts.min.js","path":"libs/echarts/echarts.min.js","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/awesome/webfonts/fa-brands-400.svg","path":"libs/awesome/webfonts/fa-brands-400.svg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/libs/awesome/webfonts/fa-solid-900.svg","path":"libs/awesome/webfonts/fa-solid-900.svg","modified":0,"renderable":1},{"_id":"themes/hexo-theme-matery/source/medias/avatar1.jpg","path":"medias/avatar1.jpg","modified":0,"renderable":1}],"Cache":[{"_id":"themes/hexo-theme-matery/_config.yml","hash":"a47aaf88af6d0c8407041ad354ef2a50291c6cdf","modified":1661148424167},{"_id":"themes/hexo-theme-matery/languages/zh-CN.yml","hash":"5fa6da78c3d17f46c3676b5e5b704ef2ecd79550","modified":1661140288529},{"_id":"themes/hexo-theme-matery/languages/default.yml","hash":"d659ee071b32e161c2920e285b464fc917513163","modified":1661140278674},{"_id":"themes/hexo-theme-matery/layout/about.ejs","hash":"c81fd0da8a9a8e89e4b168f61eb091a848ac4f3a","modified":1661142384766},{"_id":"themes/hexo-theme-matery/layout/archive.ejs","hash":"57733d52d17361e735fcc95f875e0b1b9ebdcbd8","modified":1660412121172},{"_id":"themes/hexo-theme-matery/layout/category.ejs","hash":"4ac716d15d84e7c37f07308a5ec008a2ac090c9b","modified":1660412121172},{"_id":"themes/hexo-theme-matery/layout/categories.ejs","hash":"c431e772d0f7700592228bbd9502793bdc28a893","modified":1660412121172},{"_id":"themes/hexo-theme-matery/layout/contact.ejs","hash":"72fb5af3fc2f8955e2eb10926bbe4532a04ccd1b","modified":1660412121173},{"_id":"themes/hexo-theme-matery/layout/friends.ejs","hash":"e9716a948172e6ad46c18cc7e78770cdc46f1857","modified":1660412121173},{"_id":"themes/hexo-theme-matery/layout/index.ejs","hash":"3cabb8e3680858c1412277def37bdef73981be0f","modified":1660412121173},{"_id":"themes/hexo-theme-matery/layout/layout.ejs","hash":"e179c72cb4eef88e5168cadafa2e1c3b46fd1486","modified":1660412121173},{"_id":"themes/hexo-theme-matery/layout/post.ejs","hash":"3783bb4d7807e3a3701d67499a878c69a0a872d6","modified":1660412121173},{"_id":"themes/hexo-theme-matery/layout/tag.ejs","hash":"058eb27ff10f5314d8b9e334c54419b9a6572315","modified":1660412121173},{"_id":"themes/hexo-theme-matery/layout/tags.ejs","hash":"851c0ee599e91e7b1d657673859e8b6ff79cf50b","modified":1660412121173},{"_id":"themes/hexo-theme-matery/source/favicon.png","hash":"774fee8c6d0be9dbb010b20f36c06848d06e3da0","modified":1660412121175},{"_id":"source/_data/friends.json","hash":"7aaf75a7da831bcd0407991f3b91ea9eec3131ba","modified":1661139498314},{"_id":"source/about/index.md","hash":"f74eb97474295730c06afc7e72400720c425e25b","modified":1660412121163},{"_id":"source/categories/index.md","hash":"fc4c27bcf747e040d4c26724c2d39e6144e56401","modified":1660412121163},{"_id":"source/friends/index.md","hash":"a68a54c4dc54927013e992b66d717ad93f1b23cc","modified":1660412121164},{"_id":"source/contact/index.md","hash":"73e6f5ce187d4b26cc018d73faf8fe20d6e402ce","modified":1660412121163},{"_id":"source/tags/index.md","hash":"91bb2c6d5b1bdf1ada2adaaf2fa487706dd8a3a4","modified":1660412121164},{"_id":"source/_posts/conclusion/2020-conclusion-working.md","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1660412120843},{"_id":"themes/hexo-theme-matery/layout/_custom/custom.styl","hash":"67bca810ceacd9b62d627702cf7f3f1584be473e","modified":1660412121165},{"_id":"themes/hexo-theme-matery/layout/_custom/sidebar.swig","hash":"051e8b669b37a6d8898c474958eeefd71482c629","modified":1660412121165},{"_id":"themes/hexo-theme-matery/layout/_partial/back-top.ejs","hash":"be527741c39c9dc4a13ad712b49fe8db0147fe1e","modified":1660412121165},{"_id":"themes/hexo-theme-matery/layout/_partial/baidu-push.ejs","hash":"2841870e0c625787de348221e5ddb7bbe99ec5a2","modified":1660412121165},{"_id":"themes/hexo-theme-matery/layout/_partial/bg-cover-content.ejs","hash":"45f2a9a65905de64cacdac42032eb7705ad5afc7","modified":1660412121165},{"_id":"themes/hexo-theme-matery/layout/_partial/baidu-analytics.ejs","hash":"4b01030b7136192bdbd704e29a0fe12f92767551","modified":1660412121165},{"_id":"themes/hexo-theme-matery/layout/_partial/bg-cover.ejs","hash":"d5a7b9bb96e04c0a3485dd873748f19c50a6a04f","modified":1660412121166},{"_id":"themes/hexo-theme-matery/layout/_partial/disqus.ejs","hash":"1b392f2160f962f62f3ddf5e1155c7f2f4888e1d","modified":1660412121166},{"_id":"themes/hexo-theme-matery/layout/_partial/footer.ejs","hash":"ce93bcd80ece1bc320b10208dd0947fcb25da501","modified":1661141633167},{"_id":"themes/hexo-theme-matery/layout/_partial/github-link.ejs","hash":"fd4034bca2eb3987dcf113e6477260bee97eb1e7","modified":1660412121166},{"_id":"themes/hexo-theme-matery/layout/_partial/gitalk.ejs","hash":"27764936791ce36b527bea63689435346bbfb425","modified":1660412121166},{"_id":"themes/hexo-theme-matery/layout/_partial/gitment.ejs","hash":"90888c945384aa1ee4650bd43bd7ea670f25828c","modified":1660412121167},{"_id":"themes/hexo-theme-matery/layout/_partial/google-analytics.ejs","hash":"890c8f04c1f4905dfceb3ea9fd6efdd040d79c01","modified":1660412121167},{"_id":"themes/hexo-theme-matery/layout/_partial/head.ejs","hash":"adaeca6ae9064c41047c3fb4f8bd046b736ae457","modified":1660412121167},{"_id":"themes/hexo-theme-matery/layout/_partial/header.ejs","hash":"4bcdbd27273dd1b7098d4cfa6479b5d6b138cd12","modified":1660412121167},{"_id":"themes/hexo-theme-matery/layout/_partial/index-cover.ejs","hash":"c2743ec50f018054cd3d1f6facfccef3f3999ba3","modified":1661142464030},{"_id":"themes/hexo-theme-matery/layout/_partial/livere.ejs","hash":"42728561c09589f79b698eb059ab4def53ed3642","modified":1660412121167},{"_id":"themes/hexo-theme-matery/layout/_partial/minivaline.ejs","hash":"68085770dc09d71c14d323dff940fe6c1826ba76","modified":1660412121167},{"_id":"themes/hexo-theme-matery/layout/_partial/navigation.ejs","hash":"5a2179a9a3de6f56b0aaa154a11919b8f34fcbf9","modified":1660412121168},{"_id":"themes/hexo-theme-matery/layout/_partial/mobile-nav.ejs","hash":"8ce2974b19765e1f05d935a4f18abf7c84a980da","modified":1660412121168},{"_id":"themes/hexo-theme-matery/layout/_partial/paging.ejs","hash":"d8773abab5d0b672b70a9df20a8f9f7f6b0a2dae","modified":1660412121168},{"_id":"themes/hexo-theme-matery/layout/_partial/post-cover.ejs","hash":"7f583c935253e2bf6421791715ee9de4989add6e","modified":1660412121168},{"_id":"themes/hexo-theme-matery/layout/_partial/post-detail-toc.ejs","hash":"ea50a5669847740894d5737a6330bf1013ae2e65","modified":1660412121168},{"_id":"themes/hexo-theme-matery/layout/_partial/post-detail.ejs","hash":"8ad8a7ec3f6438af496c51fd6bef1684e158a9ef","modified":1660412121168},{"_id":"themes/hexo-theme-matery/layout/_partial/prev-next.ejs","hash":"908ddab5b5d5662c50b46ada0e03e06fe0a6c310","modified":1660412121168},{"_id":"themes/hexo-theme-matery/layout/_partial/post-statis.ejs","hash":"de0d5763ddd64463f43135678b64c044884b8406","modified":1660412121168},{"_id":"themes/hexo-theme-matery/layout/_partial/reprint-statement.ejs","hash":"04f181269e003e75e716f63b3222be055502c6c2","modified":1661141239169},{"_id":"themes/hexo-theme-matery/layout/_partial/search.ejs","hash":"c5f1a2de30363f370c8c37994140d6ef4fd0c4b7","modified":1660412121169},{"_id":"themes/hexo-theme-matery/layout/_partial/reward.ejs","hash":"90c2ab31492f8226454537d6b987e9399119047d","modified":1660412121169},{"_id":"themes/hexo-theme-matery/layout/_partial/share.ejs","hash":"e50fae64b6cfdbed18861eb49eca5018a920c7a4","modified":1660412121169},{"_id":"themes/hexo-theme-matery/layout/_partial/social-link.ejs","hash":"f640583d45179abc1ef57951e7f61fb9e10f44c9","modified":1660412121169},{"_id":"themes/hexo-theme-matery/layout/_partial/valine.ejs","hash":"ef335be75e3f26580583af8699b8497f350ae200","modified":1660412121169},{"_id":"themes/hexo-theme-matery/layout/_widget/category-radar.ejs","hash":"131e2eabf6b216210efd0746300889adfee357be","modified":1660412121170},{"_id":"themes/hexo-theme-matery/layout/_widget/category-cloud.ejs","hash":"3ef458166041a8a12e493cc5963a5af5d98c1dfc","modified":1660412121170},{"_id":"themes/hexo-theme-matery/layout/_widget/dream.ejs","hash":"d6692f8c81013191fce59f47df1b6171649181ca","modified":1660412121170},{"_id":"themes/hexo-theme-matery/layout/_widget/music.ejs","hash":"226def64bcb1263f40212805fec4cdf6dc61034b","modified":1660412121170},{"_id":"themes/hexo-theme-matery/layout/_widget/my-gallery.ejs","hash":"f5259f18a906f2862fe72b90c28125b5f6b7d0b1","modified":1660412121170},{"_id":"themes/hexo-theme-matery/layout/_widget/my-skills.ejs","hash":"9edbeb1ec6212762d597ae7a05b5a219f72c8f98","modified":1660412121171},{"_id":"themes/hexo-theme-matery/layout/_widget/my-projects.ejs","hash":"141f19a8aa41b7a21436f23ce114bd5fda932512","modified":1660412121171},{"_id":"themes/hexo-theme-matery/layout/_widget/post-calendar.ejs","hash":"fb5ee7674070956d134ddca6890a9bd3f398cc0f","modified":1660412121171},{"_id":"themes/hexo-theme-matery/layout/_widget/post-charts.ejs","hash":"20f0b6155eee348276dd91790f6a52b1005a0518","modified":1660412121171},{"_id":"themes/hexo-theme-matery/layout/_widget/recommend.ejs","hash":"416f2f47f34df031fe4eef050fc21a2de06fdb83","modified":1660412121171},{"_id":"themes/hexo-theme-matery/layout/_widget/tag-wordcloud.ejs","hash":"5245a8fe51faa99f8db4180e604a90b20ae04c35","modified":1660412121172},{"_id":"themes/hexo-theme-matery/layout/_widget/tag-cloud.ejs","hash":"d32898104477acef56c33d00a68b48db15dcf2e6","modified":1660412121171},{"_id":"themes/hexo-theme-matery/layout/_widget/video.ejs","hash":"6eaab5fccff9ad69d1d877a0f0585e2fcb89ba52","modified":1660412121172},{"_id":"themes/hexo-theme-matery/source/css/gitment.css","hash":"d5ef623065d1fbc897119f7b70ccf7563e329917","modified":1660412121174},{"_id":"themes/hexo-theme-matery/source/css/matery.css","hash":"e0d770d554fb3565a7993bf8046cc998997ef5bc","modified":1660412121174},{"_id":"themes/hexo-theme-matery/source/css/my-gitalk.css","hash":"4e3e855767ac5a48b13af1d6a42df13d8975e03f","modified":1660412121174},{"_id":"themes/hexo-theme-matery/source/css/my.css","hash":"b3c32b573a4a9ef3dfeffbd544a9c3f451e67a54","modified":1660412121174},{"_id":"themes/hexo-theme-matery/source/js/matery.js","hash":"ddfef10e80a09b8efb48c52ede773e71d5890c78","modified":1660412121175},{"_id":"themes/hexo-theme-matery/source/js/search.js","hash":"77ecae23dd3edd8ad962c5b12954652bb2f7a1b6","modified":1660412121175},{"_id":"themes/hexo-theme-matery/source/medias/avatar.jpg","hash":"ba479c0b93b89302b2c0f2c7abc4de9354ed1380","modified":1661159368916},{"_id":"themes/hexo-theme-matery/source/medias/comment_bg.png","hash":"dfc93d24081884fbc58cab0f8fd19e77d31d6123","modified":1660412121229},{"_id":"themes/hexo-theme-matery/source/medias/icp.png","hash":"27a96f31f7d0413c6ade6f40e06f021f501151c7","modified":1660412121241},{"_id":"themes/hexo-theme-matery/source/medias/logo.png","hash":"d9095f5ea8719374d9d1ff020279426f5b2a1396","modified":1660412121241},{"_id":"source/_posts/best-practice/how-to-retry-elegantly.md","hash":"02d777ac62446855ad7ca018b3d78e254fceb9e6","modified":1661158728858},{"_id":"source/_posts/conclusion/2020-conclusion-slim.md","hash":"cd1ea2975a6da5363ab075b26f422b8d9805e74a","modified":1660412120722},{"_id":"source/_posts/data-analysis/r-study-basic-type.md","hash":"d1ae8f0e77a84f9f69a266e4e56463bc98c300af","modified":1660412120843},{"_id":"source/_posts/data-analysis/r-study-install.md","hash":"0ce51d6967d0f50c092ad401dc7f96ed0863f21e","modified":1660412120844},{"_id":"source/_posts/hexo/hexo-config.md","hash":"449cb661833ae59f8d85071d2b8f75b542599433","modified":1661159022839},{"_id":"source/_posts/hexo/hexo-start.md","hash":"9f851a08286f96ddb6901cc59aa0d6f14871d7b5","modified":1661159105319},{"_id":"source/_posts/hexo/hexo-theme.md","hash":"a6dcadeca2b1ea9c1b4d9cf2bd9f403b62184fcf","modified":1661159135895},{"_id":"source/_posts/picture/go-basic-usage-of-gg-package.md","hash":"d070a9ca5596f7b897c81fffc3a6fe36def60ac4","modified":1660412120907},{"_id":"source/_posts/picture/go-draw-word-in-pic.md","hash":"e8edbd87eaab986e0eb4e33f080294a8374dcb9c","modified":1660412120919},{"_id":"source/_posts/picture/go-draw-word-in-pic2.md","hash":"435cab9451954e5048ad3fb5948b7f656d25ac69","modified":1660412120960},{"_id":"source/_posts/picture/go-pic-rotate-use-gg-package.md","hash":"72572888cd3a10f43e3aee94abc9e0cf61e8d424","modified":1660412121069},{"_id":"source/_posts/picture/go-wx-pic-generator.md","hash":"7e586648b0847e1b0c2066178104636a655167df","modified":1661158656273},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-ensure-reliable-delivery-of-message.md","hash":"d220c1b2784428816384549d380e898dd1253f96","modified":1660412121100},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-ensure-reliable-delivery-of-message2.md","hash":"f291f37d68d62bf10f3abef83c96a6f334fdf22c","modified":1661159278642},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-use-dead-letter-queue.md","hash":"a948e4410ccb0824504b18fe388574320a59fd70","modified":1661141448225},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-use-delay-queue.md","hash":"835567f72409d1a10a612e7c1bbd1bbe83c75b35","modified":1661141442146},{"_id":"source/_posts/thoughts/cogito-ergo-sum.md","hash":"a1cc3392fce0af05e6bea3c813eb8d4282296ece","modified":1660412121162},{"_id":"source/_posts/thoughts/what-is-your-answer.md","hash":"d2fdc7ada12f0432791ac9587060c728a41f2ae6","modified":1660412121163},{"_id":"source/_posts/thoughts/why-are-we-biased.md","hash":"ce32172238a797431dd303021523498135f058a2","modified":1660412121163},{"_id":"themes/hexo-theme-matery/source/libs/animate/animate.min.css","hash":"5dfcbcee866e9dc564916416281885f3e320871e","modified":1660412121175},{"_id":"themes/hexo-theme-matery/source/libs/aos/aos.css","hash":"ded9739f803d114c9168d3351fded72b3b478b4c","modified":1660412121176},{"_id":"themes/hexo-theme-matery/source/libs/aos/aos.js","hash":"5a8e6d07ffa55642418ab3fd4b263aa08284b77a","modified":1660412121176},{"_id":"themes/hexo-theme-matery/source/libs/aplayer/APlayer.min.css","hash":"7f4f8913f2d46ade2def5134e2cc8684a4b87939","modified":1660412121176},{"_id":"themes/hexo-theme-matery/source/libs/aplayer/APlayer.min.js","hash":"70c0c4a9bf698747b7c058c21287ad617355e5dd","modified":1660412121177},{"_id":"themes/hexo-theme-matery/source/libs/background/canvas-nest.js","hash":"d2569ef80127ed2f4af7ef4d9f82b037794eec69","modified":1660412121196},{"_id":"themes/hexo-theme-matery/source/libs/background/ribbon-dynamic.js","hash":"8f53dbd5f9a40c377664bf8ca0d5d5ed75b91757","modified":1660412121196},{"_id":"themes/hexo-theme-matery/source/libs/background/ribbon.min.js","hash":"6a99d494c030388f96f6086a7aaa0f03f3fe532e","modified":1660412121197},{"_id":"themes/hexo-theme-matery/source/libs/background/ribbon-refresh.min.js","hash":"8568bc391adb16e763baa8ae26fb4f40fd40d8d5","modified":1661142228768},{"_id":"themes/hexo-theme-matery/source/libs/codeBlock/codeBlockFuction.js","hash":"a8133367d48199e7505c2d831ca848b4202b9ba6","modified":1660412121197},{"_id":"themes/hexo-theme-matery/source/libs/codeBlock/codeLang.js","hash":"066d2c89ad429e44f6467b9267da782ccaad57de","modified":1660412121197},{"_id":"themes/hexo-theme-matery/source/libs/codeBlock/codeCopy.js","hash":"6ab7871d36cab438bbd4d781bc1fe7618b46b6e7","modified":1660412121197},{"_id":"themes/hexo-theme-matery/source/libs/codeBlock/codeShrink.js","hash":"3edbe498f7bb9e7daa77f9db30e1b5eeab40e067","modified":1660412121197},{"_id":"themes/hexo-theme-matery/source/libs/cryptojs/crypto-js.min.js","hash":"33810b2b757fc4327bc1d3b83bb5e0d3dc1fec5b","modified":1660412121198},{"_id":"themes/hexo-theme-matery/source/libs/dplayer/DPlayer.min.css","hash":"5d52d3b34fceb9d7e11f1beaf7ed380b4249dec4","modified":1660412121198},{"_id":"themes/hexo-theme-matery/source/libs/gitalk/gitalk.css","hash":"9c0bacfbd4519d3859e3bbb06128ba241804d8b1","modified":1660412121204},{"_id":"themes/hexo-theme-matery/source/libs/gitment/gitment-default.css","hash":"a0625d8b432af8bdc820f8768d36cde439e7257c","modified":1660412121205},{"_id":"themes/hexo-theme-matery/source/libs/instantpage/instantpage.js","hash":"043eba3c85c2e2009a9fabf3c4fc55537852fd86","modified":1660412121206},{"_id":"themes/hexo-theme-matery/source/libs/jqcloud/jqcloud-1.0.4.min.js","hash":"26849509f196a2d21bbfd15696e5d5153163b8f1","modified":1660412121207},{"_id":"themes/hexo-theme-matery/source/libs/jqcloud/jqcloud.css","hash":"4e6538c8312aeeab845d361c37a8c1a0931241f0","modified":1660412121207},{"_id":"themes/hexo-theme-matery/source/libs/masonry/masonry.pkgd.min.js","hash":"f81cd7bfcf7aa2d043bd3e6077df42656fc44b82","modified":1660412121212},{"_id":"themes/hexo-theme-matery/source/libs/others/busuanzi.pure.mini.js","hash":"6e41f31100ae7eb3a6f23f2c168f6dd56e7f7a9a","modified":1660412121215},{"_id":"themes/hexo-theme-matery/source/libs/others/clicklove.js","hash":"6a39b8c683ba5dcd92f70c6ab45d1cfac3213e8e","modified":1660412121215},{"_id":"themes/hexo-theme-matery/source/libs/scrollprogress/scrollProgress.min.js","hash":"777ffe5d07e85a14fbe97d846f45ffc0087251cc","modified":1660412121215},{"_id":"themes/hexo-theme-matery/source/libs/tocbot/tocbot.css","hash":"9783581bec83e6bd6cd279f0af23a2862f46a587","modified":1660412121218},{"_id":"themes/hexo-theme-matery/source/libs/tocbot/tocbot.min.js","hash":"5ec27317f0270b8cf6b884c6f12025700b9a565c","modified":1660412121218},{"_id":"themes/hexo-theme-matery/source/medias/cover.jpg","hash":"d4957ff7cc5e88555cd840f2956ab0561e6f1ccf","modified":1660412121229},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/10.jpg","hash":"98e7f6fd9c97d4de9044b6871ca08ebf14db11b9","modified":1660412121231},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/13.jpg","hash":"35a320174f8e316e3eadaec658024276b651c6e9","modified":1660412121232},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/15.jpg","hash":"da0fbee3b7bde1607eace377ddf834c0be99edfe","modified":1660412121233},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/16.jpg","hash":"97a829c4bc94f9d2929b20a1a9b798c57b9f7205","modified":1660412121234},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/2.jpg","hash":"4bba691cf71a517ecaeaf42afd3e8f8b31e346c1","modified":1660412121236},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/21.jpg","hash":"b26edb128bb0bf58b23fd2f014e9555e89a2ca3b","modified":1660412121237},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/22.jpg","hash":"754579747a3e99747d890fca3162f370b96a7941","modified":1660412121237},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/23.jpg","hash":"7d7f37da3fa7128343adac23866449eb2c6a549a","modified":1660412121238},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/3.jpg","hash":"6ec646c2a70f5f11edacf225c1477f2200a37a96","modified":1660412121238},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/5.jpg","hash":"41ca20129a37fedc573eec28dd7d7b9e5b09228a","modified":1660412121239},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/7.jpg","hash":"7975141cd64e875122c0ea33daaca1a06bf00b8e","modified":1660412121240},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/8.jpg","hash":"8e4b7186352085483ca1174c7c0800114c48df8b","modified":1660412121240},{"_id":"source/_posts/best-practice/how-to-retry-elegantly/EDaBTlbkyvbhmng.jpg","hash":"398a3bd4f74e6701ffee802e68707303dbb62f96","modified":1660412120720},{"_id":"source/_posts/best-practice/how-to-retry-elegantly/GBvgTpbkyvbhlEB.jpg","hash":"ce85d0352cfd7704eb25580f879a485bdbd02f97","modified":1660412120721},{"_id":"source/_posts/best-practice/how-to-retry-elegantly/IStGDBbkyvbhmow.jpg","hash":"b1c46a21dadae19e1b97fa9bf471192c61530735","modified":1660412120721},{"_id":"source/_posts/best-practice/how-to-retry-elegantly/dtFxiMbkyvbhlzo.jpg","hash":"d2621edda28a9d2b9f5aaf498de1231ceefc8802","modified":1660412120721},{"_id":"source/_posts/best-practice/how-to-retry-elegantly/fuuTyTbkyvbhmsa.jpg","hash":"aac6b22d8acdadc0f1fc81961aa729fac15c167c","modified":1660412120722},{"_id":"source/_posts/best-practice/how-to-retry-elegantly/timg.jpg","hash":"7eac6dd798ef8867c7577387e59712ba001ac7c5","modified":1660412120722},{"_id":"source/_posts/data-analysis/r-study-basic-type/1.png","hash":"e07719816e5244d13c9201cd922174cffeff18a7","modified":1660412120843},{"_id":"source/_posts/data-analysis/r-study-install/10.png","hash":"354dee43985acf02898880a1562a99276f077aff","modified":1660412120844},{"_id":"source/_posts/data-analysis/r-study-install/7.png","hash":"f73cee1216b666cf96891569231bc1a2465ec628","modified":1660412120860},{"_id":"source/_posts/data-analysis/r-study-install/8.png","hash":"e61673687cc99e719a526e79810e5236c8bd3502","modified":1660412120860},{"_id":"source/_posts/hexo/hexo-start/hexo-10.jpg","hash":"b5669f360d81ef1954a8e528845f069c3b05ad81","modified":1660412120863},{"_id":"source/_posts/hexo/hexo-start/hexo-11.jpg","hash":"2383f2a8b5c4f4b417457ef7bf07612bca5be34b","modified":1660412120863},{"_id":"source/_posts/hexo/hexo-start/hexo-14.jpg","hash":"95bb8d19bca5263e81bc5a523bbcc22ceffe0a92","modified":1660412120864},{"_id":"source/_posts/hexo/hexo-start/hexo-15.jpg","hash":"590b6d79af3ebd60decfbbc3700e2ea1b561271c","modified":1660412120865},{"_id":"source/_posts/hexo/hexo-start/hexo-16.jpg","hash":"9384c5bf7619867cabf2c56b8b4944effdde3aac","modified":1660412120866},{"_id":"source/_posts/hexo/hexo-start/hexo-18.jpg","hash":"9e43bf788998ce7cad5876971b03f1cbaab6dfe7","modified":1660412120866},{"_id":"source/_posts/hexo/hexo-start/hexo-7.jpg","hash":"12d14c67621041e1e553444386af5bab0ebe1fc5","modified":1660412120874},{"_id":"source/_posts/hexo/hexo-theme/hexo-theme-2.jpg","hash":"db148a0a43ac9b6d3e2811a7be497c60e39757d3","modified":1660412120877},{"_id":"source/_posts/picture/go-basic-usage-of-gg-package/10.png","hash":"b77e16cdf377229a89eb30c9a94d318fd0983d62","modified":1660412120909},{"_id":"source/_posts/picture/go-basic-usage-of-gg-package/3.png","hash":"6e01668f661e2f9b9aa7ad85d71a071397606736","modified":1660412120916},{"_id":"source/_posts/picture/go-basic-usage-of-gg-package/4.png","hash":"d074c847068689e484a7f0863fcae73ec0fe40ac","modified":1660412120916},{"_id":"source/_posts/picture/go-basic-usage-of-gg-package/5.png","hash":"aa9b9d17f40297a94b6afaa9bc706747a2a6fe63","modified":1660412120916},{"_id":"source/_posts/picture/go-basic-usage-of-gg-package/6.png","hash":"bf3d36fe911855ee07006fad5a5b5a8f0206f4a4","modified":1660412120917},{"_id":"source/_posts/picture/go-basic-usage-of-gg-package/7.png","hash":"eecdbf7873baf90e4dab4c5efe8921880ae9fc95","modified":1660412120917},{"_id":"source/_posts/picture/go-basic-usage-of-gg-package/8.png","hash":"db77f142ad2a073a8c6c4d6bd569a9d9a8691f8c","modified":1660412120917},{"_id":"source/_posts/picture/go-basic-usage-of-gg-package/9.png","hash":"6f3d15420b035f3212e87f7ef99b9b368ce2c9cd","modified":1660412120918},{"_id":"source/_posts/picture/go-basic-usage-of-gg-package/test.jpg","hash":"c2e2dfa4631d71bcace54635876051d9d768e909","modified":1660412120918},{"_id":"source/_posts/picture/go-draw-word-in-pic/1.png","hash":"6f8d45022ced79d396dbefbb8a6b2dbad6d1fd86","modified":1660412120919},{"_id":"source/_posts/picture/go-draw-word-in-pic/2.png","hash":"0f034a85ef70d737229e07d490ae48b85be14cd2","modified":1660412120920},{"_id":"source/_posts/picture/go-draw-word-in-pic/3.png","hash":"3b597d9cfb081d6c7695b3a413bc0f93a4e98a46","modified":1660412120921},{"_id":"source/_posts/picture/go-draw-word-in-pic/4.png","hash":"d8a6f1ddfd76927e1972db67eff61719e9a62082","modified":1660412120921},{"_id":"source/_posts/picture/go-draw-word-in-pic/5.png","hash":"fbf329f33f064b6c5c611bb4443ff895b67b1b07","modified":1660412120921},{"_id":"source/_posts/picture/go-draw-word-in-pic/6.png","hash":"a56ba4e919001cbcbdd7460be8d2f70fa34e2c50","modified":1660412120921},{"_id":"source/_posts/picture/go-draw-word-in-pic/7.png","hash":"505b2ebc736e41d30e94706ed4f497d530e0a8b2","modified":1660412120922},{"_id":"source/_posts/picture/go-draw-word-in-pic/8.png","hash":"d50adf948f46ba5be5c0650a745fa98fd866401f","modified":1660412120922},{"_id":"source/_posts/picture/go-draw-word-in-pic/9.png","hash":"34b6f3de272f256c2fbf4d83a94c47d9ae414b13","modified":1660412120922},{"_id":"source/_posts/picture/go-draw-word-in-pic2/1.png","hash":"a500d8eb41306efb10f7f9a33cb5b5834219c732","modified":1660412120960},{"_id":"source/_posts/picture/go-draw-word-in-pic2/2.png","hash":"c51e0690fe9d9f318d7c0c4c771effbcfb96659c","modified":1660412120960},{"_id":"source/_posts/picture/go-draw-word-in-pic2/4.png","hash":"e9aebd8566a54a14a544813c610c8bac80fe9819","modified":1660412120961},{"_id":"source/_posts/picture/go-draw-word-in-pic2/3.png","hash":"b04bf9d31ac1403f738d5228f34c340a4c04f58a","modified":1660412120961},{"_id":"source/_posts/picture/go-draw-word-in-pic2/6.png","hash":"c3c30359945125a0782c6889995e4261c5ad3661","modified":1660412120962},{"_id":"source/_posts/picture/go-draw-word-in-pic2/7.png","hash":"8a837c5d24461b4d5ec3228f591befb4621805bc","modified":1660412120963},{"_id":"source/_posts/picture/go-pic-rotate-use-gg-package/1.png","hash":"04c358a44501b18dad940efa117bd0bb84a049eb","modified":1660412121069},{"_id":"source/_posts/picture/go-pic-rotate-use-gg-package/4.png","hash":"5fb65220cc46f0c2f600f664fefc81ef718a2470","modified":1660412121072},{"_id":"source/_posts/picture/go-wx-pic-generator/10.png","hash":"1a854bfda404ed50e2f07709d033785ac8262cb8","modified":1660412121080},{"_id":"source/_posts/picture/go-wx-pic-generator/3.png","hash":"342337ffae16801acd265ab8867673611684a705","modified":1660412121084},{"_id":"source/_posts/picture/go-wx-pic-generator/8.png","hash":"640916898da3bd1de27deb50f7aae51015688c98","modified":1660412121096},{"_id":"source/_posts/java/basic/java-basic.md","hash":"67a8bf061bf6e35faf9754be846a78c24b66f51d","modified":1660412120878},{"_id":"source/_posts/java/basic/java-class.md","hash":"1334a7e36bf47475cfbb10a95f2392d29d2c3e57","modified":1660412120878},{"_id":"source/_posts/java/basic/java-package.md","hash":"aa8b622030adc89deca1c00bd7013b39c24ce734","modified":1660412120878},{"_id":"source/_posts/java/basic/java-simple-structure.md","hash":"287bce1c1f49de1688b573bc21a51ce6ce7da4e7","modified":1660412120878},{"_id":"source/_posts/java/basic/java-variable.md","hash":"3af29e7bf460dca2ffd88be077157375243228fb","modified":1660412120878},{"_id":"source/_posts/java/introduction/java-environment-mac.md","hash":"decf00d1009a108854d5f980f957d842a20d18e0","modified":1661159187164},{"_id":"source/_posts/java/introduction/java-environment-windows.md","hash":"6d071f95fd44125ffd70d2d221bebf79bf0da3cd","modified":1661159191311},{"_id":"source/_posts/java/introduction/java-environment.md","hash":"aa9e95dffa5a54545ed5ee4f9e8db920529cdff1","modified":1661159177471},{"_id":"source/_posts/java/introduction/java-ide.md","hash":"bd2db4086df9d7bb456fcdd5808f2a3c3dc7dba3","modified":1661159194883},{"_id":"source/_posts/java/introduction/java-introduction.md","hash":"ad1fae9f3f06257ff3e2e29cfa1effa4801f54c3","modified":1661159198844},{"_id":"source/_posts/java/introduction/java-primer-conclusion.md","hash":"1b494eb4cfdaba99c2d68110a724728c0ea674f4","modified":1661159202071},{"_id":"source/_posts/java/introduction/java-simple-example.md","hash":"38b8106c708f1d37aeffc5b561e41bcfc8544849","modified":1661159206213},{"_id":"source/_posts/java/introduction/java-started.md","hash":"cb59a07520eb1f1d25bec6b4b62ce230e89a523f","modified":1661159211346},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-ensure-reliable-delivery-of-message/111.png.jpg","hash":"0e03633ffa9b61abf63dfdcff166af3666e035e3","modified":1660412121100},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-ensure-reliable-delivery-of-message/20170716034945131.jpg","hash":"f0d2b33f828a8fb8b272a04f5edee0a77884d49d","modified":1660412121101},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-ensure-reliable-delivery-of-message/{6582FAF9-A46E-4239-810B-E1D6883ED070}.png.jpg","hash":"a8e0e3c465ac56a94fda7fc0f68238bdee767213","modified":1660412121101},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-ensure-reliable-delivery-of-message/5b65729e0001439305000294.jpg","hash":"508787c40c4334c10bc3b8ee1ff35642d9b66d62","modified":1660412121101},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-ensure-reliable-delivery-of-message2/$2ER{ZD68TZW07[M5{$JZGL.png","hash":"58b529e4823b6fdc186b4cf5ffe8fc3882227d3f","modified":1660412121102},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-ensure-reliable-delivery-of-message/u=1091165172,1855706818&fm=26&gp=0.jpg","hash":"0e18b8632c7fadda31f0cbec10ba6ae107e2ba6f","modified":1660412121101},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-ensure-reliable-delivery-of-message2/42P7LF)NXQ`0JIN0~~43]PE.png","hash":"b2bdaad6ee0264bf59383085da87f9ae9dddde39","modified":1660412121103},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-ensure-reliable-delivery-of-message2/DTHP)NN0CQ28[@(HHY2R8{5.png","hash":"6f40fe3481cb6f04f4f2ef2cbc2b8ce9c8ae1d45","modified":1660412121103},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-use-dead-letter-queue/54b719620c68404a8b8dfacc070420cb.jpg","hash":"df1a9d5b46cbb20e860b20e67fca2cb97b133983","modified":1660412121104},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-use-dead-letter-queue/8(%(3A_Y`_N8XX8W5XHZMWY.png","hash":"a44213e3d6885bc41da1be8a86046562624f7ac7","modified":1660412121105},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-use-dead-letter-queue/5d2ae72753a8e90481.png","hash":"a44213e3d6885bc41da1be8a86046562624f7ac7","modified":1660412121104},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-use-dead-letter-queue/AG4T332}_NEUNPUAU(A_)U6.png","hash":"e73d36e2590575ee108efa029ff6c46b2fd71f39","modified":1660412121106},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-use-dead-letter-queue/A51]5T0]5(4`@P{}[06(%~Q.png","hash":"5ca3d7f4d865069533bbc95798635789e71ea547","modified":1660412121105},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-use-dead-letter-queue/[@YD9OX4WP)E9$ME_7`Z]NB.png","hash":"cc7fc5a0227d754d63bb2b3c8aac475baf6bc522","modified":1660412121107},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-use-delay-queue/$QT%QELKW@$DM92E@ZNA647.png","hash":"ccc7358da110b58f3dc0bf4abb63277d9d4c719e","modified":1660412121122},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-use-delay-queue/1@J8$IFWP3]K{)U]{E~7V{1.png","hash":"ce55dff0b4e3ac2be4f95327b567b90e0084a3bf","modified":1660412121122},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-use-delay-queue/LH`~)W5TPAA`OB6`5UH@FIB.png","hash":"e915fd31ab9850bc003fcb6b790d86004ad08a92","modified":1660412121123},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-use-delay-queue/8Q$8RRCK~N@S]1@71KPJ]NC.png","hash":"a58c4780b913e910b6f41ae0b78779e05fbc7700","modified":1660412121123},{"_id":"themes/hexo-theme-matery/source/libs/dplayer/DPlayer.min.js","hash":"82276be41d2001e820020a219b90ad5b026302d1","modified":1660412121199},{"_id":"themes/hexo-theme-matery/source/libs/gitment/gitment.js","hash":"5a13983930b019450e4fe01a407c64b3dd316be4","modified":1660412121206},{"_id":"themes/hexo-theme-matery/source/libs/jquery/jquery.min.js","hash":"a8927ac2830b2fdd4a729eb0eb7f80923539ceb9","modified":1660412121208},{"_id":"themes/hexo-theme-matery/source/libs/valine/Valine.min.js","hash":"d6c03e8c3e547b5f48878081d10559b80f626948","modified":1660412121219},{"_id":"themes/hexo-theme-matery/source/medias/banner/0.jpg","hash":"69ec96cd9b4bc3aa631adc9da61353f50c39f031","modified":1660412121222},{"_id":"themes/hexo-theme-matery/source/medias/banner/2.jpg","hash":"39fb2535460ce66cc0b34e07ffb9411db1405f09","modified":1660412121224},{"_id":"themes/hexo-theme-matery/source/medias/banner/3.jpg","hash":"4ac047e92d0363b1a61ab756aca6dac13fb77494","modified":1660412121225},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/0.jpg","hash":"1c3300f029fc85d6dda6fa4f1d699551034cdaf7","modified":1660412121230},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/1.jpg","hash":"684ae89de8cb7acefae19f5aee6c612037c46393","modified":1660412121230},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/11.jpg","hash":"f55972ce7175684f2b11c3c9fc2b5b14bccbfae8","modified":1660412121231},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/12.jpg","hash":"8a4b2e7d92ae95c3b0c921db23c35aa9a41a7d58","modified":1660412121232},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/14.jpg","hash":"38e11221406785bcd93aa9cd23e568e164630ef1","modified":1660412121233},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/17.jpg","hash":"42d47903551ee81885c1386022982cae165841c5","modified":1660412121234},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/18.jpg","hash":"64829272ec85bb819d55ff89e5b5fd6f64aa436b","modified":1660412121235},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/19.jpg","hash":"eb250906fdbc0c408f42ae9933725bc1a05d79fb","modified":1660412121235},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/20.jpg","hash":"3b11f9b461168d907073f793190865fe621a8573","modified":1660412121236},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/4.jpg","hash":"e06c47de27619984be9d5d02947f8370a432dfea","modified":1660412121239},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/6.jpg","hash":"c8f2aa4bbb041158b4e73733a341e6a77c8583f7","modified":1660412121240},{"_id":"themes/hexo-theme-matery/source/medias/featureimages/9.jpg","hash":"b956a2291a04b2132366b53666cf34858b8bdb1f","modified":1660412121241},{"_id":"source/_posts/best-practice/how-to-retry-elegantly/1565529015677.png","hash":"7894b5cf7ccdfb4b3c9b96c8cf03e3511a6d457c","modified":1660412120720},{"_id":"source/_posts/conclusion/2020-conclusion-slim/12.jpeg","hash":"113197f7b1c87e761f67006fe9a90e29911f0904","modified":1660412120750},{"_id":"source/_posts/conclusion/2020-conclusion-slim/13.jpeg","hash":"461e305796809248dff97f2dc8be1d17e472544e","modified":1660412120750},{"_id":"source/_posts/conclusion/2020-conclusion-slim/16.jpeg","hash":"cb5eee9b6a8c1526915e6032bc60072d27a83415","modified":1660412120764},{"_id":"source/_posts/conclusion/2020-conclusion-slim/17.jpeg","hash":"8bad89c62fb379cda243f4ccba3649c09dca72d7","modified":1660412120765},{"_id":"source/_posts/conclusion/2020-conclusion-slim/18.jpeg","hash":"d09c6ebc9b9df0f0ea909a7e2188b9da94cee86f","modified":1660412120765},{"_id":"source/_posts/conclusion/2020-conclusion-slim/2.jpg","hash":"ccb5c3e5153e305ef3d70b6c97ee4110cc7a044c","modified":1660412120769},{"_id":"source/_posts/conclusion/2020-conclusion-slim/21.jpeg","hash":"6e5599bedc3ea7499479ec795949932d9a9ebf5f","modified":1660412120780},{"_id":"source/_posts/conclusion/2020-conclusion-slim/22.jpeg","hash":"d03410dea44133bf0ea0cd99fb57dea4cc77395f","modified":1660412120781},{"_id":"source/_posts/conclusion/2020-conclusion-slim/29.jpeg","hash":"6e37bf58a3fb1a73d2ae35515be3b645b3be9785","modified":1660412120788},{"_id":"source/_posts/conclusion/2020-conclusion-slim/3.jpeg","hash":"218138a2d00ebbaf4504d51f744ca968dfe961ba","modified":1660412120789},{"_id":"source/_posts/conclusion/2020-conclusion-slim/30.jpeg","hash":"a20447796551ccae15ae86bce11cc75796c54257","modified":1660412120790},{"_id":"source/_posts/conclusion/2020-conclusion-slim/7.jpeg","hash":"cd9e632484d18dab4b2d39ac35737a33b389f5a7","modified":1660412120842},{"_id":"source/_posts/conclusion/2020-conclusion-slim/9.jpeg","hash":"8a01dde7b0f028dfb86d5e41fd19bbe138831728","modified":1660412120843},{"_id":"source/_posts/data-analysis/r-study-install/13.png","hash":"c9cc7f8f452e4f189ae78673297689bc95d9d4aa","modified":1660412120850},{"_id":"source/_posts/data-analysis/r-study-install/3.png","hash":"73f5e04dfcd1844f83dc277249bd03e6d83461c7","modified":1660412120856},{"_id":"source/_posts/data-analysis/r-study-install/9.png","hash":"945fad9f56d3a051d085c6e74a695f505907e867","modified":1660412120861},{"_id":"source/_posts/hexo/hexo-start/hexo-12.jpg","hash":"5766686c2f3da4e2cb840ae6b48a575a0ee264da","modified":1660412120864},{"_id":"source/_posts/hexo/hexo-start/hexo-13.jpg","hash":"dfb043214d16fa5374c4aa9f201d7878a016a623","modified":1660412120864},{"_id":"source/_posts/hexo/hexo-start/hexo-19.jpg","hash":"88362d043eb93ac285a839ecb8ba60dbeb754f73","modified":1660412120867},{"_id":"source/_posts/hexo/hexo-start/hexo-6.jpg","hash":"395d28d979a8ea73ea69b077c577a9d447ae1308","modified":1660412120874},{"_id":"source/_posts/hexo/hexo-start/hexo-8.jpg","hash":"7dd52e6bec2f1512d20e35a53d5ceefd74a6c787","modified":1660412120875},{"_id":"source/_posts/hexo/hexo-theme/hexo-theme-3.jpg","hash":"77f12a53ba4cd2a8f24b18cd6665e4d5eb8b8677","modified":1660412120878},{"_id":"source/_posts/picture/go-draw-word-in-pic/gilmer-heavy.ttf","hash":"c81ab4019c9acf24177b851c38898d587d544ca5","modified":1660412120923},{"_id":"source/_posts/picture/go-draw-word-in-pic2/5.png","hash":"adb099539b527b7f327f693a722d1cc4e7262fb5","modified":1660412120962},{"_id":"source/_posts/picture/go-draw-word-in-pic2/gilmer-heavy.ttf","hash":"c81ab4019c9acf24177b851c38898d587d544ca5","modified":1660412121032},{"_id":"source/_posts/picture/go-wx-pic-generator/2.png","hash":"312f8c15e07af6df8504a443f203315a910d5ac0","modified":1660412121083},{"_id":"source/_posts/picture/go-wx-pic-generator/5.jpg","hash":"e5009707d2f0b0e5b3baf151fad04bf3d3be5859","modified":1660412121088},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-use-dead-letter-queue/TIM20190714173105.png","hash":"b883a4fd592787e1c1b0e1e1b55c7ec4ea19736e","modified":1660412121106},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-use-dead-letter-queue/carbon (1).png","hash":"cd15c9d6ff045f4c8d412e7d760402d2d1a64633","modified":1660412121108},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-use-delay-queue/carbon.png","hash":"ef6a820e4d80e850e0e03786262abfcfe8fd82f1","modified":1660412121161},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-use-delay-queue/ 2019-07-28 6.04.42.png","hash":"8bcc45818f1d822c2671ed984fa293814a874036","modified":1660412121162},{"_id":"themes/hexo-theme-matery/source/libs/awesome/webfonts/fa-regular-400.eot","hash":"439c8afd3373acb4a73135a34e220464a89cd5e2","modified":1660412121185},{"_id":"themes/hexo-theme-matery/source/libs/awesome/webfonts/fa-regular-400.ttf","hash":"0f4bd02942a54a6b3200d9078adff88c2812e751","modified":1660412121187},{"_id":"themes/hexo-theme-matery/source/libs/awesome/webfonts/fa-regular-400.woff","hash":"59439d3ad31d856d78ec3e2bd9f1eafa2c7a581c","modified":1660412121187},{"_id":"themes/hexo-theme-matery/source/libs/awesome/webfonts/fa-regular-400.woff2","hash":"f6f653b4ea8fc487bdb590d39d5a726258a55f40","modified":1660412121187},{"_id":"themes/hexo-theme-matery/source/libs/gitalk/gitalk.min.js","hash":"f474cbab17f020c9b6040cb6594ac71d3b33b969","modified":1661140587541},{"_id":"themes/hexo-theme-matery/source/libs/lightGallery/css/lightgallery.min.css","hash":"1b7227237f9785c66062a4811508916518e4132c","modified":1660412121209},{"_id":"themes/hexo-theme-matery/source/libs/lightGallery/fonts/lg.eot","hash":"54caf05a81e33d7bf04f2e420736ce6f1de5f936","modified":1660412121209},{"_id":"themes/hexo-theme-matery/source/libs/lightGallery/fonts/lg.svg","hash":"67d261ac428761389c895e1da73664e633e14a72","modified":1660412121210},{"_id":"themes/hexo-theme-matery/source/libs/lightGallery/fonts/lg.woff","hash":"3048de344dd5cad4624e0127e58eaae4b576f574","modified":1660412121210},{"_id":"themes/hexo-theme-matery/source/libs/lightGallery/fonts/lg.ttf","hash":"f6421c0c397311ae09f9257aa58bcd5e9720f493","modified":1660412121210},{"_id":"themes/hexo-theme-matery/source/libs/lightGallery/img/loading.gif","hash":"15a76af2739482d8de7354abc6d8dc4fca8d145e","modified":1660412121210},{"_id":"themes/hexo-theme-matery/source/libs/lightGallery/img/video-play.png","hash":"2962e03ddbe04d7e201a5acccac531a2bbccddfc","modified":1660412121211},{"_id":"themes/hexo-theme-matery/source/libs/lightGallery/img/youtube-play.png","hash":"f8d11384d33b7a79ee2ba8d522844f14d5067a80","modified":1660412121211},{"_id":"themes/hexo-theme-matery/source/libs/lightGallery/img/vimeo-play.png","hash":"9b72fc0f86a01467ed0b68c9cc4d604ec316d517","modified":1660412121211},{"_id":"themes/hexo-theme-matery/source/libs/lightGallery/js/lightgallery-all.min.js","hash":"f8cd48e1fff82ecd54a7ce3e69de8dba7c92d113","modified":1660412121212},{"_id":"themes/hexo-theme-matery/source/libs/materialize/materialize.min.css","hash":"30351cf15f5f2325275d7e0754afdef011f4b830","modified":1660412121213},{"_id":"themes/hexo-theme-matery/source/libs/materialize/materialize.min.js","hash":"33969d4c44ba0cb0aef851f258ba35845e5d8680","modified":1661141845349},{"_id":"themes/hexo-theme-matery/source/libs/share/css/share.min.css","hash":"7126de5cec8371e580b7b1f22512da0985cc39e5","modified":1660412121216},{"_id":"themes/hexo-theme-matery/source/libs/share/fonts/iconfont.eot","hash":"00ff749c8e202401190cc98d56087cdda716abe4","modified":1660412121216},{"_id":"themes/hexo-theme-matery/source/libs/share/fonts/iconfont.svg","hash":"1d56c9d5db0273f07c43cc1397e440f98ba7827a","modified":1660412121216},{"_id":"themes/hexo-theme-matery/source/libs/share/fonts/iconfont.ttf","hash":"afd898f59d363887418669520b24d175f966a083","modified":1660412121217},{"_id":"themes/hexo-theme-matery/source/libs/share/fonts/iconfont.woff","hash":"2e3fce1dcfbd6e2114e7bfbeaf72d3c62e15a1bd","modified":1660412121217},{"_id":"themes/hexo-theme-matery/source/libs/share/js/jquery.share.min.js","hash":"de34668d902ec082d17ddb6dd7ad24255fb547c5","modified":1660412121217},{"_id":"themes/hexo-theme-matery/source/libs/share/js/social-share.min.js","hash":"ba635a17a9d9d132369f9fe4b1fbcaf001ea6ac9","modified":1660412121218},{"_id":"themes/hexo-theme-matery/source/libs/valine/av-min.js","hash":"9cb4babc20eb8fb5a86c4b0cc894fdb0f3cd9534","modified":1660412121220},{"_id":"themes/hexo-theme-matery/source/medias/banner/1.jpg","hash":"ab122a36998a4f62a61e61a4fc5e00248113413b","modified":1660412121223},{"_id":"themes/hexo-theme-matery/source/medias/banner/5.jpg","hash":"852418f4f09e796e12bc3bab7a1488d3f37d6486","modified":1660412121227},{"_id":"themes/hexo-theme-matery/source/medias/banner/6.jpg","hash":"ed7282cc129c4ff9f322d2f2897fb4aac5c48589","modified":1660412121228},{"_id":"source/_posts/conclusion/2020-conclusion-slim/11.jpeg","hash":"829b147569ec0847bb077b51c8c675d2e8b31f94","modified":1660412120749},{"_id":"source/_posts/conclusion/2020-conclusion-slim/14.jpeg","hash":"52cf9375e1fe8d3be4108946d78632d8f21869ce","modified":1660412120751},{"_id":"source/_posts/conclusion/2020-conclusion-slim/24.jpeg","hash":"df8877da9544232e1d467873c6c0e05f35f83d00","modified":1660412120783},{"_id":"source/_posts/conclusion/2020-conclusion-slim/25.jpeg","hash":"a6a48a1e2ce38f622f9d0c482e6291bf501dacfd","modified":1660412120784},{"_id":"source/_posts/conclusion/2020-conclusion-slim/28.jpeg","hash":"773c409d6efe6dfc90cb16541472051a4590f284","modified":1660412120788},{"_id":"source/_posts/conclusion/2020-conclusion-slim/8.jpeg","hash":"3ae531ef8b7e27a8a81e38bdd57ef32bd0549a49","modified":1660412120842},{"_id":"source/_posts/data-analysis/r-study-install/12.png","hash":"492b571299cb018eba4c682d10c6d0f5a670f4b9","modified":1660412120850},{"_id":"source/_posts/data-analysis/r-study-install/15.png","hash":"65ffecc8dc3bcf92af300394f00fca6f2a1ec30f","modified":1660412120853},{"_id":"source/_posts/data-analysis/r-study-install/5.png","hash":"8fa494c3938cc34f701c33fde9733e1a9ca6e546","modified":1660412120858},{"_id":"source/_posts/hexo/hexo-start/hexo-1.jpg","hash":"30e047ba9bdff93812a0d16f122108ebd9138f00","modified":1660412120862},{"_id":"source/_posts/hexo/hexo-start/hexo-17.jpg","hash":"670cb5ad256015ca55a9b525a22ffa650cb3605b","modified":1660412120866},{"_id":"source/_posts/hexo/hexo-start/hexo-3.jpg","hash":"e499a867ba114e730b88768de27121c6d89fc2f7","modified":1660412120870},{"_id":"source/_posts/hexo/hexo-start/hexo-4.jpg","hash":"e0130876440e9cd8e6976cc61033197cea390128","modified":1660412120873},{"_id":"source/_posts/hexo/hexo-start/hexo-5.jpg","hash":"5024f7d9661f0d18be5bb48636285c2ee66154a9","modified":1660412120873},{"_id":"source/_posts/hexo/hexo-theme/hexo-theme-1.jpg","hash":"191f97dde9784818ffd14f08fb902baf76724393","modified":1660412120877},{"_id":"source/_posts/picture/go-basic-usage-of-gg-package/11.png","hash":"a3c2f6dfa125a67f837c0723cbaa826173c946c5","modified":1660412120909},{"_id":"source/_posts/picture/go-draw-word-in-pic/10.png","hash":"44a2973585e8f9a0c4a96d59c9120a50145949af","modified":1660412120920},{"_id":"source/_posts/picture/go-pic-rotate-use-gg-package/2.png","hash":"76c147cc611b6e1fd0d5a18c554da91b45a3d9ea","modified":1660412121070},{"_id":"source/_posts/java/introduction/java-environment-mac/10-jdk-mac.png","hash":"a058e42380742e3be7911c30ea4c54263f2e99e9","modified":1660412120882},{"_id":"source/_posts/java/introduction/java-environment-mac/13-jdk-mac.png","hash":"aa4d7a93b28afb3424a5c107724b07cb9cbeed3d","modified":1660412120883},{"_id":"source/_posts/java/introduction/java-environment-mac/12-jdk-mac.png","hash":"79b6a623b06142723ea9dc4981f3ef12ff3bcd75","modified":1660412120883},{"_id":"source/_posts/java/introduction/java-environment-mac/14-jdk-mac.png","hash":"4bc54995d9f778084a8b486634bc30793f1592f0","modified":1660412120883},{"_id":"source/_posts/java/introduction/java-environment-mac/16-jdk-mac.png","hash":"5451e575e4bf08b384335bb070bb46817edad5bd","modified":1660412120885},{"_id":"source/_posts/java/introduction/java-environment-mac/5-jdk-mac.png","hash":"b65be8a8b49518b8fc8ea4f1c1b7d1113352180c","modified":1660412120890},{"_id":"source/_posts/java/introduction/java-environment-mac/6-jdk-mac.png","hash":"cc0550022513036a612d666bab64f1876d703ec3","modified":1660412120890},{"_id":"source/_posts/java/introduction/java-environment-mac/7-jdk-mac.png","hash":"57310fc56a96be434f0ad69eb6387a82f54d0d5a","modified":1660412120891},{"_id":"source/_posts/java/introduction/java-environment-mac/8-jdk-mac.png","hash":"52eacf47993855414045b0719196da9001ccb153","modified":1660412120891},{"_id":"source/_posts/java/introduction/java-environment-mac/9-jdk-mac.png","hash":"1c9dbad3045f234695be69fb4c27c0cd53ab1918","modified":1660412120892},{"_id":"source/_posts/java/introduction/java-environment-windows/2-jdk-windows.png","hash":"4d1cb8168cde93a8aabef63c8d12a8ccb56a60e4","modified":1660412120893},{"_id":"source/_posts/java/introduction/java-environment-windows/3-jdk-windows.png","hash":"2a89504a729c391003e94d74941aeada3fde7e4a","modified":1660412120893},{"_id":"source/_posts/java/introduction/java-environment-windows/4-jdk-windows.png","hash":"155d9ca099b6138a5f3c2df3b826f6ce972d847a","modified":1660412120893},{"_id":"source/_posts/java/introduction/java-environment-windows/5-jdk-windows.png","hash":"ac4f6a18554f2d1aae972e1bf6737dd60551613d","modified":1660412120893},{"_id":"source/_posts/java/introduction/java-environment-windows/6-jdk-windows.png","hash":"f26f02913932acf206e345b96a2749c22d68a7c1","modified":1660412120894},{"_id":"source/_posts/java/introduction/java-environment-windows/7-jdk-windows.png","hash":"79f375c43ac760ce5a88aef12df9e788494f0643","modified":1660412120894},{"_id":"source/_posts/java/introduction/java-environment-windows/8-jdk-windows.png","hash":"884e1c6927bf1394dc9941de017deb3b9901daeb","modified":1660412120894},{"_id":"source/_posts/java/introduction/java-environment-windows/9-jdk-windows.png","hash":"8defa728fac888e8203a5e6151596c5ce15280d3","modified":1660412120895},{"_id":"source/_posts/java/introduction/java-ide/java-ide-3.png","hash":"5616c391ba4e9a1341b4c6213758924b9e8124d1","modified":1660412120901},{"_id":"source/_posts/java/introduction/java-ide/java-ide-5.png","hash":"627cfbad99d15a6962df90269eb9df896a6b6021","modified":1660412120902},{"_id":"source/_posts/java/introduction/java-ide/java-ide-6.png","hash":"bc4523f962ca5301e062c864166cf4cc2dfd6f34","modified":1660412120903},{"_id":"source/_posts/java/introduction/java-ide/java-ide-7.png","hash":"db6fcb1e3350c32db0a5ad41400ee7e22023eed1","modified":1660412120903},{"_id":"source/_posts/java/introduction/java-ide/java-ide-8.png","hash":"311e7f7643a2facb45dc3165c938af1bd84b28b7","modified":1660412120903},{"_id":"source/_posts/java/introduction/java-ide/java-ide-9.png","hash":"b7cb86602219d3609159f856c4449b7b85ae0aac","modified":1660412120904},{"_id":"source/_posts/java/introduction/java-simple-example/java-simple-example-1.png","hash":"7be12cd9b902847ed3ca8ce7a6f06139103f1180","modified":1660412120904},{"_id":"source/_posts/java/introduction/java-simple-example/java-simple-example-2.png","hash":"404e3de6764fab8a109a7efceabfb4bc6942fb30","modified":1660412120905},{"_id":"source/_posts/java/introduction/java-simple-example/java-simple-example-3.png","hash":"9b42950df71c6cb651d76dec741a4549e4855fd5","modified":1660412120905},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-use-dead-letter-queue/carbon (4).png","hash":"e5b254e80ab30fa1dc22b5adef3df8635a6529b7","modified":1660412121113},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-use-dead-letter-queue/carbon (5).png","hash":"730d0bf71a637f49ae3ebc6288ed396faa897895","modified":1660412121114},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-use-delay-queue/carbon (1).png","hash":"db81014ac61e04c8cf3122eaf0874e94a9388926","modified":1660412121124},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-use-delay-queue/carbon (13).png","hash":"e82144d9f6ca0118a9394672143cc007425e6374","modified":1660412121130},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-use-delay-queue/carbon (12).png","hash":"9778f24c6fcaf0c3c70f43bbbb37435e4f14ce26","modified":1660412121130},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-use-delay-queue/carbon (14).png","hash":"b09141ab5024ff50de44595de052ec027256912b","modified":1660412121132},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-use-delay-queue/carbon (8).png","hash":"34e2c1289e270d30c1d29cc347e3739b91e504ae","modified":1660412121158},{"_id":"themes/hexo-theme-matery/source/libs/awesome/css/all.css","hash":"6390d0a6e6211ebbd68b49759b4dec8b2a9f04c9","modified":1660412121177},{"_id":"themes/hexo-theme-matery/source/libs/awesome/webfonts/fa-brands-400.eot","hash":"22f9e7d5226408eb2d0a11e118257a3ca22b8670","modified":1660412121179},{"_id":"themes/hexo-theme-matery/source/libs/awesome/webfonts/fa-brands-400.woff","hash":"18838f5260317da3c5ed29bf844ac8a4f7ad0529","modified":1660412121185},{"_id":"themes/hexo-theme-matery/source/libs/awesome/webfonts/fa-brands-400.ttf","hash":"91cbeeaceb644a971241c08362898599d6d968ce","modified":1660412121184},{"_id":"themes/hexo-theme-matery/source/libs/awesome/webfonts/fa-brands-400.woff2","hash":"a46bd47ff0a90b812aafafda587d095cdb844271","modified":1660412121185},{"_id":"themes/hexo-theme-matery/source/libs/awesome/webfonts/fa-solid-900.woff","hash":"92803b8753ceda573c6906774677c5a7081d2fbb","modified":1660412121195},{"_id":"themes/hexo-theme-matery/source/libs/awesome/webfonts/fa-solid-900.woff2","hash":"9c081b88b106c6c04ecb895ba7ba7d3dcb3b55ac","modified":1660412121196},{"_id":"source/_posts/conclusion/2020-conclusion-slim/23.jpeg","hash":"5f3ae7df90d23985e44762e9c3fd17c60bb9d425","modified":1660412120782},{"_id":"source/_posts/conclusion/2020-conclusion-slim/26.jpeg","hash":"ed8c017ba1ee34fff3c3dbc33c26036348fd3a09","modified":1660412120786},{"_id":"source/_posts/data-analysis/r-study-install/14.png","hash":"ff475d130dcdd5078a766a2f79ee6930a6ad8728","modified":1660412120852},{"_id":"source/_posts/data-analysis/r-study-install/2.png","hash":"ef8d06488b29b9e94529e8f57e8ac4ea2d12aa2a","modified":1660412120855},{"_id":"source/_posts/data-analysis/r-study-install/4.png","hash":"dea2d527bfbadb78276fe0a40b72c669b42c99b2","modified":1660412120857},{"_id":"source/_posts/data-analysis/r-study-install/6.png","hash":"6cbcd1b88932f23dfc9bdb3afd00fd2df948fb9e","modified":1660412120859},{"_id":"source/_posts/hexo/hexo-start/hexo-2.jpg","hash":"a2ea1d73f8a2bbc738d29204a9ffc0dc9f81c0a8","modified":1660412120868},{"_id":"source/_posts/picture/go-basic-usage-of-gg-package/1.png","hash":"2a37213f95eaefa8754b3ebad3af73ce09f2b3f0","modified":1660412120908},{"_id":"source/_posts/picture/go-pic-rotate-use-gg-package/3.png","hash":"6c9809d5abc36de5a9bc052d1b298a1fd3cf99af","modified":1660412121071},{"_id":"source/_posts/picture/go-pic-rotate-use-gg-package/6.png","hash":"b8d7212f6eb7e19cfc9740b453f3a94fbde47b94","modified":1660412121074},{"_id":"source/_posts/picture/go-pic-rotate-use-gg-package/5.png","hash":"54a2299f13312c3c58598d5da5c9fee5645204b0","modified":1660412121073},{"_id":"source/_posts/java/introduction/java-environment-mac/11-jdk-mac.png","hash":"09153cd9a58d2ea84f64bc4105fee92a0691c221","modified":1660412120882},{"_id":"source/_posts/java/introduction/java-environment-mac/15-jdk-mac.png","hash":"115d45c94471ff20db11d361a5111108181273f9","modified":1660412120884},{"_id":"source/_posts/java/introduction/java-environment-windows/1-jdk-windows.png","hash":"8f643602c33a1a98b96e46349952dea4dae4981b","modified":1660412120892},{"_id":"source/_posts/java/introduction/java-ide/java-ide-4.png","hash":"41e84a42900e891648f3b37130a080606f531181","modified":1660412120902},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-use-dead-letter-queue/carbon (3).png","hash":"75f1f59c807ce3bd52ed890ba8949bddbfad2ae1","modified":1660412121112},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-use-delay-queue/carbon (15).png","hash":"ea8b4fa0316006b0925623cabcfb0cfdea7ea571","modified":1660412121133},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-use-delay-queue/carbon (4).png","hash":"50850273536b61a9ee32e3e5474ad5937addefee","modified":1660412121147},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-use-delay-queue/carbon (5).png","hash":"95202f707630c282c6d8e412a4fbe6cce96f2149","modified":1660412121148},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-use-delay-queue/carbon (9).png","hash":"09e5820fe1ed84d9f74187bd5371c9682a6d2175","modified":1660412121160},{"_id":"themes/hexo-theme-matery/source/libs/awesome/webfonts/fa-regular-400.svg","hash":"3d3a49445343d80f3b553e3e3425b9a7bd49acaf","modified":1660412121186},{"_id":"themes/hexo-theme-matery/source/libs/awesome/webfonts/fa-solid-900.eot","hash":"cab8e84ae5682d1d556e234df9c790985888def8","modified":1660412121189},{"_id":"themes/hexo-theme-matery/source/libs/awesome/webfonts/fa-solid-900.ttf","hash":"9521ed12274c2cbc910cea77657116fcf6545da3","modified":1660412121195},{"_id":"themes/hexo-theme-matery/source/medias/banner/4.jpg","hash":"e5ac5033678afa9d69edffe9a61004f836cb5734","modified":1660412121227},{"_id":"source/_posts/conclusion/2020-conclusion-slim/27.jpeg","hash":"af40212fcd69f4cb51736f5f69fbb0ce4fcf264c","modified":1660412120787},{"_id":"source/_posts/conclusion/2020-conclusion-slim/32.png","hash":"8aee71da0fe7a0e7238270ae23c7ec51079b6607","modified":1660412120805},{"_id":"source/_posts/picture/go-pic-rotate-use-gg-package/7.png","hash":"553115d70fc769bdc04feceec50b643b8cf899cf","modified":1660412121076},{"_id":"source/_posts/java/introduction/java-environment-mac/2-jdk-mac.png","hash":"bef4170c81af99efbdb89dafa2094fd127648889","modified":1660412120886},{"_id":"source/_posts/java/introduction/java-started/java-started-1.png","hash":"83c77b655ea24647ff6c55c830924baa4e90b845","modified":1660412120906},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-use-delay-queue/carbon (10).png","hash":"b5c24901462f097ec10a1ab3426510443fe7ebbf","modified":1660412121126},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-use-delay-queue/carbon (3).png","hash":"782de3005a2ef3ea1ade98cf9a2f67f9f2cdad21","modified":1660412121145},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-use-delay-queue/carbon (6).png","hash":"6628aa12dcd7366d08b09075654492c3e993e8e0","modified":1660412121151},{"_id":"themes/hexo-theme-matery/source/medias/reward/wechat.png","hash":"d9391db9000c417541784b30ee9c5aa5a3fbbcca","modified":1660412121246},{"_id":"source/_posts/picture/go-wx-pic-generator/11.png","hash":"698a698c40fe8da7a071b3a1a474b567775fb965","modified":1660412121083},{"_id":"source/_posts/java/introduction/java-environment-mac/3-jdk-mac.png","hash":"0b4bb944db5070a12b706f7ffaf451f5d558cfd9","modified":1660412120887},{"_id":"source/_posts/java/introduction/java-ide/java-ide-2.png","hash":"9e81a827e3e5793b7f262df0eda5de1746c65899","modified":1660412120901},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-use-dead-letter-queue/carbon (2).png","hash":"9b4a6e3298f1f24ed62938cfaba39d9a91eefa7d","modified":1660412121110},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-use-delay-queue/carbon (11).png","hash":"7812d9f9dfef253124967a04bd6eb9ba59f601af","modified":1660412121129},{"_id":"source/_posts/data-analysis/r-study-install/11.png","hash":"091618e7f7d7929dc83cd1002c94cf6d1eab3144","modified":1660412120849},{"_id":"source/_posts/hexo/hexo-start/hexo-9.jpg","hash":"2bcd82d840a43571fb0dee47de61dd041de6d513","modified":1660412120876},{"_id":"source/_posts/java/introduction/java-environment-mac/4-jdk-mac.png","hash":"df019bad4cac078997c8a067a59d69be97a34adc","modified":1660412120889},{"_id":"themes/hexo-theme-matery/source/medias/reward/alipay.jpg","hash":"4ce33e80d3ec905650ac9524c516440ca94ecdfa","modified":1660412121244},{"_id":"source/_posts/conclusion/2020-conclusion-slim/19.jpeg","hash":"ea00b6715ec6c38e5e2fe7b3bdd4697f0b6078c5","modified":1660412120768},{"_id":"source/_posts/data-analysis/r-study-install/1043143-20200727074006066-1700986643.png","hash":"c759230eef2baa7ae3b60ce7bbc92368c3e013e8","modified":1660412120846},{"_id":"source/_posts/picture/go-wx-pic-generator/4.jpg","hash":"f0f93d76743e2d654bc9e7cbd6cdca1424c7e539","modified":1660412121087},{"_id":"source/_posts/picture/go-wx-pic-generator/6.jpg","hash":"4856009392ed20baac352f70e4acb0b567ac756b","modified":1660412121090},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-use-delay-queue/carbon (7).png","hash":"6c8acab6bfe5a1f33d4b2f97d39c716365ca7979","modified":1660412121157},{"_id":"themes/hexo-theme-matery/source/libs/echarts/echarts.min.js","hash":"8789b5e4daf0029a6c88f238f10e54d01c4fce82","modified":1660412121203},{"_id":"source/_posts/picture/go-wx-pic-generator/1.png","hash":"875f57e3a655a4a632bbfc322398aa967a0c8f70","modified":1660412121080},{"_id":"source/_posts/java/introduction/java-environment-mac/1-jdk-mac.png","hash":"4acf222e3a5d9728d358cd16a2f0d4300ae6700e","modified":1660412120881},{"_id":"source/_posts/java/introduction/java-ide/java-ide-1.png","hash":"ab6bb5ebfc5b292263824a72ba6eeca819f31f14","modified":1660412120899},{"_id":"themes/hexo-theme-matery/source/libs/awesome/webfonts/fa-brands-400.svg","hash":"5e2d2a159294576bea69cc3360efb5ffe110ab2d","modified":1660412121183},{"_id":"themes/hexo-theme-matery/source/libs/awesome/webfonts/fa-solid-900.svg","hash":"7da88b19e1486f8c968d3cf5ab3f194f01ea17fd","modified":1660412121193},{"_id":"source/_posts/picture/go-basic-usage-of-gg-package/2.png","hash":"a61ad75a1a8142fbb010146e04cdd06527e6344e","modified":1660412120915},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-use-dead-letter-queue/carbon.png","hash":"3e435114b36dc401f60e0abbe3a3e220cdb51017","modified":1660412121121},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-use-delay-queue/carbon (2).png","hash":"5f7e2e15ee7a80e5b620b909a10f8d25c56e5cca","modified":1660412121142},{"_id":"source/_posts/conclusion/2020-conclusion-slim/10.png","hash":"35eb145d331b084141ffe3f7310944b9877f10bb","modified":1660412120747},{"_id":"source/_posts/conclusion/2020-conclusion-slim/20.png","hash":"2efae28fd7e0988fe85fd50e8465cd6fd023726a","modified":1660412120779},{"_id":"source/_posts/conclusion/2020-conclusion-slim/4.png","hash":"fd046d86fc1c3bd4d57ee79743e54e708883e35a","modified":1660412120815},{"_id":"source/_posts/picture/go-wx-pic-generator/7.png","hash":"f20f84e8dc82ed15cffdd1e04428c290558848c7","modified":1660412121095},{"_id":"source/_posts/picture/go-wx-pic-generator/9.png","hash":"e7cb186067731456a88a8efe52e44349786f74bd","modified":1660412121099},{"_id":"source/_posts/conclusion/2020-conclusion-slim/6.png","hash":"e90cbb719271f7d80bbd6909820f8682a5de5a72","modified":1660412120842},{"_id":"source/_posts/conclusion/2020-conclusion-slim/15.png","hash":"3a1490bbc6a9a6bf6bee3c33237b2732b82e8d52","modified":1660412120763},{"_id":"source/_posts/conclusion/2020-conclusion-slim/31.png","hash":"8f133c615c4113a0a690f37a62b18fcb89d16aef","modified":1660412120802},{"_id":"source/_posts/conclusion/2020-conclusion-slim/1.jpg","hash":"af186c836ce5d25dbea309389106504532065d82","modified":1660412120737},{"_id":"source/_posts/conclusion/2020-conclusion-slim/5.png","hash":"2d2e9f6dbe38e9e475a2aafc145b1452b8de781f","modified":1660412120830},{"_id":"source/_posts/picture/go-draw-word-in-pic/.ttf","hash":"8e153ec0f6ccb6ea99f4e6e1e54747e9fe094d0a","modified":1660412120959},{"_id":"source/_posts/picture/go-draw-word-in-pic2/.ttf","hash":"8e153ec0f6ccb6ea99f4e6e1e54747e9fe094d0a","modified":1660412121068},{"_id":"source/_posts/picture/go-draw-word-in-pic2/SourceHanSansCN-Bold-2.otf","hash":"de83272324b51764b0fd5e642af63bb9d10d1055","modified":1660412121030},{"_id":"public/atom.xml","hash":"feb8334dd17fbb9edb34478a7502719f0a0a5dae","modified":1661159744611},{"_id":"public/search.xml","hash":"0dfe67d6f09f00d0f21c0bea92258cca41337c84","modified":1661159744611},{"_id":"public/categories/index.html","hash":"ffdb8ab0de14b39d7455e41a93d230c1dd0b557f","modified":1661159744611},{"_id":"public/about/index.html","hash":"312349fb34d8e1e504f3c7d0b3bcda57ed1dc8ad","modified":1661159744611},{"_id":"public/friends/index.html","hash":"de9001eab353ecfc07e549a04128fbb3b7fc53e8","modified":1661159744611},{"_id":"public/contact/index.html","hash":"94f7398c133de54683f3724fcc37bfc050e7172e","modified":1661159744611},{"_id":"public/tags/index.html","hash":"d2afec4a84cdba87085c45b0625a62aa7e14d457","modified":1661159744611},{"_id":"public/2022/08/14/conclusion/2020-conclusion-working/index.html","hash":"85f0e9df625154ca09d65c5f227c158480fe8323","modified":1661159744611},{"_id":"public/2021/08/01/picture/go-wx-pic-generator/index.html","hash":"cb27e7da36c072f43ff6c4f1f1d916f75445e1c7","modified":1661159744611},{"_id":"public/2021/05/30/thoughts/what-is-your-answer/index.html","hash":"eb171bb3aca2d8b879e2074da384d15b01873389","modified":1661159744611},{"_id":"public/2021/02/17/conclusion/2020-conclusion-slim/index.html","hash":"6ec4abe1cf83283da8775db92a921025b096a73c","modified":1661159744611},{"_id":"public/2020/12/22/picture/go-draw-word-in-pic2/index.html","hash":"72a0e4bdd6aab4b2d734fd91cb723b74b8720e55","modified":1661159744611},{"_id":"public/2020/12/20/picture/go-draw-word-in-pic/index.html","hash":"1236274fd3892e98bbbecc9e935594124a63f3bd","modified":1661159744611},{"_id":"public/2020/12/16/picture/go-pic-rotate-use-gg-package/index.html","hash":"13112a97f042b65c6ada223c97d5fdcd2afda03c","modified":1661159744611},{"_id":"public/2020/11/29/picture/go-basic-usage-of-gg-package/index.html","hash":"800edfecae950ac175af04a6fd863353240f9a9c","modified":1661159744611},{"_id":"public/2020/11/28/data-analysis/r-study-basic-type/index.html","hash":"4f2b179bab1af97b37674e0f3b6065305cec8c16","modified":1661159744611},{"_id":"public/2020/11/28/data-analysis/r-study-install/index.html","hash":"c737c0c3d7b5e53a4d76df4cadd9c7dc7df4eaa1","modified":1661159744611},{"_id":"public/2020/11/01/thoughts/cogito-ergo-sum/index.html","hash":"b9792815631ee3df969f66ee2637bec356f504cd","modified":1661159744611},{"_id":"public/2020/05/31/thoughts/why-are-we-biased/index.html","hash":"7bf958a1f149f0e2c593967d4726f74b1eb40391","modified":1661159744611},{"_id":"public/2020/05/04/hexo/hexo-theme/index.html","hash":"8c74bd710e3723097bcd1cb9af6d966121fb2dc3","modified":1661159744611},{"_id":"public/2020/05/04/rabbitmq/rabbitmq-how-to-use-delay-queue/index.html","hash":"20131e8dbb9af9ab113660d4ebf8421e874ca9d8","modified":1661159744611},{"_id":"public/2020/05/04/rabbitmq/rabbitmq-how-to-use-dead-letter-queue/index.html","hash":"48c38fe9d6796dd34e5a01b86da8a443332fecf2","modified":1661159744611},{"_id":"public/2020/05/04/rabbitmq/rabbitmq-how-to-ensure-reliable-delivery-of-message2/index.html","hash":"bb159f186ad1b2483c7a66b2d071b9a62c663af5","modified":1661159744611},{"_id":"public/2020/05/04/rabbitmq/rabbitmq-how-to-ensure-reliable-delivery-of-message/index.html","hash":"f2e3d071a90874f7f1f60e99435b3bdd4acdede3","modified":1661159744611},{"_id":"public/2020/05/04/best-practice/how-to-retry-elegantly/index.html","hash":"8af04544a48b11b80cde3eeeda5021f9f0d7954b","modified":1661159744611},{"_id":"public/2020/05/04/java/basic/java-class/index.html","hash":"c6ba0afe7218a7e67520d3707eebadaef4f810aa","modified":1661159744611},{"_id":"public/2020/05/04/java/basic/java-variable/index.html","hash":"b0f0073acc45911274bbbe772beb5f70f366b00f","modified":1661159744611},{"_id":"public/2020/05/04/java/basic/java-simple-structure/index.html","hash":"e5603725a763668c468a033614f80b65895f210f","modified":1661159744611},{"_id":"public/2020/05/04/java/basic/java-package/index.html","hash":"94638484bd6feba8f5181021a1e43598fbfd7660","modified":1661159744611},{"_id":"public/2020/05/04/java/basic/java-basic/index.html","hash":"3c60dbfa1bc1cdebd1a35f6c22be786c26d3572d","modified":1661159744611},{"_id":"public/2020/05/03/hexo/hexo-config/index.html","hash":"8fb619b7b9da493ed58b14926779f02336283b16","modified":1661159744611},{"_id":"public/2020/05/02/hexo/hexo-start/index.html","hash":"eb4b3ff2b3b48fd1284f11fe78691500156ede0e","modified":1661159744611},{"_id":"public/2020/05/01/java/introduction/java-primer-conclusion/index.html","hash":"e7c1b8e8ff09b56d3ec410e9de51d24862bb9e95","modified":1661159744611},{"_id":"public/2020/05/01/java/introduction/java-simple-example/index.html","hash":"e0a56ef0fbde6c27bdd3b67abcd947fc16571b32","modified":1661159744611},{"_id":"public/2020/05/01/java/introduction/java-introduction/index.html","hash":"a3798a53c2bf76dd9e15205d479f48dcd566c406","modified":1661159744611},{"_id":"public/2020/05/01/java/introduction/java-ide/index.html","hash":"b1efdca3146c2446422e31dac0849b7fa7bf0906","modified":1661159744611},{"_id":"public/2020/05/01/java/introduction/java-environment-mac/index.html","hash":"7c84c2a627eedad0d331897d093b8c8db28a1b14","modified":1661159744611},{"_id":"public/2020/05/01/java/introduction/java-environment-windows/index.html","hash":"a82b3b3e75a3277b88dd122e399a92203d60a6d6","modified":1661159744611},{"_id":"public/index.html","hash":"2cf1e5d525167e1f5230d3c98a8a82a60a475dc2","modified":1661159744611},{"_id":"public/2020/05/01/java/introduction/java-environment/index.html","hash":"846344163d6d7f81356b1a41030c91d228bcf4df","modified":1661159744611},{"_id":"public/2020/05/01/java/introduction/java-started/index.html","hash":"cdd2bf2fa0db6433231205da461bf34246a5a67d","modified":1661159744611},{"_id":"public/page/2/index.html","hash":"6bfc9a51a9b4ea009643e85a37cfd1c88bad4e50","modified":1661159744611},{"_id":"public/archives/index.html","hash":"427500199519fabb970a999227b04a12be1952ce","modified":1661159744611},{"_id":"public/page/3/index.html","hash":"14ca0dc8e09b6abb791a479cfaa6db98d5bd2a6b","modified":1661159744611},{"_id":"public/archives/page/2/index.html","hash":"e1a735ae3384b5e66e45a8fee0fc365cdebe40b3","modified":1661159744611},{"_id":"public/archives/page/3/index.html","hash":"e0626561177f6ce9760257970b7299e5ec9303aa","modified":1661159744611},{"_id":"public/archives/2020/index.html","hash":"70faf0795a9a9f0f4dbf89ae5141ae93418f2faf","modified":1661159744611},{"_id":"public/archives/2020/page/2/index.html","hash":"5f0f5d18ec8ef8504639f9007c696facd844a6fb","modified":1661159744611},{"_id":"public/archives/2020/page/3/index.html","hash":"0795615c400df16940c473d0ee575477c4e151fe","modified":1661159744611},{"_id":"public/archives/2020/05/index.html","hash":"393b7f8db1d7ef16771aed6785e8485c086fc3f2","modified":1661159744611},{"_id":"public/archives/2020/05/page/2/index.html","hash":"861e85058e305354ceae00d2b477e791b36877cc","modified":1661159744611},{"_id":"public/archives/2020/11/index.html","hash":"f0c81f9a07bff9b5e5007044941fa2ab4c1e8cff","modified":1661159744611},{"_id":"public/archives/2020/12/index.html","hash":"7e846af419c2cb1bc6bcdb9b213040ede6407043","modified":1661159744611},{"_id":"public/archives/2021/index.html","hash":"68b3109c1b871052b59873b0ac4f491976821f15","modified":1661159744611},{"_id":"public/archives/2021/02/index.html","hash":"d024b9149f2e1f7b886089f304f40adf34f06793","modified":1661159744611},{"_id":"public/archives/2021/05/index.html","hash":"bbf767f9c44c6e76537bfe5ee74fdf45f0033ba2","modified":1661159744611},{"_id":"public/archives/2021/08/index.html","hash":"bbf9b54b2522691d60314e367ca27f76d933f77f","modified":1661159744611},{"_id":"public/archives/2022/index.html","hash":"da2168d34c185678683a2407b237a4f94ab5c9ec","modified":1661159744611},{"_id":"public/archives/2022/08/index.html","hash":"24aacf06438415301f297c4f7b174a13887b69fe","modified":1661159744611},{"_id":"public/categories/programming/index.html","hash":"c6370ba859665f7f4b9867ff7a082b993a304345","modified":1661159744611},{"_id":"public/categories/programming/page/2/index.html","hash":"e490c4e2bb312a0768786c8be81d4caa520845eb","modified":1661159744611},{"_id":"public/categories/programming/page/3/index.html","hash":"8c6cbc31f17f44f923751de4043cfe8735a1a1e6","modified":1661159744611},{"_id":"public/categories/life/index.html","hash":"b420024d5d2040ec3c6c1ca387296759ec5812b6","modified":1661159744611},{"_id":"public/categories/programming/data-analysis/index.html","hash":"11a9a5707b4f33e66fa7b5d6e65c884ce0bbf19f","modified":1661159744611},{"_id":"public/categories/programming/life/index.html","hash":"0b8e80c67692ff67123c0cec1d0f7c42d1bc9c90","modified":1661159744611},{"_id":"public/categories/life//index.html","hash":"bf5b9b56ca032aae56fd30164bcce8f98a928d67","modified":1661159744611},{"_id":"public/tags/best-practice/index.html","hash":"e287bf711c3105e0f6cf1d9f26fdaa7e3890fa4d","modified":1661159744611},{"_id":"public/tags/retry-gracefully/index.html","hash":"1d831f6c248dfb2c5d690031f9927004a10a236d","modified":1661159744611},{"_id":"public/tags/Spring/index.html","hash":"552c99e0414fdc559542bc99886fc77c39cdae65","modified":1661159744611},{"_id":"public/tags/yearly-conclusion/index.html","hash":"7f19ccd74204e1c08a09bdd7af286256d0c4b089","modified":1661159744611},{"_id":"public/tags/R/index.html","hash":"31f01abdd49658d4116cb30a33ec871c2c9e46f7","modified":1661159744611},{"_id":"public/tags/environment-building/index.html","hash":"20fca653e4d295d46e4e4e25ccccce4ef4adae59","modified":1661159744611},{"_id":"public/tags/Hexo/index.html","hash":"fb39a7aad7df0deb61f6632c97f38450fcca1e58","modified":1661159744611},{"_id":"public/tags/go/index.html","hash":"97d2f780b6068a0d89faa8fbdfd9579ecf044d9a","modified":1661159744611},{"_id":"public/tags/github-pages/index.html","hash":"e473978a3f19abae79ab6a5c7c3a28521b3aca6f","modified":1661159744611},{"_id":"public/tags/travis-ci/index.html","hash":"21d45127755ac45559f47879f91537460e17675d","modified":1661159744611},{"_id":"public/tags/RabbitMQ/index.html","hash":"9d74cca2841aac48c39982b924600d4fc6e99899","modified":1661159744611},{"_id":"public/tags/Thoughts/index.html","hash":"34eae9acc8c4d5d25a7a3bb7dd5fe8b0c1b5086b","modified":1661159744611},{"_id":"public/tags/DelayQueue/index.html","hash":"f3478ae0929d14803051a178364e93b80f5698fe","modified":1661159744611},{"_id":"public/tags/Java/index.html","hash":"6642b2ff14ba1843204b829299aabd2ba3402b04","modified":1661159744611},{"_id":"public/tags/Java/page/2/index.html","hash":"28a34b41ca3f9c4e342d06323f8892c12fb118b3","modified":1661159744611},{"_id":"public/tags/java-basic/index.html","hash":"f328c544e2f502f3270b41b4438c4a17a11d3d9e","modified":1661159744611},{"_id":"public/tags/java-beginning/index.html","hash":"bc516b3d5f35f7f40742f53e9365c1ed999cb95d","modified":1661159744611},{"_id":"public/favicon.png","hash":"774fee8c6d0be9dbb010b20f36c06848d06e3da0","modified":1661159744611},{"_id":"public/medias/avatar.jpg","hash":"ba479c0b93b89302b2c0f2c7abc4de9354ed1380","modified":1661159744611},{"_id":"public/medias/comment_bg.png","hash":"dfc93d24081884fbc58cab0f8fd19e77d31d6123","modified":1661159744611},{"_id":"public/medias/icp.png","hash":"27a96f31f7d0413c6ade6f40e06f021f501151c7","modified":1661159744611},{"_id":"public/medias/logo.png","hash":"d9095f5ea8719374d9d1ff020279426f5b2a1396","modified":1661159744611},{"_id":"public/medias/featureimages/10.jpg","hash":"98e7f6fd9c97d4de9044b6871ca08ebf14db11b9","modified":1661159744611},{"_id":"public/medias/featureimages/13.jpg","hash":"35a320174f8e316e3eadaec658024276b651c6e9","modified":1661159744611},{"_id":"public/medias/featureimages/15.jpg","hash":"da0fbee3b7bde1607eace377ddf834c0be99edfe","modified":1661159744611},{"_id":"public/medias/featureimages/16.jpg","hash":"97a829c4bc94f9d2929b20a1a9b798c57b9f7205","modified":1661159744611},{"_id":"public/medias/featureimages/2.jpg","hash":"4bba691cf71a517ecaeaf42afd3e8f8b31e346c1","modified":1661159744611},{"_id":"public/medias/featureimages/21.jpg","hash":"b26edb128bb0bf58b23fd2f014e9555e89a2ca3b","modified":1661159744611},{"_id":"public/medias/featureimages/22.jpg","hash":"754579747a3e99747d890fca3162f370b96a7941","modified":1661159744611},{"_id":"public/medias/featureimages/23.jpg","hash":"7d7f37da3fa7128343adac23866449eb2c6a549a","modified":1661159744611},{"_id":"public/medias/featureimages/3.jpg","hash":"6ec646c2a70f5f11edacf225c1477f2200a37a96","modified":1661159744611},{"_id":"public/medias/featureimages/5.jpg","hash":"41ca20129a37fedc573eec28dd7d7b9e5b09228a","modified":1661159744611},{"_id":"public/medias/featureimages/7.jpg","hash":"7975141cd64e875122c0ea33daaca1a06bf00b8e","modified":1661159744611},{"_id":"public/medias/featureimages/8.jpg","hash":"8e4b7186352085483ca1174c7c0800114c48df8b","modified":1661159744611},{"_id":"public/libs/awesome/webfonts/fa-regular-400.eot","hash":"439c8afd3373acb4a73135a34e220464a89cd5e2","modified":1661159744611},{"_id":"public/libs/awesome/webfonts/fa-regular-400.ttf","hash":"0f4bd02942a54a6b3200d9078adff88c2812e751","modified":1661159744611},{"_id":"public/libs/awesome/webfonts/fa-regular-400.woff","hash":"59439d3ad31d856d78ec3e2bd9f1eafa2c7a581c","modified":1661159744611},{"_id":"public/libs/awesome/webfonts/fa-regular-400.woff2","hash":"f6f653b4ea8fc487bdb590d39d5a726258a55f40","modified":1661159744611},{"_id":"public/libs/lightGallery/fonts/lg.eot","hash":"54caf05a81e33d7bf04f2e420736ce6f1de5f936","modified":1661159744611},{"_id":"public/libs/lightGallery/fonts/lg.svg","hash":"67d261ac428761389c895e1da73664e633e14a72","modified":1661159744611},{"_id":"public/libs/lightGallery/fonts/lg.woff","hash":"3048de344dd5cad4624e0127e58eaae4b576f574","modified":1661159744611},{"_id":"public/libs/lightGallery/fonts/lg.ttf","hash":"f6421c0c397311ae09f9257aa58bcd5e9720f493","modified":1661159744611},{"_id":"public/libs/lightGallery/img/loading.gif","hash":"15a76af2739482d8de7354abc6d8dc4fca8d145e","modified":1661159744611},{"_id":"public/libs/lightGallery/img/video-play.png","hash":"2962e03ddbe04d7e201a5acccac531a2bbccddfc","modified":1661159744611},{"_id":"public/libs/lightGallery/img/youtube-play.png","hash":"f8d11384d33b7a79ee2ba8d522844f14d5067a80","modified":1661159744611},{"_id":"public/libs/lightGallery/img/vimeo-play.png","hash":"9b72fc0f86a01467ed0b68c9cc4d604ec316d517","modified":1661159744611},{"_id":"public/libs/share/fonts/iconfont.eot","hash":"00ff749c8e202401190cc98d56087cdda716abe4","modified":1661159744611},{"_id":"public/libs/share/fonts/iconfont.svg","hash":"1d56c9d5db0273f07c43cc1397e440f98ba7827a","modified":1661159744611},{"_id":"public/libs/share/fonts/iconfont.ttf","hash":"afd898f59d363887418669520b24d175f966a083","modified":1661159744611},{"_id":"public/libs/share/fonts/iconfont.woff","hash":"2e3fce1dcfbd6e2114e7bfbeaf72d3c62e15a1bd","modified":1661159744611},{"_id":"public/2020/11/28/data-analysis/r-study-basic-type/1.png","hash":"e07719816e5244d13c9201cd922174cffeff18a7","modified":1661159744611},{"_id":"public/2020/05/04/hexo/hexo-theme/hexo-theme-2.jpg","hash":"db148a0a43ac9b6d3e2811a7be497c60e39757d3","modified":1661159744611},{"_id":"public/2020/05/04/rabbitmq/rabbitmq-how-to-ensure-reliable-delivery-of-message2/$2ER{ZD68TZW07[M5{$JZGL.png","hash":"58b529e4823b6fdc186b4cf5ffe8fc3882227d3f","modified":1661159744611},{"_id":"public/2020/05/04/rabbitmq/rabbitmq-how-to-ensure-reliable-delivery-of-message2/42P7LF)NXQ`0JIN0~~43]PE.png","hash":"b2bdaad6ee0264bf59383085da87f9ae9dddde39","modified":1661159744611},{"_id":"public/2020/05/04/rabbitmq/rabbitmq-how-to-ensure-reliable-delivery-of-message2/DTHP)NN0CQ28[@(HHY2R8{5.png","hash":"6f40fe3481cb6f04f4f2ef2cbc2b8ce9c8ae1d45","modified":1661159744611},{"_id":"public/2020/05/04/rabbitmq/rabbitmq-how-to-ensure-reliable-delivery-of-message/111.png.jpg","hash":"0e03633ffa9b61abf63dfdcff166af3666e035e3","modified":1661159744611},{"_id":"public/2020/05/04/rabbitmq/rabbitmq-how-to-ensure-reliable-delivery-of-message/20170716034945131.jpg","hash":"f0d2b33f828a8fb8b272a04f5edee0a77884d49d","modified":1661159744611},{"_id":"public/2020/05/04/rabbitmq/rabbitmq-how-to-ensure-reliable-delivery-of-message/5b65729e0001439305000294.jpg","hash":"508787c40c4334c10bc3b8ee1ff35642d9b66d62","modified":1661159744611},{"_id":"public/2020/05/04/rabbitmq/rabbitmq-how-to-ensure-reliable-delivery-of-message/u=1091165172,1855706818&fm=26&gp=0.jpg","hash":"0e18b8632c7fadda31f0cbec10ba6ae107e2ba6f","modified":1661159744611},{"_id":"public/2020/05/04/best-practice/how-to-retry-elegantly/EDaBTlbkyvbhmng.jpg","hash":"398a3bd4f74e6701ffee802e68707303dbb62f96","modified":1661159744611},{"_id":"public/2020/05/04/rabbitmq/rabbitmq-how-to-ensure-reliable-delivery-of-message/{6582FAF9-A46E-4239-810B-E1D6883ED070}.png.jpg","hash":"a8e0e3c465ac56a94fda7fc0f68238bdee767213","modified":1661159744611},{"_id":"public/2020/05/04/best-practice/how-to-retry-elegantly/GBvgTpbkyvbhlEB.jpg","hash":"ce85d0352cfd7704eb25580f879a485bdbd02f97","modified":1661159744611},{"_id":"public/2020/05/04/best-practice/how-to-retry-elegantly/IStGDBbkyvbhmow.jpg","hash":"b1c46a21dadae19e1b97fa9bf471192c61530735","modified":1661159744611},{"_id":"public/2020/05/04/best-practice/how-to-retry-elegantly/dtFxiMbkyvbhlzo.jpg","hash":"d2621edda28a9d2b9f5aaf498de1231ceefc8802","modified":1661159744611},{"_id":"public/medias/banner/0.jpg","hash":"69ec96cd9b4bc3aa631adc9da61353f50c39f031","modified":1661159744611},{"_id":"public/medias/banner/2.jpg","hash":"39fb2535460ce66cc0b34e07ffb9411db1405f09","modified":1661159744611},{"_id":"public/medias/featureimages/0.jpg","hash":"1c3300f029fc85d6dda6fa4f1d699551034cdaf7","modified":1661159744611},{"_id":"public/medias/banner/3.jpg","hash":"4ac047e92d0363b1a61ab756aca6dac13fb77494","modified":1661159744611},{"_id":"public/medias/featureimages/1.jpg","hash":"684ae89de8cb7acefae19f5aee6c612037c46393","modified":1661159744611},{"_id":"public/medias/featureimages/11.jpg","hash":"f55972ce7175684f2b11c3c9fc2b5b14bccbfae8","modified":1661159744611},{"_id":"public/medias/featureimages/12.jpg","hash":"8a4b2e7d92ae95c3b0c921db23c35aa9a41a7d58","modified":1661159744611},{"_id":"public/medias/featureimages/14.jpg","hash":"38e11221406785bcd93aa9cd23e568e164630ef1","modified":1661159744611},{"_id":"public/medias/featureimages/17.jpg","hash":"42d47903551ee81885c1386022982cae165841c5","modified":1661159744611},{"_id":"public/medias/featureimages/19.jpg","hash":"eb250906fdbc0c408f42ae9933725bc1a05d79fb","modified":1661159744611},{"_id":"public/medias/featureimages/18.jpg","hash":"64829272ec85bb819d55ff89e5b5fd6f64aa436b","modified":1661159744611},{"_id":"public/medias/featureimages/4.jpg","hash":"e06c47de27619984be9d5d02947f8370a432dfea","modified":1661159744611},{"_id":"public/medias/featureimages/20.jpg","hash":"3b11f9b461168d907073f793190865fe621a8573","modified":1661159744611},{"_id":"public/medias/featureimages/6.jpg","hash":"c8f2aa4bbb041158b4e73733a341e6a77c8583f7","modified":1661159744611},{"_id":"public/medias/featureimages/9.jpg","hash":"b956a2291a04b2132366b53666cf34858b8bdb1f","modified":1661159744611},{"_id":"public/libs/awesome/webfonts/fa-brands-400.eot","hash":"22f9e7d5226408eb2d0a11e118257a3ca22b8670","modified":1661159744611},{"_id":"public/libs/awesome/webfonts/fa-brands-400.woff","hash":"18838f5260317da3c5ed29bf844ac8a4f7ad0529","modified":1661159744611},{"_id":"public/libs/awesome/webfonts/fa-brands-400.ttf","hash":"91cbeeaceb644a971241c08362898599d6d968ce","modified":1661159744611},{"_id":"public/libs/awesome/webfonts/fa-solid-900.woff","hash":"92803b8753ceda573c6906774677c5a7081d2fbb","modified":1661159744611},{"_id":"public/libs/awesome/webfonts/fa-brands-400.woff2","hash":"a46bd47ff0a90b812aafafda587d095cdb844271","modified":1661159744611},{"_id":"public/libs/awesome/webfonts/fa-solid-900.woff2","hash":"9c081b88b106c6c04ecb895ba7ba7d3dcb3b55ac","modified":1661159744611},{"_id":"public/2020/05/04/hexo/hexo-theme/hexo-theme-3.jpg","hash":"77f12a53ba4cd2a8f24b18cd6665e4d5eb8b8677","modified":1661159744611},{"_id":"public/2020/05/04/best-practice/how-to-retry-elegantly/1565529015677.png","hash":"7894b5cf7ccdfb4b3c9b96c8cf03e3511a6d457c","modified":1661159744611},{"_id":"public/2020/05/04/best-practice/how-to-retry-elegantly/fuuTyTbkyvbhmsa.jpg","hash":"aac6b22d8acdadc0f1fc81961aa729fac15c167c","modified":1661159744611},{"_id":"public/2020/12/16/picture/go-pic-rotate-use-gg-package/4.png","hash":"5fb65220cc46f0c2f600f664fefc81ef718a2470","modified":1661159744611},{"_id":"public/2020/05/04/best-practice/how-to-retry-elegantly/timg.jpg","hash":"7eac6dd798ef8867c7577387e59712ba001ac7c5","modified":1661159744611},{"_id":"public/2020/12/16/picture/go-pic-rotate-use-gg-package/1.png","hash":"04c358a44501b18dad940efa117bd0bb84a049eb","modified":1661159744611},{"_id":"public/2020/12/22/picture/go-draw-word-in-pic2/1.png","hash":"a500d8eb41306efb10f7f9a33cb5b5834219c732","modified":1661159744611},{"_id":"public/2020/12/22/picture/go-draw-word-in-pic2/3.png","hash":"b04bf9d31ac1403f738d5228f34c340a4c04f58a","modified":1661159744611},{"_id":"public/2020/12/22/picture/go-draw-word-in-pic2/2.png","hash":"c51e0690fe9d9f318d7c0c4c771effbcfb96659c","modified":1661159744611},{"_id":"public/2020/12/22/picture/go-draw-word-in-pic2/4.png","hash":"e9aebd8566a54a14a544813c610c8bac80fe9819","modified":1661159744611},{"_id":"public/2020/12/22/picture/go-draw-word-in-pic2/6.png","hash":"c3c30359945125a0782c6889995e4261c5ad3661","modified":1661159744611},{"_id":"public/2020/12/22/picture/go-draw-word-in-pic2/7.png","hash":"8a837c5d24461b4d5ec3228f591befb4621805bc","modified":1661159744611},{"_id":"public/2021/08/01/picture/go-wx-pic-generator/10.png","hash":"1a854bfda404ed50e2f07709d033785ac8262cb8","modified":1661159744611},{"_id":"public/2021/08/01/picture/go-wx-pic-generator/3.png","hash":"342337ffae16801acd265ab8867673611684a705","modified":1661159744611},{"_id":"public/2021/08/01/picture/go-wx-pic-generator/8.png","hash":"640916898da3bd1de27deb50f7aae51015688c98","modified":1661159744611},{"_id":"public/2020/11/29/picture/go-basic-usage-of-gg-package/10.png","hash":"b77e16cdf377229a89eb30c9a94d318fd0983d62","modified":1661159744611},{"_id":"public/2020/11/29/picture/go-basic-usage-of-gg-package/3.png","hash":"6e01668f661e2f9b9aa7ad85d71a071397606736","modified":1661159744611},{"_id":"public/2020/11/29/picture/go-basic-usage-of-gg-package/5.png","hash":"aa9b9d17f40297a94b6afaa9bc706747a2a6fe63","modified":1661159744611},{"_id":"public/2020/11/29/picture/go-basic-usage-of-gg-package/4.png","hash":"d074c847068689e484a7f0863fcae73ec0fe40ac","modified":1661159744611},{"_id":"public/2020/11/29/picture/go-basic-usage-of-gg-package/6.png","hash":"bf3d36fe911855ee07006fad5a5b5a8f0206f4a4","modified":1661159744611},{"_id":"public/2020/11/29/picture/go-basic-usage-of-gg-package/7.png","hash":"eecdbf7873baf90e4dab4c5efe8921880ae9fc95","modified":1661159744611},{"_id":"public/2020/11/29/picture/go-basic-usage-of-gg-package/8.png","hash":"db77f142ad2a073a8c6c4d6bd569a9d9a8691f8c","modified":1661159744611},{"_id":"public/2020/11/29/picture/go-basic-usage-of-gg-package/9.png","hash":"6f3d15420b035f3212e87f7ef99b9b368ce2c9cd","modified":1661159744611},{"_id":"public/2020/11/29/picture/go-basic-usage-of-gg-package/test.jpg","hash":"c2e2dfa4631d71bcace54635876051d9d768e909","modified":1661159744611},{"_id":"public/2020/12/20/picture/go-draw-word-in-pic/1.png","hash":"6f8d45022ced79d396dbefbb8a6b2dbad6d1fd86","modified":1661159744611},{"_id":"public/2020/12/20/picture/go-draw-word-in-pic/2.png","hash":"0f034a85ef70d737229e07d490ae48b85be14cd2","modified":1661159744611},{"_id":"public/2020/12/20/picture/go-draw-word-in-pic/3.png","hash":"3b597d9cfb081d6c7695b3a413bc0f93a4e98a46","modified":1661159744611},{"_id":"public/2020/12/20/picture/go-draw-word-in-pic/4.png","hash":"d8a6f1ddfd76927e1972db67eff61719e9a62082","modified":1661159744611},{"_id":"public/2020/12/20/picture/go-draw-word-in-pic/5.png","hash":"fbf329f33f064b6c5c611bb4443ff895b67b1b07","modified":1661159744611},{"_id":"public/2020/12/20/picture/go-draw-word-in-pic/6.png","hash":"a56ba4e919001cbcbdd7460be8d2f70fa34e2c50","modified":1661159744611},{"_id":"public/2020/12/20/picture/go-draw-word-in-pic/7.png","hash":"505b2ebc736e41d30e94706ed4f497d530e0a8b2","modified":1661159744611},{"_id":"public/2020/12/20/picture/go-draw-word-in-pic/8.png","hash":"d50adf948f46ba5be5c0650a745fa98fd866401f","modified":1661159744611},{"_id":"public/2020/12/20/picture/go-draw-word-in-pic/9.png","hash":"34b6f3de272f256c2fbf4d83a94c47d9ae414b13","modified":1661159744611},{"_id":"public/2020/05/04/rabbitmq/rabbitmq-how-to-use-dead-letter-queue/54b719620c68404a8b8dfacc070420cb.jpg","hash":"df1a9d5b46cbb20e860b20e67fca2cb97b133983","modified":1661159744611},{"_id":"public/2020/05/04/rabbitmq/rabbitmq-how-to-use-dead-letter-queue/AG4T332}_NEUNPUAU(A_)U6.png","hash":"e73d36e2590575ee108efa029ff6c46b2fd71f39","modified":1661159744611},{"_id":"public/2020/05/04/rabbitmq/rabbitmq-how-to-use-dead-letter-queue/A51]5T0]5(4`@P{}[06(%~Q.png","hash":"5ca3d7f4d865069533bbc95798635789e71ea547","modified":1661159744611},{"_id":"public/2020/05/04/rabbitmq/rabbitmq-how-to-use-dead-letter-queue/5d2ae72753a8e90481.png","hash":"a44213e3d6885bc41da1be8a86046562624f7ac7","modified":1661159744611},{"_id":"public/2020/05/04/rabbitmq/rabbitmq-how-to-use-dead-letter-queue/8(%(3A_Y`_N8XX8W5XHZMWY.png","hash":"a44213e3d6885bc41da1be8a86046562624f7ac7","modified":1661159744611},{"_id":"public/2020/05/04/rabbitmq/rabbitmq-how-to-use-dead-letter-queue/[@YD9OX4WP)E9$ME_7`Z]NB.png","hash":"cc7fc5a0227d754d63bb2b3c8aac475baf6bc522","modified":1661159744611},{"_id":"public/2020/11/28/data-analysis/r-study-install/10.png","hash":"354dee43985acf02898880a1562a99276f077aff","modified":1661159744611},{"_id":"public/2020/11/28/data-analysis/r-study-install/7.png","hash":"f73cee1216b666cf96891569231bc1a2465ec628","modified":1661159744611},{"_id":"public/2020/11/28/data-analysis/r-study-install/8.png","hash":"e61673687cc99e719a526e79810e5236c8bd3502","modified":1661159744611},{"_id":"public/2020/05/02/hexo/hexo-start/hexo-10.jpg","hash":"b5669f360d81ef1954a8e528845f069c3b05ad81","modified":1661159744611},{"_id":"public/2020/05/02/hexo/hexo-start/hexo-11.jpg","hash":"2383f2a8b5c4f4b417457ef7bf07612bca5be34b","modified":1661159744611},{"_id":"public/2020/05/02/hexo/hexo-start/hexo-14.jpg","hash":"95bb8d19bca5263e81bc5a523bbcc22ceffe0a92","modified":1661159744611},{"_id":"public/2020/05/02/hexo/hexo-start/hexo-15.jpg","hash":"590b6d79af3ebd60decfbbc3700e2ea1b561271c","modified":1661159744611},{"_id":"public/2020/05/02/hexo/hexo-start/hexo-16.jpg","hash":"9384c5bf7619867cabf2c56b8b4944effdde3aac","modified":1661159744611},{"_id":"public/2020/05/02/hexo/hexo-start/hexo-18.jpg","hash":"9e43bf788998ce7cad5876971b03f1cbaab6dfe7","modified":1661159744611},{"_id":"public/2020/05/02/hexo/hexo-start/hexo-7.jpg","hash":"12d14c67621041e1e553444386af5bab0ebe1fc5","modified":1661159744611},{"_id":"public/2020/05/04/rabbitmq/rabbitmq-how-to-use-delay-queue/$QT%QELKW@$DM92E@ZNA647.png","hash":"ccc7358da110b58f3dc0bf4abb63277d9d4c719e","modified":1661159744611},{"_id":"public/2020/05/04/rabbitmq/rabbitmq-how-to-use-delay-queue/8Q$8RRCK~N@S]1@71KPJ]NC.png","hash":"a58c4780b913e910b6f41ae0b78779e05fbc7700","modified":1661159744611},{"_id":"public/2020/05/04/rabbitmq/rabbitmq-how-to-use-delay-queue/LH`~)W5TPAA`OB6`5UH@FIB.png","hash":"e915fd31ab9850bc003fcb6b790d86004ad08a92","modified":1661159744611},{"_id":"public/2020/05/04/rabbitmq/rabbitmq-how-to-use-delay-queue/1@J8$IFWP3]K{)U]{E~7V{1.png","hash":"ce55dff0b4e3ac2be4f95327b567b90e0084a3bf","modified":1661159744611},{"_id":"public/2020/05/01/java/introduction/java-simple-example/java-simple-example-1.png","hash":"7be12cd9b902847ed3ca8ce7a6f06139103f1180","modified":1661159744611},{"_id":"public/2020/05/01/java/introduction/java-simple-example/java-simple-example-2.png","hash":"404e3de6764fab8a109a7efceabfb4bc6942fb30","modified":1661159744611},{"_id":"public/2020/05/01/java/introduction/java-simple-example/java-simple-example-3.png","hash":"9b42950df71c6cb651d76dec741a4549e4855fd5","modified":1661159744611},{"_id":"public/2020/05/01/java/introduction/java-environment-windows/2-jdk-windows.png","hash":"4d1cb8168cde93a8aabef63c8d12a8ccb56a60e4","modified":1661159744611},{"_id":"public/2020/05/01/java/introduction/java-environment-windows/3-jdk-windows.png","hash":"2a89504a729c391003e94d74941aeada3fde7e4a","modified":1661159744611},{"_id":"public/2020/05/01/java/introduction/java-environment-windows/4-jdk-windows.png","hash":"155d9ca099b6138a5f3c2df3b826f6ce972d847a","modified":1661159744611},{"_id":"public/2020/05/01/java/introduction/java-environment-windows/6-jdk-windows.png","hash":"f26f02913932acf206e345b96a2749c22d68a7c1","modified":1661159744611},{"_id":"public/2020/05/01/java/introduction/java-environment-windows/5-jdk-windows.png","hash":"ac4f6a18554f2d1aae972e1bf6737dd60551613d","modified":1661159744611},{"_id":"public/2020/05/01/java/introduction/java-environment-windows/7-jdk-windows.png","hash":"79f375c43ac760ce5a88aef12df9e788494f0643","modified":1661159744611},{"_id":"public/2020/05/01/java/introduction/java-environment-windows/8-jdk-windows.png","hash":"884e1c6927bf1394dc9941de017deb3b9901daeb","modified":1661159744611},{"_id":"public/2020/05/01/java/introduction/java-environment-windows/9-jdk-windows.png","hash":"8defa728fac888e8203a5e6151596c5ce15280d3","modified":1661159744611},{"_id":"public/2020/05/01/java/introduction/java-ide/java-ide-3.png","hash":"5616c391ba4e9a1341b4c6213758924b9e8124d1","modified":1661159744611},{"_id":"public/2020/05/01/java/introduction/java-ide/java-ide-5.png","hash":"627cfbad99d15a6962df90269eb9df896a6b6021","modified":1661159744611},{"_id":"public/2020/05/01/java/introduction/java-ide/java-ide-6.png","hash":"bc4523f962ca5301e062c864166cf4cc2dfd6f34","modified":1661159744611},{"_id":"public/2020/05/01/java/introduction/java-ide/java-ide-7.png","hash":"db6fcb1e3350c32db0a5ad41400ee7e22023eed1","modified":1661159744611},{"_id":"public/2020/05/01/java/introduction/java-ide/java-ide-8.png","hash":"311e7f7643a2facb45dc3165c938af1bd84b28b7","modified":1661159744611},{"_id":"public/2020/05/01/java/introduction/java-ide/java-ide-9.png","hash":"b7cb86602219d3609159f856c4449b7b85ae0aac","modified":1661159744611},{"_id":"public/2020/05/01/java/introduction/java-environment-mac/10-jdk-mac.png","hash":"a058e42380742e3be7911c30ea4c54263f2e99e9","modified":1661159744611},{"_id":"public/2020/05/01/java/introduction/java-environment-mac/12-jdk-mac.png","hash":"79b6a623b06142723ea9dc4981f3ef12ff3bcd75","modified":1661159744611},{"_id":"public/2020/05/01/java/introduction/java-environment-mac/13-jdk-mac.png","hash":"aa4d7a93b28afb3424a5c107724b07cb9cbeed3d","modified":1661159744611},{"_id":"public/2020/05/01/java/introduction/java-environment-mac/14-jdk-mac.png","hash":"4bc54995d9f778084a8b486634bc30793f1592f0","modified":1661159744611},{"_id":"public/2020/05/01/java/introduction/java-environment-mac/16-jdk-mac.png","hash":"5451e575e4bf08b384335bb070bb46817edad5bd","modified":1661159744611},{"_id":"public/2020/05/01/java/introduction/java-environment-mac/5-jdk-mac.png","hash":"b65be8a8b49518b8fc8ea4f1c1b7d1113352180c","modified":1661159744611},{"_id":"public/2020/05/01/java/introduction/java-environment-mac/7-jdk-mac.png","hash":"57310fc56a96be434f0ad69eb6387a82f54d0d5a","modified":1661159744611},{"_id":"public/2020/05/01/java/introduction/java-environment-mac/6-jdk-mac.png","hash":"cc0550022513036a612d666bab64f1876d703ec3","modified":1661159744611},{"_id":"public/2020/05/01/java/introduction/java-environment-mac/8-jdk-mac.png","hash":"52eacf47993855414045b0719196da9001ccb153","modified":1661159744611},{"_id":"public/2020/05/01/java/introduction/java-environment-mac/9-jdk-mac.png","hash":"1c9dbad3045f234695be69fb4c27c0cd53ab1918","modified":1661159744611},{"_id":"public/css/prism-tomorrow.css","hash":"3b99487dfc9b4e51e9105a93743b92a761840e34","modified":1661159744611},{"_id":"public/css/gitment.css","hash":"2bd15cc17dca35ac3ecc0acf167a23a1dd362acd","modified":1661159744611},{"_id":"public/css/my-gitalk.css","hash":"eeda46a83d0db1cc239a9cd27d544faf663f9883","modified":1661159744611},{"_id":"public/js/matery.js","hash":"b86de5fe3e9766b7ff80df12ea41c3a9e30825f7","modified":1661159744611},{"_id":"public/css/my.css","hash":"10577fbc30f241b126d1b51b1f56136ecba86b19","modified":1661159744611},{"_id":"public/js/search.js","hash":"499e11786efbb04815b54a1de317cc8606a37555","modified":1661159744611},{"_id":"public/libs/aplayer/APlayer.min.css","hash":"07372a2ba507388d0fed166d761b1c2c2a659dce","modified":1661159744611},{"_id":"public/libs/background/canvas-nest.js","hash":"65333d0dbb9c1173a1b13031b230161fc42c8b2f","modified":1661159744611},{"_id":"public/libs/background/ribbon.min.js","hash":"6a99d494c030388f96f6086a7aaa0f03f3fe532e","modified":1661159744611},{"_id":"public/libs/background/ribbon-refresh.min.js","hash":"b092e0ea18a6e4fea40d18827d934f661f817821","modified":1661159744611},{"_id":"public/libs/codeBlock/codeBlockFuction.js","hash":"c7ab06d27a525b15b1eb69027135269e9b9132fb","modified":1661159744611},{"_id":"public/libs/codeBlock/codeLang.js","hash":"bac88b4d4e3679732d29bd037c34f089cf27cf05","modified":1661159744611},{"_id":"public/libs/codeBlock/codeCopy.js","hash":"6d39a766af62e625f177c4d5cf3adc35eed71e61","modified":1661159744611},{"_id":"public/libs/codeBlock/codeShrink.js","hash":"201e8cd761b4be557247bdaf1ebc7c11c83194f6","modified":1661159744611},{"_id":"public/libs/jqcloud/jqcloud-1.0.4.min.js","hash":"257eaae3020599e4939f50d5008a743827f25b8c","modified":1661159744611},{"_id":"public/libs/background/ribbon-dynamic.js","hash":"052b80c29e6bc585aa28d4504b743bdbac220a88","modified":1661159744611},{"_id":"public/libs/instantpage/instantpage.js","hash":"83ce8919b1a69b2f1809ffaf99b52a8627e650e9","modified":1661159744611},{"_id":"public/libs/tocbot/tocbot.css","hash":"9ab8ef576c9a57115194152e79cca79b0a41dd70","modified":1661159744611},{"_id":"public/libs/scrollprogress/scrollProgress.min.js","hash":"777ffe5d07e85a14fbe97d846f45ffc0087251cc","modified":1661159744611},{"_id":"public/libs/tocbot/tocbot.min.js","hash":"5ec27317f0270b8cf6b884c6f12025700b9a565c","modified":1661159744611},{"_id":"public/libs/aos/aos.js","hash":"02bfb40b0c4b6e9b0b4081218357145cbb327d74","modified":1661159744611},{"_id":"public/libs/others/clicklove.js","hash":"6a39b8c683ba5dcd92f70c6ab45d1cfac3213e8e","modified":1661159744611},{"_id":"public/libs/jqcloud/jqcloud.css","hash":"20d9f11a19d95c70e27cb922e0d6dccbec4eae89","modified":1661159744611},{"_id":"public/libs/others/busuanzi.pure.mini.js","hash":"6e41f31100ae7eb3a6f23f2c168f6dd56e7f7a9a","modified":1661159744611},{"_id":"public/libs/share/css/share.min.css","hash":"8a778a86f3ce9a042df6be63a9f1039631e351a5","modified":1661159744611},{"_id":"public/libs/animate/animate.min.css","hash":"97afa151569f046b2e01f27c1871646e9cd87caf","modified":1661159744611},{"_id":"public/css/matery.css","hash":"4b35e55a2f175c5e4eebd1f5aafbf879f97e222f","modified":1661159744611},{"_id":"public/libs/aos/aos.css","hash":"191a3705a8f63e589a50a0ff2f2c5559f1a1b6b2","modified":1661159744611},{"_id":"public/libs/aplayer/APlayer.min.js","hash":"22caa28ff6b41a16ff40f15d38f1739e22359478","modified":1661159744611},{"_id":"public/libs/cryptojs/crypto-js.min.js","hash":"5989527a378b55011a59522f41eeb3981518325c","modified":1661159744611},{"_id":"public/libs/gitalk/gitalk.css","hash":"940ded3ea12c2fe1ab0820d2831ec405f3f1fe9f","modified":1661159744611},{"_id":"public/libs/dplayer/DPlayer.min.css","hash":"f7d19655f873b813ffba5d1a17145c91f82631b8","modified":1661159744611},{"_id":"public/libs/gitment/gitment-default.css","hash":"2903c59ee06b965bef32e937bd69f5b0b2190717","modified":1661159744611},{"_id":"public/libs/masonry/masonry.pkgd.min.js","hash":"ff940b4ea68368ca0e4d5560cbb79fb147dfc3c5","modified":1661159744611},{"_id":"public/libs/gitment/gitment.js","hash":"28c02c45ce568e084cd1041dc493f83f9c6c88c6","modified":1661159744611},{"_id":"public/libs/dplayer/DPlayer.min.js","hash":"c3bad7b265574fab0ae4d45867422ea1cb9d6599","modified":1661159744611},{"_id":"public/libs/valine/Valine.min.js","hash":"6cbdbf91e1f046dd41267a5ff0691a1fccba99df","modified":1661159744611},{"_id":"public/libs/lightGallery/js/lightgallery-all.min.js","hash":"9f5ef4bc8a0a3c746ca4f3c3e6d64493b1a977d8","modified":1661159744611},{"_id":"public/libs/lightGallery/css/lightgallery.min.css","hash":"1b7227237f9785c66062a4811508916518e4132c","modified":1661159744611},{"_id":"public/libs/share/js/jquery.share.min.js","hash":"41367dcb857e02e3c417ebe68a554ce1d4430806","modified":1661159744611},{"_id":"public/libs/jquery/jquery.min.js","hash":"2115753ca5fb7032aec498db7bb5dca624dbe6be","modified":1661159744611},{"_id":"public/libs/share/js/social-share.min.js","hash":"a3090a02786dcd4efc6355c1c1dc978add8d6827","modified":1661159744611},{"_id":"public/libs/materialize/materialize.min.css","hash":"30351cf15f5f2325275d7e0754afdef011f4b830","modified":1661159744611},{"_id":"public/libs/gitalk/gitalk.min.js","hash":"6949fb58ee81dc3dd3a18178a492660a6eb4fb16","modified":1661159744611},{"_id":"public/libs/awesome/css/all.css","hash":"ecc41e32ad2696877a1656749841f3b5543bbe3d","modified":1661159744611},{"_id":"public/libs/materialize/materialize.min.js","hash":"503cb535eed90ffa070fb87f6822d76c62b310c3","modified":1661159744611},{"_id":"public/libs/valine/av-min.js","hash":"541efb9edc1ce425cbe3897cfc25803211fe6a05","modified":1661159744611},{"_id":"public/medias/cover.jpg","hash":"d4957ff7cc5e88555cd840f2956ab0561e6f1ccf","modified":1661159744611},{"_id":"public/medias/banner/1.jpg","hash":"ab122a36998a4f62a61e61a4fc5e00248113413b","modified":1661159744611},{"_id":"public/medias/banner/5.jpg","hash":"852418f4f09e796e12bc3bab7a1488d3f37d6486","modified":1661159744611},{"_id":"public/medias/banner/6.jpg","hash":"ed7282cc129c4ff9f322d2f2897fb4aac5c48589","modified":1661159744611},{"_id":"public/libs/awesome/webfonts/fa-regular-400.svg","hash":"3d3a49445343d80f3b553e3e3425b9a7bd49acaf","modified":1661159744611},{"_id":"public/libs/awesome/webfonts/fa-solid-900.eot","hash":"cab8e84ae5682d1d556e234df9c790985888def8","modified":1661159744611},{"_id":"public/libs/awesome/webfonts/fa-solid-900.ttf","hash":"9521ed12274c2cbc910cea77657116fcf6545da3","modified":1661159744611},{"_id":"public/2021/02/17/conclusion/2020-conclusion-slim/11.jpeg","hash":"829b147569ec0847bb077b51c8c675d2e8b31f94","modified":1661159744611},{"_id":"public/2021/02/17/conclusion/2020-conclusion-slim/14.jpeg","hash":"52cf9375e1fe8d3be4108946d78632d8f21869ce","modified":1661159744611},{"_id":"public/2021/02/17/conclusion/2020-conclusion-slim/24.jpeg","hash":"df8877da9544232e1d467873c6c0e05f35f83d00","modified":1661159744611},{"_id":"public/2021/02/17/conclusion/2020-conclusion-slim/25.jpeg","hash":"a6a48a1e2ce38f622f9d0c482e6291bf501dacfd","modified":1661159744611},{"_id":"public/2021/02/17/conclusion/2020-conclusion-slim/28.jpeg","hash":"773c409d6efe6dfc90cb16541472051a4590f284","modified":1661159744611},{"_id":"public/2021/02/17/conclusion/2020-conclusion-slim/8.jpeg","hash":"3ae531ef8b7e27a8a81e38bdd57ef32bd0549a49","modified":1661159744611},{"_id":"public/2020/11/28/data-analysis/r-study-install/12.png","hash":"492b571299cb018eba4c682d10c6d0f5a670f4b9","modified":1661159744611},{"_id":"public/2020/11/28/data-analysis/r-study-install/15.png","hash":"65ffecc8dc3bcf92af300394f00fca6f2a1ec30f","modified":1661159744611},{"_id":"public/2020/11/28/data-analysis/r-study-install/5.png","hash":"8fa494c3938cc34f701c33fde9733e1a9ca6e546","modified":1661159744611},{"_id":"public/2020/05/02/hexo/hexo-start/hexo-1.jpg","hash":"30e047ba9bdff93812a0d16f122108ebd9138f00","modified":1661159744611},{"_id":"public/2020/05/02/hexo/hexo-start/hexo-17.jpg","hash":"670cb5ad256015ca55a9b525a22ffa650cb3605b","modified":1661159744611},{"_id":"public/2020/05/02/hexo/hexo-start/hexo-3.jpg","hash":"e499a867ba114e730b88768de27121c6d89fc2f7","modified":1661159744611},{"_id":"public/2020/05/02/hexo/hexo-start/hexo-4.jpg","hash":"e0130876440e9cd8e6976cc61033197cea390128","modified":1661159744611},{"_id":"public/2020/05/02/hexo/hexo-start/hexo-5.jpg","hash":"5024f7d9661f0d18be5bb48636285c2ee66154a9","modified":1661159744611},{"_id":"public/2020/05/04/hexo/hexo-theme/hexo-theme-1.jpg","hash":"191f97dde9784818ffd14f08fb902baf76724393","modified":1661159744611},{"_id":"public/2020/11/29/picture/go-basic-usage-of-gg-package/11.png","hash":"a3c2f6dfa125a67f837c0723cbaa826173c946c5","modified":1661159744611},{"_id":"public/2020/12/20/picture/go-draw-word-in-pic/10.png","hash":"44a2973585e8f9a0c4a96d59c9120a50145949af","modified":1661159744611},{"_id":"public/2020/12/16/picture/go-pic-rotate-use-gg-package/2.png","hash":"76c147cc611b6e1fd0d5a18c554da91b45a3d9ea","modified":1661159744611},{"_id":"public/2020/05/04/rabbitmq/rabbitmq-how-to-use-dead-letter-queue/carbon (4).png","hash":"e5b254e80ab30fa1dc22b5adef3df8635a6529b7","modified":1661159744611},{"_id":"public/2020/05/04/rabbitmq/rabbitmq-how-to-use-dead-letter-queue/carbon (5).png","hash":"730d0bf71a637f49ae3ebc6288ed396faa897895","modified":1661159744611},{"_id":"public/2020/05/04/rabbitmq/rabbitmq-how-to-use-delay-queue/carbon (1).png","hash":"db81014ac61e04c8cf3122eaf0874e94a9388926","modified":1661159744611},{"_id":"public/2020/05/04/rabbitmq/rabbitmq-how-to-use-delay-queue/carbon (13).png","hash":"e82144d9f6ca0118a9394672143cc007425e6374","modified":1661159744611},{"_id":"public/2020/05/04/rabbitmq/rabbitmq-how-to-use-delay-queue/carbon (12).png","hash":"9778f24c6fcaf0c3c70f43bbbb37435e4f14ce26","modified":1661159744611},{"_id":"public/2020/05/04/rabbitmq/rabbitmq-how-to-use-delay-queue/carbon (14).png","hash":"b09141ab5024ff50de44595de052ec027256912b","modified":1661159744611},{"_id":"public/2020/05/04/rabbitmq/rabbitmq-how-to-use-delay-queue/carbon (8).png","hash":"34e2c1289e270d30c1d29cc347e3739b91e504ae","modified":1661159744611},{"_id":"public/2020/05/01/java/introduction/java-environment-mac/2-jdk-mac.png","hash":"bef4170c81af99efbdb89dafa2094fd127648889","modified":1661159744611},{"_id":"public/2020/12/22/picture/go-draw-word-in-pic2/5.png","hash":"adb099539b527b7f327f693a722d1cc4e7262fb5","modified":1661159744611},{"_id":"public/2020/12/22/picture/go-draw-word-in-pic2/gilmer-heavy.ttf","hash":"c81ab4019c9acf24177b851c38898d587d544ca5","modified":1661159744611},{"_id":"public/2021/08/01/picture/go-wx-pic-generator/2.png","hash":"312f8c15e07af6df8504a443f203315a910d5ac0","modified":1661159744611},{"_id":"public/2021/08/01/picture/go-wx-pic-generator/5.jpg","hash":"e5009707d2f0b0e5b3baf151fad04bf3d3be5859","modified":1661159744611},{"_id":"public/2020/12/20/picture/go-draw-word-in-pic/gilmer-heavy.ttf","hash":"c81ab4019c9acf24177b851c38898d587d544ca5","modified":1661159744611},{"_id":"public/2020/05/04/rabbitmq/rabbitmq-how-to-use-dead-letter-queue/TIM20190714173105.png","hash":"b883a4fd592787e1c1b0e1e1b55c7ec4ea19736e","modified":1661159744611},{"_id":"public/2020/05/04/rabbitmq/rabbitmq-how-to-use-dead-letter-queue/carbon (1).png","hash":"cd15c9d6ff045f4c8d412e7d760402d2d1a64633","modified":1661159744611},{"_id":"public/2020/11/28/data-analysis/r-study-install/3.png","hash":"73f5e04dfcd1844f83dc277249bd03e6d83461c7","modified":1661159744611},{"_id":"public/2020/11/28/data-analysis/r-study-install/13.png","hash":"c9cc7f8f452e4f189ae78673297689bc95d9d4aa","modified":1661159744611},{"_id":"public/2020/11/28/data-analysis/r-study-install/9.png","hash":"945fad9f56d3a051d085c6e74a695f505907e867","modified":1661159744611},{"_id":"public/2020/05/02/hexo/hexo-start/hexo-12.jpg","hash":"5766686c2f3da4e2cb840ae6b48a575a0ee264da","modified":1661159744611},{"_id":"public/2020/05/02/hexo/hexo-start/hexo-13.jpg","hash":"dfb043214d16fa5374c4aa9f201d7878a016a623","modified":1661159744611},{"_id":"public/2020/05/02/hexo/hexo-start/hexo-19.jpg","hash":"88362d043eb93ac285a839ecb8ba60dbeb754f73","modified":1661159744611},{"_id":"public/2020/05/02/hexo/hexo-start/hexo-6.jpg","hash":"395d28d979a8ea73ea69b077c577a9d447ae1308","modified":1661159744611},{"_id":"public/2020/05/02/hexo/hexo-start/hexo-8.jpg","hash":"7dd52e6bec2f1512d20e35a53d5ceefd74a6c787","modified":1661159744611},{"_id":"public/2020/05/04/rabbitmq/rabbitmq-how-to-use-delay-queue/carbon.png","hash":"ef6a820e4d80e850e0e03786262abfcfe8fd82f1","modified":1661159744611},{"_id":"public/2020/05/04/rabbitmq/rabbitmq-how-to-use-delay-queue/ 2019-07-28 6.04.42.png","hash":"8bcc45818f1d822c2671ed984fa293814a874036","modified":1661159744611},{"_id":"public/2021/02/17/conclusion/2020-conclusion-slim/12.jpeg","hash":"113197f7b1c87e761f67006fe9a90e29911f0904","modified":1661159744611},{"_id":"public/2021/02/17/conclusion/2020-conclusion-slim/13.jpeg","hash":"461e305796809248dff97f2dc8be1d17e472544e","modified":1661159744611},{"_id":"public/2021/02/17/conclusion/2020-conclusion-slim/16.jpeg","hash":"cb5eee9b6a8c1526915e6032bc60072d27a83415","modified":1661159744611},{"_id":"public/2021/02/17/conclusion/2020-conclusion-slim/17.jpeg","hash":"8bad89c62fb379cda243f4ccba3649c09dca72d7","modified":1661159744611},{"_id":"public/2021/02/17/conclusion/2020-conclusion-slim/2.jpg","hash":"ccb5c3e5153e305ef3d70b6c97ee4110cc7a044c","modified":1661159744611},{"_id":"public/2021/02/17/conclusion/2020-conclusion-slim/18.jpeg","hash":"d09c6ebc9b9df0f0ea909a7e2188b9da94cee86f","modified":1661159744611},{"_id":"public/2021/02/17/conclusion/2020-conclusion-slim/21.jpeg","hash":"6e5599bedc3ea7499479ec795949932d9a9ebf5f","modified":1661159744611},{"_id":"public/2021/02/17/conclusion/2020-conclusion-slim/22.jpeg","hash":"d03410dea44133bf0ea0cd99fb57dea4cc77395f","modified":1661159744611},{"_id":"public/2021/02/17/conclusion/2020-conclusion-slim/29.jpeg","hash":"6e37bf58a3fb1a73d2ae35515be3b645b3be9785","modified":1661159744611},{"_id":"public/2021/02/17/conclusion/2020-conclusion-slim/3.jpeg","hash":"218138a2d00ebbaf4504d51f744ca968dfe961ba","modified":1661159744611},{"_id":"public/2021/02/17/conclusion/2020-conclusion-slim/30.jpeg","hash":"a20447796551ccae15ae86bce11cc75796c54257","modified":1661159744611},{"_id":"public/2021/02/17/conclusion/2020-conclusion-slim/7.jpeg","hash":"cd9e632484d18dab4b2d39ac35737a33b389f5a7","modified":1661159744611},{"_id":"public/2021/02/17/conclusion/2020-conclusion-slim/9.jpeg","hash":"8a01dde7b0f028dfb86d5e41fd19bbe138831728","modified":1661159744611},{"_id":"public/2020/05/01/java/introduction/java-environment-windows/1-jdk-windows.png","hash":"8f643602c33a1a98b96e46349952dea4dae4981b","modified":1661159744611},{"_id":"public/2020/05/01/java/introduction/java-ide/java-ide-4.png","hash":"41e84a42900e891648f3b37130a080606f531181","modified":1661159744611},{"_id":"public/2020/05/01/java/introduction/java-environment-mac/11-jdk-mac.png","hash":"09153cd9a58d2ea84f64bc4105fee92a0691c221","modified":1661159744611},{"_id":"public/2020/05/01/java/introduction/java-environment-mac/15-jdk-mac.png","hash":"115d45c94471ff20db11d361a5111108181273f9","modified":1661159744611},{"_id":"public/libs/echarts/echarts.min.js","hash":"9496f386a0da4601cad22c479cc5543913a4d67f","modified":1661159744611},{"_id":"public/2021/02/17/conclusion/2020-conclusion-slim/23.jpeg","hash":"5f3ae7df90d23985e44762e9c3fd17c60bb9d425","modified":1661159744611},{"_id":"public/2021/02/17/conclusion/2020-conclusion-slim/26.jpeg","hash":"ed8c017ba1ee34fff3c3dbc33c26036348fd3a09","modified":1661159744611},{"_id":"public/2020/11/28/data-analysis/r-study-install/14.png","hash":"ff475d130dcdd5078a766a2f79ee6930a6ad8728","modified":1661159744611},{"_id":"public/2020/11/28/data-analysis/r-study-install/2.png","hash":"ef8d06488b29b9e94529e8f57e8ac4ea2d12aa2a","modified":1661159744611},{"_id":"public/2020/11/28/data-analysis/r-study-install/4.png","hash":"dea2d527bfbadb78276fe0a40b72c669b42c99b2","modified":1661159744611},{"_id":"public/2020/11/28/data-analysis/r-study-install/6.png","hash":"6cbcd1b88932f23dfc9bdb3afd00fd2df948fb9e","modified":1661159744611},{"_id":"public/2020/05/02/hexo/hexo-start/hexo-2.jpg","hash":"a2ea1d73f8a2bbc738d29204a9ffc0dc9f81c0a8","modified":1661159744611},{"_id":"public/2020/11/29/picture/go-basic-usage-of-gg-package/1.png","hash":"2a37213f95eaefa8754b3ebad3af73ce09f2b3f0","modified":1661159744611},{"_id":"public/2020/12/16/picture/go-pic-rotate-use-gg-package/3.png","hash":"6c9809d5abc36de5a9bc052d1b298a1fd3cf99af","modified":1661159744611},{"_id":"public/2020/12/16/picture/go-pic-rotate-use-gg-package/6.png","hash":"b8d7212f6eb7e19cfc9740b453f3a94fbde47b94","modified":1661159744611},{"_id":"public/2020/12/16/picture/go-pic-rotate-use-gg-package/5.png","hash":"54a2299f13312c3c58598d5da5c9fee5645204b0","modified":1661159744611},{"_id":"public/2020/05/04/rabbitmq/rabbitmq-how-to-use-dead-letter-queue/carbon (3).png","hash":"75f1f59c807ce3bd52ed890ba8949bddbfad2ae1","modified":1661159744611},{"_id":"public/2020/05/04/rabbitmq/rabbitmq-how-to-use-delay-queue/carbon (15).png","hash":"ea8b4fa0316006b0925623cabcfb0cfdea7ea571","modified":1661159744611},{"_id":"public/2020/05/04/rabbitmq/rabbitmq-how-to-use-delay-queue/carbon (4).png","hash":"50850273536b61a9ee32e3e5474ad5937addefee","modified":1661159744611},{"_id":"public/2020/05/04/rabbitmq/rabbitmq-how-to-use-delay-queue/carbon (5).png","hash":"95202f707630c282c6d8e412a4fbe6cce96f2149","modified":1661159744611},{"_id":"public/2020/05/04/rabbitmq/rabbitmq-how-to-use-delay-queue/carbon (9).png","hash":"09e5820fe1ed84d9f74187bd5371c9682a6d2175","modified":1661159744611},{"_id":"public/2020/05/01/java/introduction/java-started/java-started-1.png","hash":"83c77b655ea24647ff6c55c830924baa4e90b845","modified":1661159744611},{"_id":"public/medias/banner/4.jpg","hash":"e5ac5033678afa9d69edffe9a61004f836cb5734","modified":1661159744611},{"_id":"public/2021/02/17/conclusion/2020-conclusion-slim/27.jpeg","hash":"af40212fcd69f4cb51736f5f69fbb0ce4fcf264c","modified":1661159744611},{"_id":"public/2021/02/17/conclusion/2020-conclusion-slim/32.png","hash":"8aee71da0fe7a0e7238270ae23c7ec51079b6607","modified":1661159744611},{"_id":"public/2020/12/16/picture/go-pic-rotate-use-gg-package/7.png","hash":"553115d70fc769bdc04feceec50b643b8cf899cf","modified":1661159744611},{"_id":"public/2020/05/04/rabbitmq/rabbitmq-how-to-use-delay-queue/carbon (10).png","hash":"b5c24901462f097ec10a1ab3426510443fe7ebbf","modified":1661159744611},{"_id":"public/2020/05/04/rabbitmq/rabbitmq-how-to-use-delay-queue/carbon (3).png","hash":"782de3005a2ef3ea1ade98cf9a2f67f9f2cdad21","modified":1661159744611},{"_id":"public/2020/05/04/rabbitmq/rabbitmq-how-to-use-delay-queue/carbon (6).png","hash":"6628aa12dcd7366d08b09075654492c3e993e8e0","modified":1661159744611},{"_id":"public/2020/05/01/java/introduction/java-environment-mac/3-jdk-mac.png","hash":"0b4bb944db5070a12b706f7ffaf451f5d558cfd9","modified":1661159744611},{"_id":"public/2020/05/01/java/introduction/java-ide/java-ide-2.png","hash":"9e81a827e3e5793b7f262df0eda5de1746c65899","modified":1661159744611},{"_id":"public/medias/reward/wechat.png","hash":"d9391db9000c417541784b30ee9c5aa5a3fbbcca","modified":1661159744611},{"_id":"public/2020/05/01/java/introduction/java-environment-mac/4-jdk-mac.png","hash":"df019bad4cac078997c8a067a59d69be97a34adc","modified":1661159744611},{"_id":"public/2021/08/01/picture/go-wx-pic-generator/11.png","hash":"698a698c40fe8da7a071b3a1a474b567775fb965","modified":1661159744611},{"_id":"public/2020/05/04/rabbitmq/rabbitmq-how-to-use-dead-letter-queue/carbon (2).png","hash":"9b4a6e3298f1f24ed62938cfaba39d9a91eefa7d","modified":1661159744611},{"_id":"public/2020/05/04/rabbitmq/rabbitmq-how-to-use-delay-queue/carbon (11).png","hash":"7812d9f9dfef253124967a04bd6eb9ba59f601af","modified":1661159744611},{"_id":"public/medias/reward/alipay.jpg","hash":"4ce33e80d3ec905650ac9524c516440ca94ecdfa","modified":1661159744611},{"_id":"public/2020/11/28/data-analysis/r-study-install/11.png","hash":"091618e7f7d7929dc83cd1002c94cf6d1eab3144","modified":1661159744611},{"_id":"public/2020/05/02/hexo/hexo-start/hexo-9.jpg","hash":"2bcd82d840a43571fb0dee47de61dd041de6d513","modified":1661159744611},{"_id":"public/2020/11/28/data-analysis/r-study-install/1043143-20200727074006066-1700986643.png","hash":"c759230eef2baa7ae3b60ce7bbc92368c3e013e8","modified":1661159744611},{"_id":"public/2021/02/17/conclusion/2020-conclusion-slim/19.jpeg","hash":"ea00b6715ec6c38e5e2fe7b3bdd4697f0b6078c5","modified":1661159744611},{"_id":"public/2021/08/01/picture/go-wx-pic-generator/4.jpg","hash":"f0f93d76743e2d654bc9e7cbd6cdca1424c7e539","modified":1661159744611},{"_id":"public/libs/awesome/webfonts/fa-brands-400.svg","hash":"5e2d2a159294576bea69cc3360efb5ffe110ab2d","modified":1661159744611},{"_id":"public/2021/08/01/picture/go-wx-pic-generator/6.jpg","hash":"4856009392ed20baac352f70e4acb0b567ac756b","modified":1661159744611},{"_id":"public/2020/05/01/java/introduction/java-ide/java-ide-1.png","hash":"ab6bb5ebfc5b292263824a72ba6eeca819f31f14","modified":1661159744611},{"_id":"public/2020/05/01/java/introduction/java-environment-mac/1-jdk-mac.png","hash":"4acf222e3a5d9728d358cd16a2f0d4300ae6700e","modified":1661159744611},{"_id":"public/2020/05/04/rabbitmq/rabbitmq-how-to-use-delay-queue/carbon (7).png","hash":"6c8acab6bfe5a1f33d4b2f97d39c716365ca7979","modified":1661159744611},{"_id":"public/2021/08/01/picture/go-wx-pic-generator/1.png","hash":"875f57e3a655a4a632bbfc322398aa967a0c8f70","modified":1661159744611},{"_id":"public/libs/awesome/webfonts/fa-solid-900.svg","hash":"7da88b19e1486f8c968d3cf5ab3f194f01ea17fd","modified":1661159744611},{"_id":"public/2020/11/29/picture/go-basic-usage-of-gg-package/2.png","hash":"a61ad75a1a8142fbb010146e04cdd06527e6344e","modified":1661159744611},{"_id":"public/2020/05/04/rabbitmq/rabbitmq-how-to-use-dead-letter-queue/carbon.png","hash":"3e435114b36dc401f60e0abbe3a3e220cdb51017","modified":1661159744611},{"_id":"public/2020/05/04/rabbitmq/rabbitmq-how-to-use-delay-queue/carbon (2).png","hash":"5f7e2e15ee7a80e5b620b909a10f8d25c56e5cca","modified":1661159744611},{"_id":"public/2021/02/17/conclusion/2020-conclusion-slim/10.png","hash":"35eb145d331b084141ffe3f7310944b9877f10bb","modified":1661159744611},{"_id":"public/2021/02/17/conclusion/2020-conclusion-slim/20.png","hash":"2efae28fd7e0988fe85fd50e8465cd6fd023726a","modified":1661159744611},{"_id":"public/2021/02/17/conclusion/2020-conclusion-slim/4.png","hash":"fd046d86fc1c3bd4d57ee79743e54e708883e35a","modified":1661159744611},{"_id":"public/2021/08/01/picture/go-wx-pic-generator/7.png","hash":"f20f84e8dc82ed15cffdd1e04428c290558848c7","modified":1661159744611},{"_id":"public/2021/08/01/picture/go-wx-pic-generator/9.png","hash":"e7cb186067731456a88a8efe52e44349786f74bd","modified":1661159744611},{"_id":"public/2021/02/17/conclusion/2020-conclusion-slim/6.png","hash":"e90cbb719271f7d80bbd6909820f8682a5de5a72","modified":1661159744611},{"_id":"public/2021/02/17/conclusion/2020-conclusion-slim/15.png","hash":"3a1490bbc6a9a6bf6bee3c33237b2732b82e8d52","modified":1661159744611},{"_id":"public/2021/02/17/conclusion/2020-conclusion-slim/31.png","hash":"8f133c615c4113a0a690f37a62b18fcb89d16aef","modified":1661159744611},{"_id":"public/2021/02/17/conclusion/2020-conclusion-slim/1.jpg","hash":"af186c836ce5d25dbea309389106504532065d82","modified":1661159744611},{"_id":"public/2021/02/17/conclusion/2020-conclusion-slim/5.png","hash":"2d2e9f6dbe38e9e475a2aafc145b1452b8de781f","modified":1661159744611},{"_id":"public/2020/12/22/picture/go-draw-word-in-pic2/.ttf","hash":"8e153ec0f6ccb6ea99f4e6e1e54747e9fe094d0a","modified":1661159744611},{"_id":"public/2020/12/20/picture/go-draw-word-in-pic/.ttf","hash":"8e153ec0f6ccb6ea99f4e6e1e54747e9fe094d0a","modified":1661159744611},{"_id":"public/2020/12/22/picture/go-draw-word-in-pic2/SourceHanSansCN-Bold-2.otf","hash":"de83272324b51764b0fd5e642af63bb9d10d1055","modified":1661159744611},{"_id":"themes/hexo-theme-matery/source/medias/avatar1.jpg","hash":"c8c6de0429400fa669a85c72150699181aa901ca","modified":1660412121220},{"_id":"public/medias/avatar1.jpg","hash":"c8c6de0429400fa669a85c72150699181aa901ca","modified":1661159744611}],"Category":[{"name":"","_id":"cl70rsfb500085ohu9ti75tpk"},{"name":"life","_id":"cl70rsfb9000d5ohuckahdx5v"},{"name":"","parent":"cl70rsfb500085ohu9ti75tpk","_id":"cl70rsfbe000o5ohu7ka57f9g"},{"name":"","parent":"cl70rsfb500085ohu9ti75tpk","_id":"cl70rsfbi000w5ohuccg86wmx"},{"name":"","_id":"cl70rsfbr001m5ohu100072q3"},{"name":"","parent":"cl70rsfbr001m5ohu100072q3","_id":"cl70rsfbu001u5ohu4xw16h73"}],"Data":[{"_id":"friends","data":[{"avatar":"http://43.142.191.46:8080/crmebimage/public/operation/2022/08/19/e4c5aacf44c44157ac8381896a4f33bfiwjztayaan.png","name":"","introduction":"","url":"http://43.142.191.46:9527/","title":""},{"avatar":"http://43.142.191.46:8080/crmebimage/public/operation/2022/08/19/e4c5aacf44c44157ac8381896a4f33bfiwjztayaan.png","name":"RabbitMQ","introduction":"","url":"http://43.142.191.46:15672/","title":""}]}],"Page":[{"title":"about","date":"2020-05-01T11:24:13.000Z","type":"about","layout":"about","_content":"","source":"about/index.md","raw":"---\ntitle: about\ndate: 2020-05-01 19:24:13\ntype: \"about\"\nlayout: \"about\"\n---\n","updated":"2020-05-01T11:24:13.000Z","path":"about/index.html","comments":1,"_id":"cl70rsf8q00005ohu8bzjcjzc","content":"<script>\n        document.querySelectorAll('.github-emoji')\n          .forEach(el => {\n            if (!el.dataset.src) { return; }\n            const img = document.createElement('img');\n            img.style = 'display:none !important;';\n            img.src = el.dataset.src;\n            img.addEventListener('error', () => {\n              img.remove();\n              el.style.color = 'inherit';\n              el.style.backgroundImage = 'none';\n              el.style.background = 'none';\n            });\n            img.addEventListener('load', () => {\n              img.remove();\n            });\n            document.body.appendChild(img);\n          });\n      </script>","site":{"data":{"friends":[{"avatar":"https://draveness.me/images/draven-logo.png","name":"","introduction":"","url":"https://draveness.me/","title":""}]}},"excerpt":"","more":""},{"title":"categories","date":"2020-05-01T11:23:40.000Z","type":"categories","layout":"categories","_content":"","source":"categories/index.md","raw":"---\ntitle: categories\ndate: 2020-05-01 19:23:40\ntype: \"categories\"\nlayout: \"categories\"\n---\n","updated":"2020-05-01T11:23:40.000Z","path":"categories/index.html","comments":1,"_id":"cl70rsf8u00015ohuh6fuave3","content":"<script>\n        document.querySelectorAll('.github-emoji')\n          .forEach(el => {\n            if (!el.dataset.src) { return; }\n            const img = document.createElement('img');\n            img.style = 'display:none !important;';\n            img.src = el.dataset.src;\n            img.addEventListener('error', () => {\n              img.remove();\n              el.style.color = 'inherit';\n              el.style.backgroundImage = 'none';\n              el.style.background = 'none';\n            });\n            img.addEventListener('load', () => {\n              img.remove();\n            });\n            document.body.appendChild(img);\n          });\n      </script>","site":{"data":{"friends":[{"avatar":"https://draveness.me/images/draven-logo.png","name":"","introduction":"","url":"https://draveness.me/","title":""}]}},"excerpt":"","more":""},{"title":"friends","date":"2020-05-01T11:24:29.000Z","type":"friends","layout":"friends","_content":"","source":"friends/index.md","raw":"---\ntitle: friends\ndate: 2020-05-01 19:24:29\ntype: \"friends\"\nlayout: \"friends\"\n---\n","updated":"2020-05-01T11:24:29.000Z","path":"friends/index.html","comments":1,"_id":"cl70rsf8v00025ohu6npo94xn","content":"<script>\n        document.querySelectorAll('.github-emoji')\n          .forEach(el => {\n            if (!el.dataset.src) { return; }\n            const img = document.createElement('img');\n            img.style = 'display:none !important;';\n            img.src = el.dataset.src;\n            img.addEventListener('error', () => {\n              img.remove();\n              el.style.color = 'inherit';\n              el.style.backgroundImage = 'none';\n              el.style.background = 'none';\n            });\n            img.addEventListener('load', () => {\n              img.remove();\n            });\n            document.body.appendChild(img);\n          });\n      </script>","site":{"data":{"friends":[{"avatar":"https://draveness.me/images/draven-logo.png","name":"","introduction":"","url":"https://draveness.me/","title":""}]}},"excerpt":"","more":""},{"title":"","date":"2020-05-01T14:00:27.000Z","_content":"","source":"contact/index.md","raw":"---\ntitle: \ndate: 2020-05-01 22:00:27\n---\n","updated":"2020-05-01T14:00:27.000Z","path":"contact/index.html","comments":1,"layout":"page","_id":"cl70rsf8v00035ohu3sp8cxhf","content":"<script>\n        document.querySelectorAll('.github-emoji')\n          .forEach(el => {\n            if (!el.dataset.src) { return; }\n            const img = document.createElement('img');\n            img.style = 'display:none !important;';\n            img.src = el.dataset.src;\n            img.addEventListener('error', () => {\n              img.remove();\n              el.style.color = 'inherit';\n              el.style.backgroundImage = 'none';\n              el.style.background = 'none';\n            });\n            img.addEventListener('load', () => {\n              img.remove();\n            });\n            document.body.appendChild(img);\n          });\n      </script>","site":{"data":{"friends":[{"avatar":"https://draveness.me/images/draven-logo.png","name":"","introduction":"","url":"https://draveness.me/","title":""}]}},"excerpt":"","more":""},{"title":"tags","date":"2020-05-01T11:23:57.000Z","type":"tags","layout":"tags","_content":"","source":"tags/index.md","raw":"---\ntitle: tags\ndate: 2020-05-01 19:23:57\ntype: \"tags\"\nlayout: \"tags\"\n---\n","updated":"2020-05-01T11:23:57.000Z","path":"tags/index.html","comments":1,"_id":"cl70rsf8w00045ohubyh47hed","content":"<script>\n        document.querySelectorAll('.github-emoji')\n          .forEach(el => {\n            if (!el.dataset.src) { return; }\n            const img = document.createElement('img');\n            img.style = 'display:none !important;';\n            img.src = el.dataset.src;\n            img.addEventListener('error', () => {\n              img.remove();\n              el.style.color = 'inherit';\n              el.style.backgroundImage = 'none';\n              el.style.background = 'none';\n            });\n            img.addEventListener('load', () => {\n              img.remove();\n            });\n            document.body.appendChild(img);\n          });\n      </script>","site":{"data":{"friends":[{"avatar":"https://draveness.me/images/draven-logo.png","name":"","introduction":"","url":"https://draveness.me/","title":""}]}},"excerpt":"","more":""}],"Post":[{"_content":"","source":"_posts/conclusion/2020-conclusion-working.md","raw":"","slug":"conclusion/2020-conclusion-working","published":1,"date":"2022-08-13T17:35:20.843Z","updated":"2022-08-13T17:35:20.843Z","title":"conclusion/2020-conclusion-working","comments":1,"layout":"post","photos":[],"link":"","_id":"cl70rsf9s00055ohu90m5fofu","content":"<script>\n        document.querySelectorAll('.github-emoji')\n          .forEach(el => {\n            if (!el.dataset.src) { return; }\n            const img = document.createElement('img');\n            img.style = 'display:none !important;';\n            img.src = el.dataset.src;\n            img.addEventListener('error', () => {\n              img.remove();\n              el.style.color = 'inherit';\n              el.style.backgroundImage = 'none';\n              el.style.background = 'none';\n            });\n            img.addEventListener('load', () => {\n              img.remove();\n            });\n            document.body.appendChild(img);\n          });\n      </script>","site":{"data":{"friends":[{"avatar":"https://draveness.me/images/draven-logo.png","name":"","introduction":"","url":"https://draveness.me/","title":""}]}},"excerpt":"","more":""},{"title":"","toc":true,"top":true,"cover":true,"date":"2020-05-03T17:00:10.000Z","_content":"\n           20\n\n## \n\n\n\n\n\n![1](https://i.loli.net/2019/08/04/eAUjdRTgskmWF3f.png)\n\n\n\n```java\n@Slf4j\n@Component\npublic class HelloService {\n\n    private static AtomicLong helloTimes = new AtomicLong();\n\n    public String hello(){\n        long times = helloTimes.incrementAndGet();\n        if (times % 4 != 0){\n            log.warn(\"time{}\", LocalTime.now() );\n            throw new HelloRetryException(\"Hello\");\n        }\n        return \"hello\";\n    }\n}\n```\n\n\n\n```java\n@Slf4j\n@Service\npublic class HelloRetryService implements IHelloService{\n\n    @Autowired\n    private HelloService helloService;\n\n    public String hello(){\n        return helloService.hello();\n    }\n}\n```\n\n4\n\n## \n\n\n\n```java\n// \npublic String hello(){\n    int maxRetryTimes = 4;\n    String s = \"\";\n    for (int retry = 1; retry <= maxRetryTimes; retry++) {\n        try {\n            s = helloService.hello();\n            log.info(\"helloService:{}\", s);\n            return s;\n        } catch (HelloRetryException e) {\n            log.info(\"helloService.hello() \");\n        }\n    }\n    throw new HelloRetryException(\"\");\n}\n```\n\n\n\n```shell\ntime10:17:21.079413300\nhelloService.hello() \ntime10:17:21.085861800\nhelloService.hello() \ntime10:17:21.085861800\nhelloService.hello() \nhelloService:hello\nservice.helloRetry()hello\n```\n\n4\n\n\n\n\n\n![3.png](https://i.loli.net/2019/08/04/ABwDil3xTFaIfyu.png)\n\n## \n\n\n\n\n\n\n\n```java\n@Slf4j\npublic class HelloRetryProxyService implements IHelloService{\n   \n    @Autowired\n    private HelloRetryService helloRetryService;\n    \n    @Override\n    public String hello() {\n        int maxRetryTimes = 4;\n        String s = \"\";\n        for (int retry = 1; retry <= maxRetryTimes; retry++) {\n            try {\n                s = helloRetryService.hello();\n                log.info(\"helloRetryService :{}\", s);\n                return s;\n            } catch (HelloRetryException e) {\n                log.info(\"helloRetryService.hello() \");\n            }\n        }\n        throw new HelloRetryException(\"\");\n    }\n}\n```\n\n\n\n```java\n@Override\npublic String hello() {\n    int maxRetryTimes = 4;\n    String s = \"\";\n    for (int retry = 1; retry <= maxRetryTimes; retry++) {\n        try {\n            s = helloRetryService.hello();\n            log.info(\"helloRetryService :{}\", s);\n            return s;\n        } catch (HelloRetryException e) {\n            log.info(\"helloRetryService.hello() \");\n        }\n        // \n        try {\n            Thread.sleep(1000);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n    throw new HelloRetryException(\"\");\n}\n```\n\n\n\n![4.png](https://i.loli.net/2019/08/04/z6JxEGdhUK9y1YW.png)\n\n## JDK\n\n\n\n```java\n@Slf4j\npublic class RetryInvocationHandler implements InvocationHandler {\n\n    private final Object subject;\n\n    public RetryInvocationHandler(Object subject) {\n        this.subject = subject;\n    }\n\n    @Override\n    public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {\n        int times = 0;\n\n        while (times < RetryConstant.MAX_TIMES) {\n            try {\n                return method.invoke(subject, args);\n            } catch (Exception e) {\n                times++;\n                log.info(\"times:{},time:{}\", times, LocalTime.now());\n                if (times >= RetryConstant.MAX_TIMES) {\n                    throw new RuntimeException(e);\n                }\n            }\n\n            // \n            try {\n                Thread.sleep(1000);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n\n        return null;\n    }\n\n    /**\n     * \n     *\n     * @param realSubject \n     */\n    public static Object getProxy(Object realSubject) {\n        InvocationHandler handler = new RetryInvocationHandler(realSubject);\n        return Proxy.newProxyInstance(handler.getClass().getClassLoader(),\n                realSubject.getClass().getInterfaces(), handler);\n    }\n\n}\n```\n\n\n\n```java\n @Test\npublic void helloDynamicProxy() {\n    IHelloService realService = new HelloService();\n    IHelloService proxyService = (IHelloService)RetryInvocationHandler.getProxy(realService);\n\n    String hello = proxyService.hello();\n    log.info(\"hello:{}\", hello);\n}\n```\n\n\n\n```shell\nhello times:1\ntime11:22:20.727586700\ntimes:1,time:11:22:20.728083\nhello times:2\ntime11:22:21.728858700\ntimes:2,time:11:22:21.729343700\nhello times:3\ntime11:22:22.729706600\ntimes:3,time:11:22:22.729706600\nhello times:4\nhello:hello\n```\n\n4`Hello`\n\n\n\n*HelloService**Spring*\n\n*Spring**Spring*\n\n\n\n![timg.jpg](https://i.loli.net/2019/08/11/w8R6EAGCtkneQhI.jpg)\n\n\n\n```java\n@Component\npublic class RetryProxyHandler {\n\n    @Autowired\n    private ConfigurableApplicationContext context;\n\n    public Object getProxy(Class clazz) {\n        // 1. Bean\n        DefaultListableBeanFactory beanFactory = (DefaultListableBeanFactory)context.getAutowireCapableBeanFactory();\n        Map<String, Object> beans = beanFactory.getBeansOfType(clazz);\n        Set<Map.Entry<String, Object>> entries = beans.entrySet();\n        if (entries.size() <= 0){\n            throw new ProxyBeanNotFoundException();\n        }\n        // bean, bean\n        Object bean = null;\n        if (entries.size() > 1){\n            for (Map.Entry<String, Object> entry : entries) {\n                if (entry.getKey().contains(PROXY_BEAN_SUFFIX)){\n                    bean = entry.getValue();\n                }\n            };\n            if (bean != null){\n                return bean;\n            }\n            throw new ProxyBeanNotSingleException();\n        }\n\n        Object source = beans.entrySet().iterator().next().getValue();\n        Object source = beans.entrySet().iterator().next().getValue();\n\n        // 2. \n        String proxyBeanName = clazz.getSimpleName() + PROXY_BEAN_SUFFIX;\n        Boolean exist = beanFactory.containsBean(proxyBeanName);\n        if (exist) {\n            bean = beanFactory.getBean(proxyBeanName);\n            return bean;\n        }\n\n        // 3. \n        bean = RetryInvocationHandler.getProxy(source);\n\n        // 4. beanspring\n        beanFactory.registerSingleton(proxyBeanName, bean);\n        return bean;\n    }\n}\n```\n\n`JDK`\n\n```java\n@Slf4j\npublic class RetryInvocationHandler implements InvocationHandler {\n\n    private final Object subject;\n\n    public RetryInvocationHandler(Object subject) {\n        this.subject = subject;\n    }\n\n    @Override\n    public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {\n        int times = 0;\n\n        while (times < RetryConstant.MAX_TIMES) {\n            try {\n                return method.invoke(subject, args);\n            } catch (Exception e) {\n                times++;\n                log.info(\"retry times:{},time:{}\", times, LocalTime.now());\n                if (times >= RetryConstant.MAX_TIMES) {\n                    throw new RuntimeException(e);\n                }\n            }\n\n            // \n            try {\n                Thread.sleep(1000);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n\n        return null;\n    }\n\n    /**\n     * \n     *\n     * @param realSubject \n     */\n    public static Object getProxy(Object realSubject) {\n        InvocationHandler handler = new RetryInvocationHandler(realSubject);\n        return Proxy.newProxyInstance(handler.getClass().getClassLoader(),\n                realSubject.getClass().getInterfaces(), handler);\n    }\n\n}\n```\n\n*HelloService*\n\n```java\n@Slf4j\n@Component\npublic class HelloService implements IHelloService{\n\n    private static AtomicLong helloTimes = new AtomicLong();\n\n    @Autowired\n    private NameService nameService;\n\n    public String hello(){\n        long times = helloTimes.incrementAndGet();\n        log.info(\"hello times:{}\", times);\n        if (times % 4 != 0){\n            log.warn(\"time{}\", LocalTime.now() );\n            throw new HelloRetryException(\"Hello\");\n        }\n        return \"hello \" + nameService.getName();\n    }\n}\n```\n\n*NameService**Bean*\n\n```java\n@Service\npublic class NameService {\n\n    public String getName(){\n        return \"Frank\";\n    }\n}\n```\n\n\n\n```java\n@Test\npublic void helloJdkProxy() throws InvocationTargetException, NoSuchMethodException, InstantiationException, IllegalAccessException {\n    IHelloService proxy = (IHelloService) retryProxyHandler.getProxy(HelloService.class);\n    String hello = proxy.hello();\n    log.info(\"hello:{}\", hello);\n}\n```\n\n```text\nhello times:1\ntime14:40:27.540672200\nretry times:1,time:14:40:27.541167400\nhello times:2\ntime14:40:28.541584600\nretry times:2,time:14:40:28.542033500\nhello times:3\ntime14:40:29.542161500\nretry times:3,time:14:40:29.542161500\nhello times:4\nhello:hello Frank\n```\n\n*Spring**Bean**Bean**Bean*Singleton*Prototype**Singleton**Prototype*\n\n`JDK`\n\n![EDaBTlbkyvbhmng.jpg](https://i.loli.net/2019/08/11/GzmFVto59SLMgOl.jpg)\n\n## CGLib \n\n`JDK``CGLib``JDK``CGLib`\n\n`CGLib`\n\n```java\n@Slf4j\npublic class CGLibRetryProxyHandler implements MethodInterceptor {\n    private Object target;//\n\n    //\n    @Override\n    public Object intercept(Object obj, Method method, Object[] arr, MethodProxy proxy) throws Throwable {\n        int times = 0;\n\n        while (times < RetryConstant.MAX_TIMES) {\n            try {\n                return method.invoke(target, arr);\n            } catch (Exception e) {\n                times++;\n                log.info(\"cglib retry :{},time:{}\", times, LocalTime.now());\n                if (times >= RetryConstant.MAX_TIMES) {\n                    throw new RuntimeException(e);\n                }\n            }\n\n            // \n            try {\n                Thread.sleep(1000);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n        return null;\n    }\n    //\n    public Object getCglibProxy(Object objectTarget){\n        this.target = objectTarget;\n        Enhancer enhancer = new Enhancer();\n        enhancer.setSuperclass(objectTarget.getClass());\n        enhancer.setCallback(this);\n        Object result = enhancer.create();\n        return result;\n    }\n}\n```\n\n`CGLib`\n\n```java\n// 3. \n//        bean = RetryInvocationHandler.getProxy(source);\nCGLibRetryProxyHandler proxyHandler = new CGLibRetryProxyHandler();\nbean = proxyHandler.getCglibProxy(source);\n```\n\n\n\n```java\n@Test\npublic void helloCGLibProxy() {\n    IHelloService proxy = (IHelloService) retryProxyHandler.getProxy(HelloService.class);\n    String hello = proxy.hello();\n    log.info(\"hello:{}\", hello);\n\n    hello = proxy.hello();\n    log.info(\"hello:{}\", hello);\n}\n```\n\n```text\nhello times:1\ntime15:06:00.799679100\ncglib retry :1,time:15:06:00.800175400\nhello times:2\ntime15:06:01.800848600\ncglib retry :2,time:15:06:01.801343100\nhello times:3\ntime15:06:02.802180\ncglib retry :3,time:15:06:02.802180\nhello times:4\nhello:hello Frank\nhello times:5\ntime15:06:03.803933800\ncglib retry :1,time:15:06:03.803933800\nhello times:6\ntime15:06:04.804945400\ncglib retry :2,time:15:06:04.805442\nhello times:7\ntime15:06:05.806886500\ncglib retry :3,time:15:06:05.807881300\nhello times:8\nhello:hello Frank\n```\n\n`JDK`\n\n\n\n![fuuTyTbkyvbhmsa.jpg](https://i.loli.net/2019/08/11/IczsWOdt4PL6vom.jpg)\n\n## Spring AOP\n\n`Spring AOP``AOP`\n\n\n\n```java\n@Target(ElementType.METHOD)\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\npublic @interface Retryable {\n    int retryTimes() default 3;\n    int retryInterval() default 1;\n}\n```\n\n*retryTimes* *retryInterval*\n\n\n\n```java\n@Retryable(retryTimes = 4, retryInterval = 2)\npublic String hello(){\n    long times = helloTimes.incrementAndGet();\n    log.info(\"hello times:{}\", times);\n    if (times % 4 != 0){\n        log.warn(\"time{}\", LocalTime.now() );\n        throw new HelloRetryException(\"Hello\");\n    }\n    return \"hello \" + nameService.getName();\n}\n```\n\n*AOP*\n\n```java\n@Slf4j\n@Aspect\n@Component\npublic class RetryAspect {\n\n    @Pointcut(\"@annotation(com.mfrank.springboot.retry.demo.annotation.Retryable)\")\n    private void retryMethodCall(){}\n\n    @Around(\"retryMethodCall()\")\n    public Object retry(ProceedingJoinPoint joinPoint) throws InterruptedException {\n        // \n        Retryable retry = ((MethodSignature)joinPoint.getSignature()).getMethod().getAnnotation(Retryable.class);\n        int maxRetryTimes = retry.retryTimes();\n        int retryInterval = retry.retryInterval();\n\n        Throwable error = new RuntimeException();\n        for (int retryTimes = 1; retryTimes <= maxRetryTimes; retryTimes++){\n            try {\n                Object result = joinPoint.proceed();\n                return result;\n            } catch (Throwable throwable) {\n                error = throwable;\n                log.warn(\"retryTimes:{}\", retryTimes);\n            }\n            Thread.sleep(retryInterval * 1000);\n        }\n        throw new RetryExhaustedException(\"\", error);\n    }\n}\n```\n\n\n\n```java\n@Autowired\nprivate HelloService helloService;\n\n@Test\npublic void helloAOP(){\n    String hello = helloService.hello();\n    log.info(\"hello:{}\", hello);\n}\n```\n\n\n\n```text\nhello times:1\ntime16:49:30.224649800\nretryTimes:1\nhello times:2\ntime16:49:32.225230800\nretryTimes:2\nhello times:3\ntime16:49:34.225968900\nretryTimes:3\nhello times:4\nhello:hello Frank\n```\n\n\n\n![IStGDBbkyvbhmow.jpg](https://i.loli.net/2019/08/11/fOegoZhjwECGbA9.jpg)\n\n## Spring \n\n*Spring*\n\n\n\njar\n\n```xml\n<dependency>\n    <groupId>org.springframework.retry</groupId>\n    <artifactId>spring-retry</artifactId>\n</dependency>\n<dependency>\n    <groupId>org.aspectj</groupId>\n    <artifactId>aspectjweaver</artifactId>\n</dependency>\n```\n\n*@EnableRetry**@Retryable* []  \n\n```java\n@Retryable\npublic String hello(){\n    long times = helloTimes.incrementAndGet();\n    log.info(\"hello times:{}\", times);\n    if (times % 4 != 0){\n        log.warn(\"time{}\", LocalTime.now() );\n        throw new HelloRetryException(\"Hello\");\n    }\n    return \"hello \" + nameService.getName();\n}\n```\n\n1\n\n*Spring*\n\n```java\n@Retryable{value = {HelloRetryException.class}}\npublic String hello(){2\n    ...\n}\n```\n\n*include**exclude*\n\n*maxAttemps*3\n\n*interceptor*bean\n\n*label*\n\n*exceptionExpression*\n\n*Spring**backoff*\n\n\n\n```java\n@Retryable(value = {HelloRetryException.class}, maxAttempts = 5,\n           backoff = @Backoff(delay = 1000, multiplier = 2))\npublic String hello(){\n    ...\n}\n```\n\n*HelloRetryException*51s22s4s8s\n\n `@Recover` \n\n `@Recover`  `@Retryable`  `@Retryable` \n\n `@Recover`  `@Recover` \n\n```java\n@Recover\npublic boolean recover(Exception e) {\n    log.error(\"\",e);\n    return false;\n}\n```\n\n`Spring Retry` \n\n```java\n@Test\npublic void normalSpringRetry() {\n    // ,key,valuetrue\n    Map<Class<? extends Throwable>, Boolean> exceptionMap = new HashMap<>();\n    exceptionMap.put(HelloRetryException.class, true);\n\n    // \n    RetryTemplate retryTemplate = new RetryTemplate();\n\n    // \n    FixedBackOffPolicy backOffPolicy = new FixedBackOffPolicy();\n    long fixedPeriodTime = 1000L;\n    backOffPolicy.setBackOffPeriod(fixedPeriodTime);\n\n    // \n    int maxRetryTimes = 3;\n    SimpleRetryPolicy retryPolicy = new SimpleRetryPolicy(maxRetryTimes, exceptionMap);\n\n    retryTemplate.setRetryPolicy(retryPolicy);\n    retryTemplate.setBackOffPolicy(backOffPolicy);\n\n    Boolean execute = retryTemplate.execute(\n        //RetryCallback\n        retryContext -> {\n            String hello = helloService.hello();\n            log.info(\":{}\", hello);\n            return true;\n        },\n        // RecoverCallBack\n        retryContext -> {\n            //RecoveryCallback\n            log.info(\"\");\n            return false;\n        }\n    );\n}\n```\n\n\n\n```java\nNeverRetryPolicyRetryCallback\n\nAlwaysRetryPolicy\n\nSimpleRetryPolicy3RetryTemplate\n\nTimeoutRetryPolicy1\n\nExceptionClassifierRetryPolicy\n\nCircuitBreakerRetryPolicy3openTimeoutresetTimeoutdelegate\n\nCompositeRetryPolicy\n\n```\n\n`Spring`  `AOP` \n\n`Spring Retry``Aspect``Aspect` `@Retryable` \n\n`Spring`\n\n![dtFxiMbkyvbhlzo.jpg](https://i.loli.net/2019/08/11/9CuPZHtqMbpLA8a.jpg)\n\n## Guava Retry\n\n`Guava Retry`\n\n`Spring Retry``Guava Retry`\n\n\n\njar\n\n```xml\n<dependency>\n    <groupId>com.github.rholder</groupId>\n    <artifactId>guava-retrying</artifactId>\n    <version>2.0.0</version>\n</dependency>\n```\n\nDemo\n\n```java\n@Test\npublic void guavaRetry() {\n    Retryer<String> retryer = RetryerBuilder.<String>newBuilder()\n        .retryIfExceptionOfType(HelloRetryException.class)\n        .retryIfResult(StringUtils::isEmpty)\n        .withWaitStrategy(WaitStrategies.fixedWait(3, TimeUnit.SECONDS))\n        .withStopStrategy(StopStrategies.stopAfterAttempt(3))\n        .build();\n\n    try {\n        retryer.call(() -> helloService.hello());\n    } catch (Exception e){\n        e.printStackTrace();\n    }\n}\n```\n\n*Retryer**retryIfException**retryIfExceptionOfType**retryIfResult**retryIfRuntimeException**RuntimeException*\n\n*with*////\n\n `Spring AOP`  `Spring Retry` \n\n`Guava Retry` \n\n1. \n2. \n3. \n4. 10\n\n![GBvgTpbkyvbhlEB.jpg](https://i.loli.net/2019/08/11/MFpbWwysvP6Zqo7.jpg)\n\n## \n\n360 `JDK`  `CGLib`  `Spring AOP``Spring Retry` `Spring`  `Guava Retry` `Spring` \n\n`Spring Retry`  `Guava Retry`  `Spring Retry` \n\n\n\n\n\n[//]: # (![1565529015677.png]&#40;https://i.loli.net/2019/08/11/8MxBPNgyIlTZDRk.png&#41;)\n","source":"_posts/best-practice/how-to-retry-elegantly.md","raw":"---\ntitle: \ntags:\n  - \n  - \n  - Spring\ncategories:\n  - \ntoc: true\ntop: true\ncover: true\ndate: 2020-05-04 01:00:10\n---\n\n           20\n\n## \n\n\n\n\n\n![1](https://i.loli.net/2019/08/04/eAUjdRTgskmWF3f.png)\n\n\n\n```java\n@Slf4j\n@Component\npublic class HelloService {\n\n    private static AtomicLong helloTimes = new AtomicLong();\n\n    public String hello(){\n        long times = helloTimes.incrementAndGet();\n        if (times % 4 != 0){\n            log.warn(\"time{}\", LocalTime.now() );\n            throw new HelloRetryException(\"Hello\");\n        }\n        return \"hello\";\n    }\n}\n```\n\n\n\n```java\n@Slf4j\n@Service\npublic class HelloRetryService implements IHelloService{\n\n    @Autowired\n    private HelloService helloService;\n\n    public String hello(){\n        return helloService.hello();\n    }\n}\n```\n\n4\n\n## \n\n\n\n```java\n// \npublic String hello(){\n    int maxRetryTimes = 4;\n    String s = \"\";\n    for (int retry = 1; retry <= maxRetryTimes; retry++) {\n        try {\n            s = helloService.hello();\n            log.info(\"helloService:{}\", s);\n            return s;\n        } catch (HelloRetryException e) {\n            log.info(\"helloService.hello() \");\n        }\n    }\n    throw new HelloRetryException(\"\");\n}\n```\n\n\n\n```shell\ntime10:17:21.079413300\nhelloService.hello() \ntime10:17:21.085861800\nhelloService.hello() \ntime10:17:21.085861800\nhelloService.hello() \nhelloService:hello\nservice.helloRetry()hello\n```\n\n4\n\n\n\n\n\n![3.png](https://i.loli.net/2019/08/04/ABwDil3xTFaIfyu.png)\n\n## \n\n\n\n\n\n\n\n```java\n@Slf4j\npublic class HelloRetryProxyService implements IHelloService{\n   \n    @Autowired\n    private HelloRetryService helloRetryService;\n    \n    @Override\n    public String hello() {\n        int maxRetryTimes = 4;\n        String s = \"\";\n        for (int retry = 1; retry <= maxRetryTimes; retry++) {\n            try {\n                s = helloRetryService.hello();\n                log.info(\"helloRetryService :{}\", s);\n                return s;\n            } catch (HelloRetryException e) {\n                log.info(\"helloRetryService.hello() \");\n            }\n        }\n        throw new HelloRetryException(\"\");\n    }\n}\n```\n\n\n\n```java\n@Override\npublic String hello() {\n    int maxRetryTimes = 4;\n    String s = \"\";\n    for (int retry = 1; retry <= maxRetryTimes; retry++) {\n        try {\n            s = helloRetryService.hello();\n            log.info(\"helloRetryService :{}\", s);\n            return s;\n        } catch (HelloRetryException e) {\n            log.info(\"helloRetryService.hello() \");\n        }\n        // \n        try {\n            Thread.sleep(1000);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n    throw new HelloRetryException(\"\");\n}\n```\n\n\n\n![4.png](https://i.loli.net/2019/08/04/z6JxEGdhUK9y1YW.png)\n\n## JDK\n\n\n\n```java\n@Slf4j\npublic class RetryInvocationHandler implements InvocationHandler {\n\n    private final Object subject;\n\n    public RetryInvocationHandler(Object subject) {\n        this.subject = subject;\n    }\n\n    @Override\n    public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {\n        int times = 0;\n\n        while (times < RetryConstant.MAX_TIMES) {\n            try {\n                return method.invoke(subject, args);\n            } catch (Exception e) {\n                times++;\n                log.info(\"times:{},time:{}\", times, LocalTime.now());\n                if (times >= RetryConstant.MAX_TIMES) {\n                    throw new RuntimeException(e);\n                }\n            }\n\n            // \n            try {\n                Thread.sleep(1000);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n\n        return null;\n    }\n\n    /**\n     * \n     *\n     * @param realSubject \n     */\n    public static Object getProxy(Object realSubject) {\n        InvocationHandler handler = new RetryInvocationHandler(realSubject);\n        return Proxy.newProxyInstance(handler.getClass().getClassLoader(),\n                realSubject.getClass().getInterfaces(), handler);\n    }\n\n}\n```\n\n\n\n```java\n @Test\npublic void helloDynamicProxy() {\n    IHelloService realService = new HelloService();\n    IHelloService proxyService = (IHelloService)RetryInvocationHandler.getProxy(realService);\n\n    String hello = proxyService.hello();\n    log.info(\"hello:{}\", hello);\n}\n```\n\n\n\n```shell\nhello times:1\ntime11:22:20.727586700\ntimes:1,time:11:22:20.728083\nhello times:2\ntime11:22:21.728858700\ntimes:2,time:11:22:21.729343700\nhello times:3\ntime11:22:22.729706600\ntimes:3,time:11:22:22.729706600\nhello times:4\nhello:hello\n```\n\n4`Hello`\n\n\n\n*HelloService**Spring*\n\n*Spring**Spring*\n\n\n\n![timg.jpg](https://i.loli.net/2019/08/11/w8R6EAGCtkneQhI.jpg)\n\n\n\n```java\n@Component\npublic class RetryProxyHandler {\n\n    @Autowired\n    private ConfigurableApplicationContext context;\n\n    public Object getProxy(Class clazz) {\n        // 1. Bean\n        DefaultListableBeanFactory beanFactory = (DefaultListableBeanFactory)context.getAutowireCapableBeanFactory();\n        Map<String, Object> beans = beanFactory.getBeansOfType(clazz);\n        Set<Map.Entry<String, Object>> entries = beans.entrySet();\n        if (entries.size() <= 0){\n            throw new ProxyBeanNotFoundException();\n        }\n        // bean, bean\n        Object bean = null;\n        if (entries.size() > 1){\n            for (Map.Entry<String, Object> entry : entries) {\n                if (entry.getKey().contains(PROXY_BEAN_SUFFIX)){\n                    bean = entry.getValue();\n                }\n            };\n            if (bean != null){\n                return bean;\n            }\n            throw new ProxyBeanNotSingleException();\n        }\n\n        Object source = beans.entrySet().iterator().next().getValue();\n        Object source = beans.entrySet().iterator().next().getValue();\n\n        // 2. \n        String proxyBeanName = clazz.getSimpleName() + PROXY_BEAN_SUFFIX;\n        Boolean exist = beanFactory.containsBean(proxyBeanName);\n        if (exist) {\n            bean = beanFactory.getBean(proxyBeanName);\n            return bean;\n        }\n\n        // 3. \n        bean = RetryInvocationHandler.getProxy(source);\n\n        // 4. beanspring\n        beanFactory.registerSingleton(proxyBeanName, bean);\n        return bean;\n    }\n}\n```\n\n`JDK`\n\n```java\n@Slf4j\npublic class RetryInvocationHandler implements InvocationHandler {\n\n    private final Object subject;\n\n    public RetryInvocationHandler(Object subject) {\n        this.subject = subject;\n    }\n\n    @Override\n    public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {\n        int times = 0;\n\n        while (times < RetryConstant.MAX_TIMES) {\n            try {\n                return method.invoke(subject, args);\n            } catch (Exception e) {\n                times++;\n                log.info(\"retry times:{},time:{}\", times, LocalTime.now());\n                if (times >= RetryConstant.MAX_TIMES) {\n                    throw new RuntimeException(e);\n                }\n            }\n\n            // \n            try {\n                Thread.sleep(1000);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n\n        return null;\n    }\n\n    /**\n     * \n     *\n     * @param realSubject \n     */\n    public static Object getProxy(Object realSubject) {\n        InvocationHandler handler = new RetryInvocationHandler(realSubject);\n        return Proxy.newProxyInstance(handler.getClass().getClassLoader(),\n                realSubject.getClass().getInterfaces(), handler);\n    }\n\n}\n```\n\n*HelloService*\n\n```java\n@Slf4j\n@Component\npublic class HelloService implements IHelloService{\n\n    private static AtomicLong helloTimes = new AtomicLong();\n\n    @Autowired\n    private NameService nameService;\n\n    public String hello(){\n        long times = helloTimes.incrementAndGet();\n        log.info(\"hello times:{}\", times);\n        if (times % 4 != 0){\n            log.warn(\"time{}\", LocalTime.now() );\n            throw new HelloRetryException(\"Hello\");\n        }\n        return \"hello \" + nameService.getName();\n    }\n}\n```\n\n*NameService**Bean*\n\n```java\n@Service\npublic class NameService {\n\n    public String getName(){\n        return \"Frank\";\n    }\n}\n```\n\n\n\n```java\n@Test\npublic void helloJdkProxy() throws InvocationTargetException, NoSuchMethodException, InstantiationException, IllegalAccessException {\n    IHelloService proxy = (IHelloService) retryProxyHandler.getProxy(HelloService.class);\n    String hello = proxy.hello();\n    log.info(\"hello:{}\", hello);\n}\n```\n\n```text\nhello times:1\ntime14:40:27.540672200\nretry times:1,time:14:40:27.541167400\nhello times:2\ntime14:40:28.541584600\nretry times:2,time:14:40:28.542033500\nhello times:3\ntime14:40:29.542161500\nretry times:3,time:14:40:29.542161500\nhello times:4\nhello:hello Frank\n```\n\n*Spring**Bean**Bean**Bean*Singleton*Prototype**Singleton**Prototype*\n\n`JDK`\n\n![EDaBTlbkyvbhmng.jpg](https://i.loli.net/2019/08/11/GzmFVto59SLMgOl.jpg)\n\n## CGLib \n\n`JDK``CGLib``JDK``CGLib`\n\n`CGLib`\n\n```java\n@Slf4j\npublic class CGLibRetryProxyHandler implements MethodInterceptor {\n    private Object target;//\n\n    //\n    @Override\n    public Object intercept(Object obj, Method method, Object[] arr, MethodProxy proxy) throws Throwable {\n        int times = 0;\n\n        while (times < RetryConstant.MAX_TIMES) {\n            try {\n                return method.invoke(target, arr);\n            } catch (Exception e) {\n                times++;\n                log.info(\"cglib retry :{},time:{}\", times, LocalTime.now());\n                if (times >= RetryConstant.MAX_TIMES) {\n                    throw new RuntimeException(e);\n                }\n            }\n\n            // \n            try {\n                Thread.sleep(1000);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n        return null;\n    }\n    //\n    public Object getCglibProxy(Object objectTarget){\n        this.target = objectTarget;\n        Enhancer enhancer = new Enhancer();\n        enhancer.setSuperclass(objectTarget.getClass());\n        enhancer.setCallback(this);\n        Object result = enhancer.create();\n        return result;\n    }\n}\n```\n\n`CGLib`\n\n```java\n// 3. \n//        bean = RetryInvocationHandler.getProxy(source);\nCGLibRetryProxyHandler proxyHandler = new CGLibRetryProxyHandler();\nbean = proxyHandler.getCglibProxy(source);\n```\n\n\n\n```java\n@Test\npublic void helloCGLibProxy() {\n    IHelloService proxy = (IHelloService) retryProxyHandler.getProxy(HelloService.class);\n    String hello = proxy.hello();\n    log.info(\"hello:{}\", hello);\n\n    hello = proxy.hello();\n    log.info(\"hello:{}\", hello);\n}\n```\n\n```text\nhello times:1\ntime15:06:00.799679100\ncglib retry :1,time:15:06:00.800175400\nhello times:2\ntime15:06:01.800848600\ncglib retry :2,time:15:06:01.801343100\nhello times:3\ntime15:06:02.802180\ncglib retry :3,time:15:06:02.802180\nhello times:4\nhello:hello Frank\nhello times:5\ntime15:06:03.803933800\ncglib retry :1,time:15:06:03.803933800\nhello times:6\ntime15:06:04.804945400\ncglib retry :2,time:15:06:04.805442\nhello times:7\ntime15:06:05.806886500\ncglib retry :3,time:15:06:05.807881300\nhello times:8\nhello:hello Frank\n```\n\n`JDK`\n\n\n\n![fuuTyTbkyvbhmsa.jpg](https://i.loli.net/2019/08/11/IczsWOdt4PL6vom.jpg)\n\n## Spring AOP\n\n`Spring AOP``AOP`\n\n\n\n```java\n@Target(ElementType.METHOD)\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\npublic @interface Retryable {\n    int retryTimes() default 3;\n    int retryInterval() default 1;\n}\n```\n\n*retryTimes* *retryInterval*\n\n\n\n```java\n@Retryable(retryTimes = 4, retryInterval = 2)\npublic String hello(){\n    long times = helloTimes.incrementAndGet();\n    log.info(\"hello times:{}\", times);\n    if (times % 4 != 0){\n        log.warn(\"time{}\", LocalTime.now() );\n        throw new HelloRetryException(\"Hello\");\n    }\n    return \"hello \" + nameService.getName();\n}\n```\n\n*AOP*\n\n```java\n@Slf4j\n@Aspect\n@Component\npublic class RetryAspect {\n\n    @Pointcut(\"@annotation(com.mfrank.springboot.retry.demo.annotation.Retryable)\")\n    private void retryMethodCall(){}\n\n    @Around(\"retryMethodCall()\")\n    public Object retry(ProceedingJoinPoint joinPoint) throws InterruptedException {\n        // \n        Retryable retry = ((MethodSignature)joinPoint.getSignature()).getMethod().getAnnotation(Retryable.class);\n        int maxRetryTimes = retry.retryTimes();\n        int retryInterval = retry.retryInterval();\n\n        Throwable error = new RuntimeException();\n        for (int retryTimes = 1; retryTimes <= maxRetryTimes; retryTimes++){\n            try {\n                Object result = joinPoint.proceed();\n                return result;\n            } catch (Throwable throwable) {\n                error = throwable;\n                log.warn(\"retryTimes:{}\", retryTimes);\n            }\n            Thread.sleep(retryInterval * 1000);\n        }\n        throw new RetryExhaustedException(\"\", error);\n    }\n}\n```\n\n\n\n```java\n@Autowired\nprivate HelloService helloService;\n\n@Test\npublic void helloAOP(){\n    String hello = helloService.hello();\n    log.info(\"hello:{}\", hello);\n}\n```\n\n\n\n```text\nhello times:1\ntime16:49:30.224649800\nretryTimes:1\nhello times:2\ntime16:49:32.225230800\nretryTimes:2\nhello times:3\ntime16:49:34.225968900\nretryTimes:3\nhello times:4\nhello:hello Frank\n```\n\n\n\n![IStGDBbkyvbhmow.jpg](https://i.loli.net/2019/08/11/fOegoZhjwECGbA9.jpg)\n\n## Spring \n\n*Spring*\n\n\n\njar\n\n```xml\n<dependency>\n    <groupId>org.springframework.retry</groupId>\n    <artifactId>spring-retry</artifactId>\n</dependency>\n<dependency>\n    <groupId>org.aspectj</groupId>\n    <artifactId>aspectjweaver</artifactId>\n</dependency>\n```\n\n*@EnableRetry**@Retryable* []  \n\n```java\n@Retryable\npublic String hello(){\n    long times = helloTimes.incrementAndGet();\n    log.info(\"hello times:{}\", times);\n    if (times % 4 != 0){\n        log.warn(\"time{}\", LocalTime.now() );\n        throw new HelloRetryException(\"Hello\");\n    }\n    return \"hello \" + nameService.getName();\n}\n```\n\n1\n\n*Spring*\n\n```java\n@Retryable{value = {HelloRetryException.class}}\npublic String hello(){2\n    ...\n}\n```\n\n*include**exclude*\n\n*maxAttemps*3\n\n*interceptor*bean\n\n*label*\n\n*exceptionExpression*\n\n*Spring**backoff*\n\n\n\n```java\n@Retryable(value = {HelloRetryException.class}, maxAttempts = 5,\n           backoff = @Backoff(delay = 1000, multiplier = 2))\npublic String hello(){\n    ...\n}\n```\n\n*HelloRetryException*51s22s4s8s\n\n `@Recover` \n\n `@Recover`  `@Retryable`  `@Retryable` \n\n `@Recover`  `@Recover` \n\n```java\n@Recover\npublic boolean recover(Exception e) {\n    log.error(\"\",e);\n    return false;\n}\n```\n\n`Spring Retry` \n\n```java\n@Test\npublic void normalSpringRetry() {\n    // ,key,valuetrue\n    Map<Class<? extends Throwable>, Boolean> exceptionMap = new HashMap<>();\n    exceptionMap.put(HelloRetryException.class, true);\n\n    // \n    RetryTemplate retryTemplate = new RetryTemplate();\n\n    // \n    FixedBackOffPolicy backOffPolicy = new FixedBackOffPolicy();\n    long fixedPeriodTime = 1000L;\n    backOffPolicy.setBackOffPeriod(fixedPeriodTime);\n\n    // \n    int maxRetryTimes = 3;\n    SimpleRetryPolicy retryPolicy = new SimpleRetryPolicy(maxRetryTimes, exceptionMap);\n\n    retryTemplate.setRetryPolicy(retryPolicy);\n    retryTemplate.setBackOffPolicy(backOffPolicy);\n\n    Boolean execute = retryTemplate.execute(\n        //RetryCallback\n        retryContext -> {\n            String hello = helloService.hello();\n            log.info(\":{}\", hello);\n            return true;\n        },\n        // RecoverCallBack\n        retryContext -> {\n            //RecoveryCallback\n            log.info(\"\");\n            return false;\n        }\n    );\n}\n```\n\n\n\n```java\nNeverRetryPolicyRetryCallback\n\nAlwaysRetryPolicy\n\nSimpleRetryPolicy3RetryTemplate\n\nTimeoutRetryPolicy1\n\nExceptionClassifierRetryPolicy\n\nCircuitBreakerRetryPolicy3openTimeoutresetTimeoutdelegate\n\nCompositeRetryPolicy\n\n```\n\n`Spring`  `AOP` \n\n`Spring Retry``Aspect``Aspect` `@Retryable` \n\n`Spring`\n\n![dtFxiMbkyvbhlzo.jpg](https://i.loli.net/2019/08/11/9CuPZHtqMbpLA8a.jpg)\n\n## Guava Retry\n\n`Guava Retry`\n\n`Spring Retry``Guava Retry`\n\n\n\njar\n\n```xml\n<dependency>\n    <groupId>com.github.rholder</groupId>\n    <artifactId>guava-retrying</artifactId>\n    <version>2.0.0</version>\n</dependency>\n```\n\nDemo\n\n```java\n@Test\npublic void guavaRetry() {\n    Retryer<String> retryer = RetryerBuilder.<String>newBuilder()\n        .retryIfExceptionOfType(HelloRetryException.class)\n        .retryIfResult(StringUtils::isEmpty)\n        .withWaitStrategy(WaitStrategies.fixedWait(3, TimeUnit.SECONDS))\n        .withStopStrategy(StopStrategies.stopAfterAttempt(3))\n        .build();\n\n    try {\n        retryer.call(() -> helloService.hello());\n    } catch (Exception e){\n        e.printStackTrace();\n    }\n}\n```\n\n*Retryer**retryIfException**retryIfExceptionOfType**retryIfResult**retryIfRuntimeException**RuntimeException*\n\n*with*////\n\n `Spring AOP`  `Spring Retry` \n\n`Guava Retry` \n\n1. \n2. \n3. \n4. 10\n\n![GBvgTpbkyvbhlEB.jpg](https://i.loli.net/2019/08/11/MFpbWwysvP6Zqo7.jpg)\n\n## \n\n360 `JDK`  `CGLib`  `Spring AOP``Spring Retry` `Spring`  `Guava Retry` `Spring` \n\n`Spring Retry`  `Guava Retry`  `Spring Retry` \n\n\n\n\n\n[//]: # (![1565529015677.png]&#40;https://i.loli.net/2019/08/11/8MxBPNgyIlTZDRk.png&#41;)\n","slug":"best-practice/how-to-retry-elegantly","published":1,"updated":"2020-05-03T17:00:10.000Z","_id":"cl70rsfb300065ohu2ghc4be7","comments":1,"layout":"post","photos":[],"link":"","content":"<p>           20</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p></p>\n<p><img src=\"https://i.loli.net/2019/08/04/eAUjdRTgskmWF3f.png\" alt=\"1\"></p>\n<p></p>\n<pre class=\" language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Slf4j</span>\n<span class=\"token annotation punctuation\">@Component</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">HelloService</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> AtomicLong helloTimes <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">AtomicLong</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">public</span> String <span class=\"token function\">hello</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">long</span> times <span class=\"token operator\">=</span> helloTimes<span class=\"token punctuation\">.</span><span class=\"token function\">incrementAndGet</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>times <span class=\"token operator\">%</span> <span class=\"token number\">4</span> <span class=\"token operator\">!=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n            log<span class=\"token punctuation\">.</span><span class=\"token function\">warn</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"time{}\"</span><span class=\"token punctuation\">,</span> LocalTime<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">HelloRetryException</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Hello\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">return</span> <span class=\"token string\">\"hello\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p></p>\n<pre class=\" language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Slf4j</span>\n<span class=\"token annotation punctuation\">@Service</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">HelloRetryService</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">IHelloService</span><span class=\"token punctuation\">{</span>\n\n    <span class=\"token annotation punctuation\">@Autowired</span>\n    <span class=\"token keyword\">private</span> HelloService helloService<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">public</span> String <span class=\"token function\">hello</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> helloService<span class=\"token punctuation\">.</span><span class=\"token function\">hello</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p>4</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<pre class=\" language-java\"><code class=\"language-java\"><span class=\"token comment\" spellcheck=\"true\">// </span>\n<span class=\"token keyword\">public</span> String <span class=\"token function\">hello</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">int</span> maxRetryTimes <span class=\"token operator\">=</span> <span class=\"token number\">4</span><span class=\"token punctuation\">;</span>\n    String s <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> retry <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> retry <span class=\"token operator\">&lt;=</span> maxRetryTimes<span class=\"token punctuation\">;</span> retry<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n            s <span class=\"token operator\">=</span> helloService<span class=\"token punctuation\">.</span><span class=\"token function\">hello</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            log<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"helloService:{}\"</span><span class=\"token punctuation\">,</span> s<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">return</span> s<span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">HelloRetryException</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            log<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"helloService.hello() \"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">HelloRetryException</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p></p>\n<pre class=\" language-shell\"><code class=\"language-shell\">time10:17:21.079413300\nhelloService.hello() \ntime10:17:21.085861800\nhelloService.hello() \ntime10:17:21.085861800\nhelloService.hello() \nhelloService:hello\nservice.helloRetry()hello</code></pre>\n<p>4</p>\n<p></p>\n<p></p>\n<p><img src=\"https://i.loli.net/2019/08/04/ABwDil3xTFaIfyu.png\" alt=\"3.png\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p></p>\n<p></p>\n<pre class=\" language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Slf4j</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">HelloRetryProxyService</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">IHelloService</span><span class=\"token punctuation\">{</span>\n\n    <span class=\"token annotation punctuation\">@Autowired</span>\n    <span class=\"token keyword\">private</span> HelloRetryService helloRetryService<span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@Override</span>\n    <span class=\"token keyword\">public</span> String <span class=\"token function\">hello</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">int</span> maxRetryTimes <span class=\"token operator\">=</span> <span class=\"token number\">4</span><span class=\"token punctuation\">;</span>\n        String s <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> retry <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> retry <span class=\"token operator\">&lt;=</span> maxRetryTimes<span class=\"token punctuation\">;</span> retry<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n                s <span class=\"token operator\">=</span> helloRetryService<span class=\"token punctuation\">.</span><span class=\"token function\">hello</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                log<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"helloRetryService :{}\"</span><span class=\"token punctuation\">,</span> s<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token keyword\">return</span> s<span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">HelloRetryException</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                log<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"helloRetryService.hello() \"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">HelloRetryException</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p></p>\n<pre class=\" language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Override</span>\n<span class=\"token keyword\">public</span> String <span class=\"token function\">hello</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">int</span> maxRetryTimes <span class=\"token operator\">=</span> <span class=\"token number\">4</span><span class=\"token punctuation\">;</span>\n    String s <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> retry <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> retry <span class=\"token operator\">&lt;=</span> maxRetryTimes<span class=\"token punctuation\">;</span> retry<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n            s <span class=\"token operator\">=</span> helloRetryService<span class=\"token punctuation\">.</span><span class=\"token function\">hello</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            log<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"helloRetryService :{}\"</span><span class=\"token punctuation\">,</span> s<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">return</span> s<span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">HelloRetryException</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            log<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"helloRetryService.hello() \"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token comment\" spellcheck=\"true\">// </span>\n        <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n            Thread<span class=\"token punctuation\">.</span><span class=\"token function\">sleep</span><span class=\"token punctuation\">(</span><span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">InterruptedException</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            e<span class=\"token punctuation\">.</span><span class=\"token function\">printStackTrace</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">HelloRetryException</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p></p>\n<p><img src=\"https://i.loli.net/2019/08/04/z6JxEGdhUK9y1YW.png\" alt=\"4.png\"></p>\n<h2 id=\"JDK\"><a href=\"#JDK\" class=\"headerlink\" title=\"JDK\"></a>JDK</h2><p></p>\n<pre class=\" language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Slf4j</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">RetryInvocationHandler</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">InvocationHandler</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> Object subject<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token function\">RetryInvocationHandler</span><span class=\"token punctuation\">(</span>Object subject<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>subject <span class=\"token operator\">=</span> subject<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token annotation punctuation\">@Override</span>\n    <span class=\"token keyword\">public</span> Object <span class=\"token function\">invoke</span><span class=\"token punctuation\">(</span>Object proxy<span class=\"token punctuation\">,</span> Method method<span class=\"token punctuation\">,</span> Object<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> Throwable <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">int</span> times <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>times <span class=\"token operator\">&lt;</span> RetryConstant<span class=\"token punctuation\">.</span>MAX_TIMES<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">return</span> method<span class=\"token punctuation\">.</span><span class=\"token function\">invoke</span><span class=\"token punctuation\">(</span>subject<span class=\"token punctuation\">,</span> args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Exception</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                times<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span>\n                log<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"times:{},time:{}\"</span><span class=\"token punctuation\">,</span> times<span class=\"token punctuation\">,</span> LocalTime<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>times <span class=\"token operator\">>=</span> RetryConstant<span class=\"token punctuation\">.</span>MAX_TIMES<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">RuntimeException</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>\n\n            <span class=\"token comment\" spellcheck=\"true\">// </span>\n            <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n                Thread<span class=\"token punctuation\">.</span><span class=\"token function\">sleep</span><span class=\"token punctuation\">(</span><span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">InterruptedException</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                e<span class=\"token punctuation\">.</span><span class=\"token function\">printStackTrace</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token keyword\">return</span> null<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\" spellcheck=\"true\">/**\n     * \n     *\n     * @param realSubject \n     */</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> Object <span class=\"token function\">getProxy</span><span class=\"token punctuation\">(</span>Object realSubject<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        InvocationHandler handler <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">RetryInvocationHandler</span><span class=\"token punctuation\">(</span>realSubject<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> Proxy<span class=\"token punctuation\">.</span><span class=\"token function\">newProxyInstance</span><span class=\"token punctuation\">(</span>handler<span class=\"token punctuation\">.</span><span class=\"token function\">getClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getClassLoader</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                realSubject<span class=\"token punctuation\">.</span><span class=\"token function\">getClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getInterfaces</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> handler<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n<span class=\"token punctuation\">}</span></code></pre>\n<p></p>\n<pre class=\" language-java\"><code class=\"language-java\"> <span class=\"token annotation punctuation\">@Test</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">helloDynamicProxy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    IHelloService realService <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">HelloService</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    IHelloService proxyService <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>IHelloService<span class=\"token punctuation\">)</span>RetryInvocationHandler<span class=\"token punctuation\">.</span><span class=\"token function\">getProxy</span><span class=\"token punctuation\">(</span>realService<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    String hello <span class=\"token operator\">=</span> proxyService<span class=\"token punctuation\">.</span><span class=\"token function\">hello</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    log<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hello:{}\"</span><span class=\"token punctuation\">,</span> hello<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p></p>\n<pre class=\" language-shell\"><code class=\"language-shell\">hello times:1\ntime11:22:20.727586700\ntimes:1,time:11:22:20.728083\nhello times:2\ntime11:22:21.728858700\ntimes:2,time:11:22:21.729343700\nhello times:3\ntime11:22:22.729706600\ntimes:3,time:11:22:22.729706600\nhello times:4\nhello:hello</code></pre>\n<p>4<code>Hello</code></p>\n<p></p>\n<p><em>HelloService</em><em>Spring</em></p>\n<p><em>Spring</em><em>Spring</em></p>\n<p></p>\n<p><img src=\"https://i.loli.net/2019/08/11/w8R6EAGCtkneQhI.jpg\" alt=\"timg.jpg\"></p>\n<p></p>\n<pre class=\" language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Component</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">RetryProxyHandler</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token annotation punctuation\">@Autowired</span>\n    <span class=\"token keyword\">private</span> ConfigurableApplicationContext context<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">public</span> Object <span class=\"token function\">getProxy</span><span class=\"token punctuation\">(</span>Class <span class=\"token class-name\">clazz</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\" spellcheck=\"true\">// 1. Bean</span>\n        DefaultListableBeanFactory beanFactory <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>DefaultListableBeanFactory<span class=\"token punctuation\">)</span>context<span class=\"token punctuation\">.</span><span class=\"token function\">getAutowireCapableBeanFactory</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        Map<span class=\"token operator\">&lt;</span>String<span class=\"token punctuation\">,</span> Object<span class=\"token operator\">></span> beans <span class=\"token operator\">=</span> beanFactory<span class=\"token punctuation\">.</span><span class=\"token function\">getBeansOfType</span><span class=\"token punctuation\">(</span>clazz<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        Set<span class=\"token operator\">&lt;</span>Map<span class=\"token punctuation\">.</span>Entry<span class=\"token operator\">&lt;</span>String<span class=\"token punctuation\">,</span> Object<span class=\"token operator\">>></span> entries <span class=\"token operator\">=</span> beans<span class=\"token punctuation\">.</span><span class=\"token function\">entrySet</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>entries<span class=\"token punctuation\">.</span><span class=\"token function\">size</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ProxyBeanNotFoundException</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token comment\" spellcheck=\"true\">// bean, bean</span>\n        Object bean <span class=\"token operator\">=</span> null<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>entries<span class=\"token punctuation\">.</span><span class=\"token function\">size</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">></span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span>Map<span class=\"token punctuation\">.</span>Entry<span class=\"token operator\">&lt;</span>String<span class=\"token punctuation\">,</span> Object<span class=\"token operator\">></span> entry <span class=\"token operator\">:</span> entries<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>entry<span class=\"token punctuation\">.</span><span class=\"token function\">getKey</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">contains</span><span class=\"token punctuation\">(</span>PROXY_BEAN_SUFFIX<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n                    bean <span class=\"token operator\">=</span> entry<span class=\"token punctuation\">.</span><span class=\"token function\">getValue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>bean <span class=\"token operator\">!=</span> null<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">return</span> bean<span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ProxyBeanNotSingleException</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n\n        Object source <span class=\"token operator\">=</span> beans<span class=\"token punctuation\">.</span><span class=\"token function\">entrySet</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">iterator</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">next</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getValue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        Object source <span class=\"token operator\">=</span> beans<span class=\"token punctuation\">.</span><span class=\"token function\">entrySet</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">iterator</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">next</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getValue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token comment\" spellcheck=\"true\">// 2. </span>\n        String proxyBeanName <span class=\"token operator\">=</span> clazz<span class=\"token punctuation\">.</span><span class=\"token function\">getSimpleName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> PROXY_BEAN_SUFFIX<span class=\"token punctuation\">;</span>\n        Boolean exist <span class=\"token operator\">=</span> beanFactory<span class=\"token punctuation\">.</span><span class=\"token function\">containsBean</span><span class=\"token punctuation\">(</span>proxyBeanName<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>exist<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            bean <span class=\"token operator\">=</span> beanFactory<span class=\"token punctuation\">.</span><span class=\"token function\">getBean</span><span class=\"token punctuation\">(</span>proxyBeanName<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">return</span> bean<span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token comment\" spellcheck=\"true\">// 3. </span>\n        bean <span class=\"token operator\">=</span> RetryInvocationHandler<span class=\"token punctuation\">.</span><span class=\"token function\">getProxy</span><span class=\"token punctuation\">(</span>source<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token comment\" spellcheck=\"true\">// 4. beanspring</span>\n        beanFactory<span class=\"token punctuation\">.</span><span class=\"token function\">registerSingleton</span><span class=\"token punctuation\">(</span>proxyBeanName<span class=\"token punctuation\">,</span> bean<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> bean<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p><code>JDK</code></p>\n<pre class=\" language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Slf4j</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">RetryInvocationHandler</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">InvocationHandler</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">final</span> Object subject<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token function\">RetryInvocationHandler</span><span class=\"token punctuation\">(</span>Object subject<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>subject <span class=\"token operator\">=</span> subject<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token annotation punctuation\">@Override</span>\n    <span class=\"token keyword\">public</span> Object <span class=\"token function\">invoke</span><span class=\"token punctuation\">(</span>Object proxy<span class=\"token punctuation\">,</span> Method method<span class=\"token punctuation\">,</span> Object<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> Throwable <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">int</span> times <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>times <span class=\"token operator\">&lt;</span> RetryConstant<span class=\"token punctuation\">.</span>MAX_TIMES<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">return</span> method<span class=\"token punctuation\">.</span><span class=\"token function\">invoke</span><span class=\"token punctuation\">(</span>subject<span class=\"token punctuation\">,</span> args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Exception</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                times<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span>\n                log<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"retry times:{},time:{}\"</span><span class=\"token punctuation\">,</span> times<span class=\"token punctuation\">,</span> LocalTime<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>times <span class=\"token operator\">>=</span> RetryConstant<span class=\"token punctuation\">.</span>MAX_TIMES<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">RuntimeException</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>\n\n            <span class=\"token comment\" spellcheck=\"true\">// </span>\n            <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n                Thread<span class=\"token punctuation\">.</span><span class=\"token function\">sleep</span><span class=\"token punctuation\">(</span><span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">InterruptedException</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                e<span class=\"token punctuation\">.</span><span class=\"token function\">printStackTrace</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n\n        <span class=\"token keyword\">return</span> null<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\" spellcheck=\"true\">/**\n     * \n     *\n     * @param realSubject \n     */</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> Object <span class=\"token function\">getProxy</span><span class=\"token punctuation\">(</span>Object realSubject<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        InvocationHandler handler <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">RetryInvocationHandler</span><span class=\"token punctuation\">(</span>realSubject<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> Proxy<span class=\"token punctuation\">.</span><span class=\"token function\">newProxyInstance</span><span class=\"token punctuation\">(</span>handler<span class=\"token punctuation\">.</span><span class=\"token function\">getClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getClassLoader</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n                realSubject<span class=\"token punctuation\">.</span><span class=\"token function\">getClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getInterfaces</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> handler<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n<span class=\"token punctuation\">}</span></code></pre>\n<p><em>HelloService</em></p>\n<pre class=\" language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Slf4j</span>\n<span class=\"token annotation punctuation\">@Component</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">HelloService</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">IHelloService</span><span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">static</span> AtomicLong helloTimes <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">AtomicLong</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@Autowired</span>\n    <span class=\"token keyword\">private</span> NameService nameService<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">public</span> String <span class=\"token function\">hello</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">long</span> times <span class=\"token operator\">=</span> helloTimes<span class=\"token punctuation\">.</span><span class=\"token function\">incrementAndGet</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        log<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hello times:{}\"</span><span class=\"token punctuation\">,</span> times<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>times <span class=\"token operator\">%</span> <span class=\"token number\">4</span> <span class=\"token operator\">!=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n            log<span class=\"token punctuation\">.</span><span class=\"token function\">warn</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"time{}\"</span><span class=\"token punctuation\">,</span> LocalTime<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">HelloRetryException</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Hello\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">return</span> <span class=\"token string\">\"hello \"</span> <span class=\"token operator\">+</span> nameService<span class=\"token punctuation\">.</span><span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p><em>NameService</em><em>Bean</em></p>\n<pre class=\" language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Service</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">NameService</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">public</span> String <span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token string\">\"Frank\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p></p>\n<pre class=\" language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Test</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">helloJdkProxy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> InvocationTargetException<span class=\"token punctuation\">,</span> NoSuchMethodException<span class=\"token punctuation\">,</span> InstantiationException<span class=\"token punctuation\">,</span> IllegalAccessException <span class=\"token punctuation\">{</span>\n    IHelloService proxy <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>IHelloService<span class=\"token punctuation\">)</span> retryProxyHandler<span class=\"token punctuation\">.</span><span class=\"token function\">getProxy</span><span class=\"token punctuation\">(</span>HelloService<span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    String hello <span class=\"token operator\">=</span> proxy<span class=\"token punctuation\">.</span><span class=\"token function\">hello</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    log<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hello:{}\"</span><span class=\"token punctuation\">,</span> hello<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<pre class=\" language-text\"><code class=\"language-text\">hello times:1\ntime14:40:27.540672200\nretry times:1,time:14:40:27.541167400\nhello times:2\ntime14:40:28.541584600\nretry times:2,time:14:40:28.542033500\nhello times:3\ntime14:40:29.542161500\nretry times:3,time:14:40:29.542161500\nhello times:4\nhello:hello Frank</code></pre>\n<p><em>Spring</em><em>Bean</em><em>Bean</em><em>Bean</em>Singleton<em>Prototype</em><em>Singleton</em><em>Prototype</em></p>\n<p><code>JDK</code></p>\n<p><img src=\"https://i.loli.net/2019/08/11/GzmFVto59SLMgOl.jpg\" alt=\"EDaBTlbkyvbhmng.jpg\"></p>\n<h2 id=\"CGLib-\"><a href=\"#CGLib-\" class=\"headerlink\" title=\"CGLib \"></a>CGLib </h2><p><code>JDK</code><code>CGLib</code><code>JDK</code><code>CGLib</code></p>\n<p><code>CGLib</code></p>\n<pre class=\" language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Slf4j</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">CGLibRetryProxyHandler</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">MethodInterceptor</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">private</span> Object target<span class=\"token punctuation\">;</span><span class=\"token comment\" spellcheck=\"true\">//</span>\n\n    <span class=\"token comment\" spellcheck=\"true\">//</span>\n    <span class=\"token annotation punctuation\">@Override</span>\n    <span class=\"token keyword\">public</span> Object <span class=\"token function\">intercept</span><span class=\"token punctuation\">(</span>Object obj<span class=\"token punctuation\">,</span> Method method<span class=\"token punctuation\">,</span> Object<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> arr<span class=\"token punctuation\">,</span> MethodProxy proxy<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> Throwable <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">int</span> times <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>times <span class=\"token operator\">&lt;</span> RetryConstant<span class=\"token punctuation\">.</span>MAX_TIMES<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">return</span> method<span class=\"token punctuation\">.</span><span class=\"token function\">invoke</span><span class=\"token punctuation\">(</span>target<span class=\"token punctuation\">,</span> arr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Exception</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                times<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span>\n                log<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"cglib retry :{},time:{}\"</span><span class=\"token punctuation\">,</span> times<span class=\"token punctuation\">,</span> LocalTime<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>times <span class=\"token operator\">>=</span> RetryConstant<span class=\"token punctuation\">.</span>MAX_TIMES<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">RuntimeException</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>\n\n            <span class=\"token comment\" spellcheck=\"true\">// </span>\n            <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n                Thread<span class=\"token punctuation\">.</span><span class=\"token function\">sleep</span><span class=\"token punctuation\">(</span><span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">InterruptedException</span> e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                e<span class=\"token punctuation\">.</span><span class=\"token function\">printStackTrace</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">return</span> null<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token comment\" spellcheck=\"true\">//</span>\n    <span class=\"token keyword\">public</span> Object <span class=\"token function\">getCglibProxy</span><span class=\"token punctuation\">(</span>Object objectTarget<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>target <span class=\"token operator\">=</span> objectTarget<span class=\"token punctuation\">;</span>\n        Enhancer enhancer <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Enhancer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        enhancer<span class=\"token punctuation\">.</span><span class=\"token function\">setSuperclass</span><span class=\"token punctuation\">(</span>objectTarget<span class=\"token punctuation\">.</span><span class=\"token function\">getClass</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        enhancer<span class=\"token punctuation\">.</span><span class=\"token function\">setCallback</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        Object result <span class=\"token operator\">=</span> enhancer<span class=\"token punctuation\">.</span><span class=\"token function\">create</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> result<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p><code>CGLib</code></p>\n<pre class=\" language-java\"><code class=\"language-java\"><span class=\"token comment\" spellcheck=\"true\">// 3. </span>\n<span class=\"token comment\" spellcheck=\"true\">//        bean = RetryInvocationHandler.getProxy(source);</span>\nCGLibRetryProxyHandler proxyHandler <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">CGLibRetryProxyHandler</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nbean <span class=\"token operator\">=</span> proxyHandler<span class=\"token punctuation\">.</span><span class=\"token function\">getCglibProxy</span><span class=\"token punctuation\">(</span>source<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p></p>\n<pre class=\" language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Test</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">helloCGLibProxy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    IHelloService proxy <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>IHelloService<span class=\"token punctuation\">)</span> retryProxyHandler<span class=\"token punctuation\">.</span><span class=\"token function\">getProxy</span><span class=\"token punctuation\">(</span>HelloService<span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    String hello <span class=\"token operator\">=</span> proxy<span class=\"token punctuation\">.</span><span class=\"token function\">hello</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    log<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hello:{}\"</span><span class=\"token punctuation\">,</span> hello<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    hello <span class=\"token operator\">=</span> proxy<span class=\"token punctuation\">.</span><span class=\"token function\">hello</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    log<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hello:{}\"</span><span class=\"token punctuation\">,</span> hello<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<pre class=\" language-text\"><code class=\"language-text\">hello times:1\ntime15:06:00.799679100\ncglib retry :1,time:15:06:00.800175400\nhello times:2\ntime15:06:01.800848600\ncglib retry :2,time:15:06:01.801343100\nhello times:3\ntime15:06:02.802180\ncglib retry :3,time:15:06:02.802180\nhello times:4\nhello:hello Frank\nhello times:5\ntime15:06:03.803933800\ncglib retry :1,time:15:06:03.803933800\nhello times:6\ntime15:06:04.804945400\ncglib retry :2,time:15:06:04.805442\nhello times:7\ntime15:06:05.806886500\ncglib retry :3,time:15:06:05.807881300\nhello times:8\nhello:hello Frank</code></pre>\n<p><code>JDK</code></p>\n<p></p>\n<p><img src=\"https://i.loli.net/2019/08/11/IczsWOdt4PL6vom.jpg\" alt=\"fuuTyTbkyvbhmsa.jpg\"></p>\n<h2 id=\"Spring-AOP\"><a href=\"#Spring-AOP\" class=\"headerlink\" title=\"Spring AOP\"></a>Spring AOP</h2><p><code>Spring AOP</code><code>AOP</code></p>\n<p></p>\n<pre class=\" language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Target</span><span class=\"token punctuation\">(</span>ElementType<span class=\"token punctuation\">.</span>METHOD<span class=\"token punctuation\">)</span>\n<span class=\"token annotation punctuation\">@Retention</span><span class=\"token punctuation\">(</span>RetentionPolicy<span class=\"token punctuation\">.</span>RUNTIME<span class=\"token punctuation\">)</span>\n<span class=\"token annotation punctuation\">@Documented</span>\n<span class=\"token keyword\">public</span> @<span class=\"token keyword\">interface</span> <span class=\"token class-name\">Retryable</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">int</span> <span class=\"token function\">retryTimes</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">default</span> <span class=\"token number\">3</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">int</span> <span class=\"token function\">retryInterval</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">default</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p><em>retryTimes</em> <em>retryInterval</em></p>\n<p></p>\n<pre class=\" language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Retryable</span><span class=\"token punctuation\">(</span>retryTimes <span class=\"token operator\">=</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> retryInterval <span class=\"token operator\">=</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">public</span> String <span class=\"token function\">hello</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">long</span> times <span class=\"token operator\">=</span> helloTimes<span class=\"token punctuation\">.</span><span class=\"token function\">incrementAndGet</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    log<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hello times:{}\"</span><span class=\"token punctuation\">,</span> times<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>times <span class=\"token operator\">%</span> <span class=\"token number\">4</span> <span class=\"token operator\">!=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        log<span class=\"token punctuation\">.</span><span class=\"token function\">warn</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"time{}\"</span><span class=\"token punctuation\">,</span> LocalTime<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">HelloRetryException</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Hello\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">return</span> <span class=\"token string\">\"hello \"</span> <span class=\"token operator\">+</span> nameService<span class=\"token punctuation\">.</span><span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p><em>AOP</em></p>\n<pre class=\" language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Slf4j</span>\n<span class=\"token annotation punctuation\">@Aspect</span>\n<span class=\"token annotation punctuation\">@Component</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">RetryAspect</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token annotation punctuation\">@Pointcut</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"@annotation(com.mfrank.springboot.retry.demo.annotation.Retryable)\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">void</span> <span class=\"token function\">retryMethodCall</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n\n    <span class=\"token annotation punctuation\">@Around</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"retryMethodCall()\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">public</span> Object <span class=\"token function\">retry</span><span class=\"token punctuation\">(</span>ProceedingJoinPoint joinPoint<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> InterruptedException <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\" spellcheck=\"true\">// </span>\n        Retryable retry <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>MethodSignature<span class=\"token punctuation\">)</span>joinPoint<span class=\"token punctuation\">.</span><span class=\"token function\">getSignature</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getMethod</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getAnnotation</span><span class=\"token punctuation\">(</span>Retryable<span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">int</span> maxRetryTimes <span class=\"token operator\">=</span> retry<span class=\"token punctuation\">.</span><span class=\"token function\">retryTimes</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">int</span> retryInterval <span class=\"token operator\">=</span> retry<span class=\"token punctuation\">.</span><span class=\"token function\">retryInterval</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        Throwable error <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">RuntimeException</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> retryTimes <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span> retryTimes <span class=\"token operator\">&lt;=</span> maxRetryTimes<span class=\"token punctuation\">;</span> retryTimes<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n                Object result <span class=\"token operator\">=</span> joinPoint<span class=\"token punctuation\">.</span><span class=\"token function\">proceed</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token keyword\">return</span> result<span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Throwable</span> throwable<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                error <span class=\"token operator\">=</span> throwable<span class=\"token punctuation\">;</span>\n                log<span class=\"token punctuation\">.</span><span class=\"token function\">warn</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"retryTimes:{}\"</span><span class=\"token punctuation\">,</span> retryTimes<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n            Thread<span class=\"token punctuation\">.</span><span class=\"token function\">sleep</span><span class=\"token punctuation\">(</span>retryInterval <span class=\"token operator\">*</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">RetryExhaustedException</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span> error<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p></p>\n<pre class=\" language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Autowired</span>\n<span class=\"token keyword\">private</span> HelloService helloService<span class=\"token punctuation\">;</span>\n\n<span class=\"token annotation punctuation\">@Test</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">helloAOP</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    String hello <span class=\"token operator\">=</span> helloService<span class=\"token punctuation\">.</span><span class=\"token function\">hello</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    log<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hello:{}\"</span><span class=\"token punctuation\">,</span> hello<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p></p>\n<pre class=\" language-text\"><code class=\"language-text\">hello times:1\ntime16:49:30.224649800\nretryTimes:1\nhello times:2\ntime16:49:32.225230800\nretryTimes:2\nhello times:3\ntime16:49:34.225968900\nretryTimes:3\nhello times:4\nhello:hello Frank</code></pre>\n<p></p>\n<p><img src=\"https://i.loli.net/2019/08/11/fOegoZhjwECGbA9.jpg\" alt=\"IStGDBbkyvbhmow.jpg\"></p>\n<h2 id=\"Spring-\"><a href=\"#Spring-\" class=\"headerlink\" title=\"Spring \"></a>Spring </h2><p><em>Spring</em></p>\n<p></p>\n<p>jar</p>\n<pre class=\" language-xml\"><code class=\"language-xml\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>dependency</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>groupId</span><span class=\"token punctuation\">></span></span>org.springframework.retry<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>groupId</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>artifactId</span><span class=\"token punctuation\">></span></span>spring-retry<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>artifactId</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>dependency</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>dependency</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>groupId</span><span class=\"token punctuation\">></span></span>org.aspectj<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>groupId</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>artifactId</span><span class=\"token punctuation\">></span></span>aspectjweaver<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>artifactId</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>dependency</span><span class=\"token punctuation\">></span></span></code></pre>\n<p><em>@EnableRetry*</em>@Retryable* []  </p>\n<pre class=\" language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Retryable</span>\n<span class=\"token keyword\">public</span> String <span class=\"token function\">hello</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">long</span> times <span class=\"token operator\">=</span> helloTimes<span class=\"token punctuation\">.</span><span class=\"token function\">incrementAndGet</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    log<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"hello times:{}\"</span><span class=\"token punctuation\">,</span> times<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>times <span class=\"token operator\">%</span> <span class=\"token number\">4</span> <span class=\"token operator\">!=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        log<span class=\"token punctuation\">.</span><span class=\"token function\">warn</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"time{}\"</span><span class=\"token punctuation\">,</span> LocalTime<span class=\"token punctuation\">.</span><span class=\"token function\">now</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">HelloRetryException</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Hello\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">return</span> <span class=\"token string\">\"hello \"</span> <span class=\"token operator\">+</span> nameService<span class=\"token punctuation\">.</span><span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p>1</p>\n<p><em>Spring</em></p>\n<pre class=\" language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Retryable</span><span class=\"token punctuation\">{</span>value <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>HelloRetryException<span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">public</span> String <span class=\"token function\">hello</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span><span class=\"token number\">2</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p><em>include</em><em>exclude</em></p>\n<p><em>maxAttemps</em>3</p>\n<p><em>interceptor</em>bean</p>\n<p><em>label</em></p>\n<p><em>exceptionExpression</em></p>\n<p><em>Spring</em><em>backoff</em></p>\n<p></p>\n<pre class=\" language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Retryable</span><span class=\"token punctuation\">(</span>value <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>HelloRetryException<span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> maxAttempts <span class=\"token operator\">=</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span>\n           backoff <span class=\"token operator\">=</span> <span class=\"token annotation punctuation\">@Backoff</span><span class=\"token punctuation\">(</span>delay <span class=\"token operator\">=</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">,</span> multiplier <span class=\"token operator\">=</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">public</span> String <span class=\"token function\">hello</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p><em>HelloRetryException</em>51s22s4s8s</p>\n<p> <code>@Recover</code> </p>\n<p> <code>@Recover</code>  <code>@Retryable</code>  <code>@Retryable</code> </p>\n<p> <code>@Recover</code>  <code>@Recover</code> </p>\n<pre class=\" language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Recover</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">boolean</span> <span class=\"token function\">recover</span><span class=\"token punctuation\">(</span>Exception e<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    log<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>e<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p><code>Spring Retry</code> </p>\n<pre class=\" language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Test</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">normalSpringRetry</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\" spellcheck=\"true\">// ,key,valuetrue</span>\n    Map<span class=\"token operator\">&lt;</span>Class<span class=\"token operator\">&lt;</span><span class=\"token operator\">?</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Throwable</span><span class=\"token operator\">></span><span class=\"token punctuation\">,</span> Boolean<span class=\"token operator\">></span> exceptionMap <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">HashMap</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    exceptionMap<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span>HelloRetryException<span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\" spellcheck=\"true\">// </span>\n    RetryTemplate retryTemplate <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">RetryTemplate</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\" spellcheck=\"true\">// </span>\n    FixedBackOffPolicy backOffPolicy <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">FixedBackOffPolicy</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">long</span> fixedPeriodTime <span class=\"token operator\">=</span> 1000L<span class=\"token punctuation\">;</span>\n    backOffPolicy<span class=\"token punctuation\">.</span><span class=\"token function\">setBackOffPeriod</span><span class=\"token punctuation\">(</span>fixedPeriodTime<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\" spellcheck=\"true\">// </span>\n    <span class=\"token keyword\">int</span> maxRetryTimes <span class=\"token operator\">=</span> <span class=\"token number\">3</span><span class=\"token punctuation\">;</span>\n    SimpleRetryPolicy retryPolicy <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">SimpleRetryPolicy</span><span class=\"token punctuation\">(</span>maxRetryTimes<span class=\"token punctuation\">,</span> exceptionMap<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    retryTemplate<span class=\"token punctuation\">.</span><span class=\"token function\">setRetryPolicy</span><span class=\"token punctuation\">(</span>retryPolicy<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    retryTemplate<span class=\"token punctuation\">.</span><span class=\"token function\">setBackOffPolicy</span><span class=\"token punctuation\">(</span>backOffPolicy<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    Boolean execute <span class=\"token operator\">=</span> retryTemplate<span class=\"token punctuation\">.</span><span class=\"token function\">execute</span><span class=\"token punctuation\">(</span>\n        <span class=\"token comment\" spellcheck=\"true\">//RetryCallback</span>\n        retryContext <span class=\"token operator\">-</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n            String hello <span class=\"token operator\">=</span> helloService<span class=\"token punctuation\">.</span><span class=\"token function\">hello</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            log<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token string\">\":{}\"</span><span class=\"token punctuation\">,</span> hello<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">return</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token comment\" spellcheck=\"true\">// RecoverCallBack</span>\n        retryContext <span class=\"token operator\">-</span><span class=\"token operator\">></span> <span class=\"token punctuation\">{</span>\n            <span class=\"token comment\" spellcheck=\"true\">//RecoveryCallback</span>\n            log<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">return</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p></p>\n<pre class=\" language-java\"><code class=\"language-java\">NeverRetryPolicyRetryCallback\n\nAlwaysRetryPolicy\n\nSimpleRetryPolicy<span class=\"token number\">3</span>RetryTemplate\n\nTimeoutRetryPolicy<span class=\"token number\">1</span>\n\nExceptionClassifierRetryPolicy\n\nCircuitBreakerRetryPolicy<span class=\"token number\">3</span>openTimeoutresetTimeoutdelegate\n\nCompositeRetryPolicy\n</code></pre>\n<p><code>Spring</code>  <code>AOP</code> </p>\n<p><code>Spring Retry</code><code>Aspect</code><code>Aspect</code> <code>@Retryable</code> </p>\n<p><code>Spring</code></p>\n<p><img src=\"https://i.loli.net/2019/08/11/9CuPZHtqMbpLA8a.jpg\" alt=\"dtFxiMbkyvbhlzo.jpg\"></p>\n<h2 id=\"Guava-Retry\"><a href=\"#Guava-Retry\" class=\"headerlink\" title=\"Guava Retry\"></a>Guava Retry</h2><p><code>Guava Retry</code></p>\n<p><code>Spring Retry</code><code>Guava Retry</code></p>\n<p></p>\n<p>jar</p>\n<pre class=\" language-xml\"><code class=\"language-xml\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>dependency</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>groupId</span><span class=\"token punctuation\">></span></span>com.github.rholder<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>groupId</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>artifactId</span><span class=\"token punctuation\">></span></span>guava-retrying<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>artifactId</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>version</span><span class=\"token punctuation\">></span></span>2.0.0<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>version</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>dependency</span><span class=\"token punctuation\">></span></span></code></pre>\n<p>Demo</p>\n<pre class=\" language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Test</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">guavaRetry</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    Retryer<span class=\"token operator\">&lt;</span>String<span class=\"token operator\">></span> retryer <span class=\"token operator\">=</span> RetryerBuilder<span class=\"token punctuation\">.</span>&lt;String<span class=\"token operator\">></span><span class=\"token function\">newBuilder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">retryIfExceptionOfType</span><span class=\"token punctuation\">(</span>HelloRetryException<span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">retryIfResult</span><span class=\"token punctuation\">(</span>StringUtils<span class=\"token operator\">:</span><span class=\"token operator\">:</span>isEmpty<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">withWaitStrategy</span><span class=\"token punctuation\">(</span>WaitStrategies<span class=\"token punctuation\">.</span><span class=\"token function\">fixedWait</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> TimeUnit<span class=\"token punctuation\">.</span>SECONDS<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">withStopStrategy</span><span class=\"token punctuation\">(</span>StopStrategies<span class=\"token punctuation\">.</span><span class=\"token function\">stopAfterAttempt</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n        retryer<span class=\"token punctuation\">.</span><span class=\"token function\">call</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span> helloService<span class=\"token punctuation\">.</span><span class=\"token function\">hello</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Exception</span> e<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        e<span class=\"token punctuation\">.</span><span class=\"token function\">printStackTrace</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p><em>Retryer</em><em>retryIfException</em><em>retryIfExceptionOfType</em><em>retryIfResult</em><em>retryIfRuntimeException</em><em>RuntimeException</em></p>\n<p><em>with</em>////</p>\n<p> <code>Spring AOP</code>  <code>Spring Retry</code> </p>\n<p><code>Guava Retry</code> </p>\n<ol>\n<li></li>\n<li></li>\n<li></li>\n<li>10</li>\n</ol>\n<p><img src=\"https://i.loli.net/2019/08/11/MFpbWwysvP6Zqo7.jpg\" alt=\"GBvgTpbkyvbhlEB.jpg\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>360 <code>JDK</code>  <code>CGLib</code>  <code>Spring AOP</code><code>Spring Retry</code> <code>Spring</code>  <code>Guava Retry</code> <code>Spring</code> </p>\n<p><code>Spring Retry</code>  <code>Guava Retry</code>  <code>Spring Retry</code> </p>\n<p></p>\n<p></p>\n<script>\n        document.querySelectorAll('.github-emoji')\n          .forEach(el => {\n            if (!el.dataset.src) { return; }\n            const img = document.createElement('img');\n            img.style = 'display:none !important;';\n            img.src = el.dataset.src;\n            img.addEventListener('error', () => {\n              img.remove();\n              el.style.color = 'inherit';\n              el.style.backgroundImage = 'none';\n              el.style.background = 'none';\n            });\n            img.addEventListener('load', () => {\n              img.remove();\n            });\n            document.body.appendChild(img);\n          });\n      </script>","site":{"data":{"friends":[{"avatar":"http://43.142.191.46:8080/crmebimage/public/operation/2022/08/19/e4c5aacf44c44157ac8381896a4f33bfiwjztayaan.png","name":"","introduction":"","url":"http://43.142.191.46:9527/","title":""},{"avatar":"http://43.142.191.46:8080/crmebimage/public/operation/2022/08/19/e4c5aacf44c44157ac8381896a4f33bfiwjztayaan.png","name":"RabbitMQ","introduction":"","url":"http://43.142.191.46:15672/","title":""}]}},"excerpt":"","more":"<p>           20</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p></p>\n<p><img src=\"https://i.loli.net/2019/08/04/eAUjdRTgskmWF3f.png\" alt=\"1\"></p>\n<p></p>\n<pre><code class=\"java\">@Slf4j\n@Component\npublic class HelloService {\n\n    private static AtomicLong helloTimes = new AtomicLong();\n\n    public String hello(){\n        long times = helloTimes.incrementAndGet();\n        if (times % 4 != 0){\n            log.warn(&quot;time{}&quot;, LocalTime.now() );\n            throw new HelloRetryException(&quot;Hello&quot;);\n        }\n        return &quot;hello&quot;;\n    }\n}</code></pre>\n<p></p>\n<pre><code class=\"java\">@Slf4j\n@Service\npublic class HelloRetryService implements IHelloService{\n\n    @Autowired\n    private HelloService helloService;\n\n    public String hello(){\n        return helloService.hello();\n    }\n}</code></pre>\n<p>4</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<pre><code class=\"java\">// \npublic String hello(){\n    int maxRetryTimes = 4;\n    String s = &quot;&quot;;\n    for (int retry = 1; retry &lt;= maxRetryTimes; retry++) {\n        try {\n            s = helloService.hello();\n            log.info(&quot;helloService:{}&quot;, s);\n            return s;\n        } catch (HelloRetryException e) {\n            log.info(&quot;helloService.hello() &quot;);\n        }\n    }\n    throw new HelloRetryException(&quot;&quot;);\n}</code></pre>\n<p></p>\n<pre><code class=\"shell\">time10:17:21.079413300\nhelloService.hello() \ntime10:17:21.085861800\nhelloService.hello() \ntime10:17:21.085861800\nhelloService.hello() \nhelloService:hello\nservice.helloRetry()hello</code></pre>\n<p>4</p>\n<p></p>\n<p></p>\n<p><img src=\"https://i.loli.net/2019/08/04/ABwDil3xTFaIfyu.png\" alt=\"3.png\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p></p>\n<p></p>\n<pre><code class=\"java\">@Slf4j\npublic class HelloRetryProxyService implements IHelloService{\n\n    @Autowired\n    private HelloRetryService helloRetryService;\n\n    @Override\n    public String hello() {\n        int maxRetryTimes = 4;\n        String s = &quot;&quot;;\n        for (int retry = 1; retry &lt;= maxRetryTimes; retry++) {\n            try {\n                s = helloRetryService.hello();\n                log.info(&quot;helloRetryService :{}&quot;, s);\n                return s;\n            } catch (HelloRetryException e) {\n                log.info(&quot;helloRetryService.hello() &quot;);\n            }\n        }\n        throw new HelloRetryException(&quot;&quot;);\n    }\n}</code></pre>\n<p></p>\n<pre><code class=\"java\">@Override\npublic String hello() {\n    int maxRetryTimes = 4;\n    String s = &quot;&quot;;\n    for (int retry = 1; retry &lt;= maxRetryTimes; retry++) {\n        try {\n            s = helloRetryService.hello();\n            log.info(&quot;helloRetryService :{}&quot;, s);\n            return s;\n        } catch (HelloRetryException e) {\n            log.info(&quot;helloRetryService.hello() &quot;);\n        }\n        // \n        try {\n            Thread.sleep(1000);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n    throw new HelloRetryException(&quot;&quot;);\n}</code></pre>\n<p></p>\n<p><img src=\"https://i.loli.net/2019/08/04/z6JxEGdhUK9y1YW.png\" alt=\"4.png\"></p>\n<h2 id=\"JDK\"><a href=\"#JDK\" class=\"headerlink\" title=\"JDK\"></a>JDK</h2><p></p>\n<pre><code class=\"java\">@Slf4j\npublic class RetryInvocationHandler implements InvocationHandler {\n\n    private final Object subject;\n\n    public RetryInvocationHandler(Object subject) {\n        this.subject = subject;\n    }\n\n    @Override\n    public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {\n        int times = 0;\n\n        while (times &lt; RetryConstant.MAX_TIMES) {\n            try {\n                return method.invoke(subject, args);\n            } catch (Exception e) {\n                times++;\n                log.info(&quot;times:{},time:{}&quot;, times, LocalTime.now());\n                if (times &gt;= RetryConstant.MAX_TIMES) {\n                    throw new RuntimeException(e);\n                }\n            }\n\n            // \n            try {\n                Thread.sleep(1000);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n\n        return null;\n    }\n\n    /**\n     * \n     *\n     * @param realSubject \n     */\n    public static Object getProxy(Object realSubject) {\n        InvocationHandler handler = new RetryInvocationHandler(realSubject);\n        return Proxy.newProxyInstance(handler.getClass().getClassLoader(),\n                realSubject.getClass().getInterfaces(), handler);\n    }\n\n}</code></pre>\n<p></p>\n<pre><code class=\"java\"> @Test\npublic void helloDynamicProxy() {\n    IHelloService realService = new HelloService();\n    IHelloService proxyService = (IHelloService)RetryInvocationHandler.getProxy(realService);\n\n    String hello = proxyService.hello();\n    log.info(&quot;hello:{}&quot;, hello);\n}</code></pre>\n<p></p>\n<pre><code class=\"shell\">hello times:1\ntime11:22:20.727586700\ntimes:1,time:11:22:20.728083\nhello times:2\ntime11:22:21.728858700\ntimes:2,time:11:22:21.729343700\nhello times:3\ntime11:22:22.729706600\ntimes:3,time:11:22:22.729706600\nhello times:4\nhello:hello</code></pre>\n<p>4<code>Hello</code></p>\n<p></p>\n<p><em>HelloService</em><em>Spring</em></p>\n<p><em>Spring</em><em>Spring</em></p>\n<p></p>\n<p><img src=\"https://i.loli.net/2019/08/11/w8R6EAGCtkneQhI.jpg\" alt=\"timg.jpg\"></p>\n<p></p>\n<pre><code class=\"java\">@Component\npublic class RetryProxyHandler {\n\n    @Autowired\n    private ConfigurableApplicationContext context;\n\n    public Object getProxy(Class clazz) {\n        // 1. Bean\n        DefaultListableBeanFactory beanFactory = (DefaultListableBeanFactory)context.getAutowireCapableBeanFactory();\n        Map&lt;String, Object&gt; beans = beanFactory.getBeansOfType(clazz);\n        Set&lt;Map.Entry&lt;String, Object&gt;&gt; entries = beans.entrySet();\n        if (entries.size() &lt;= 0){\n            throw new ProxyBeanNotFoundException();\n        }\n        // bean, bean\n        Object bean = null;\n        if (entries.size() &gt; 1){\n            for (Map.Entry&lt;String, Object&gt; entry : entries) {\n                if (entry.getKey().contains(PROXY_BEAN_SUFFIX)){\n                    bean = entry.getValue();\n                }\n            };\n            if (bean != null){\n                return bean;\n            }\n            throw new ProxyBeanNotSingleException();\n        }\n\n        Object source = beans.entrySet().iterator().next().getValue();\n        Object source = beans.entrySet().iterator().next().getValue();\n\n        // 2. \n        String proxyBeanName = clazz.getSimpleName() + PROXY_BEAN_SUFFIX;\n        Boolean exist = beanFactory.containsBean(proxyBeanName);\n        if (exist) {\n            bean = beanFactory.getBean(proxyBeanName);\n            return bean;\n        }\n\n        // 3. \n        bean = RetryInvocationHandler.getProxy(source);\n\n        // 4. beanspring\n        beanFactory.registerSingleton(proxyBeanName, bean);\n        return bean;\n    }\n}</code></pre>\n<p><code>JDK</code></p>\n<pre><code class=\"java\">@Slf4j\npublic class RetryInvocationHandler implements InvocationHandler {\n\n    private final Object subject;\n\n    public RetryInvocationHandler(Object subject) {\n        this.subject = subject;\n    }\n\n    @Override\n    public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {\n        int times = 0;\n\n        while (times &lt; RetryConstant.MAX_TIMES) {\n            try {\n                return method.invoke(subject, args);\n            } catch (Exception e) {\n                times++;\n                log.info(&quot;retry times:{},time:{}&quot;, times, LocalTime.now());\n                if (times &gt;= RetryConstant.MAX_TIMES) {\n                    throw new RuntimeException(e);\n                }\n            }\n\n            // \n            try {\n                Thread.sleep(1000);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n\n        return null;\n    }\n\n    /**\n     * \n     *\n     * @param realSubject \n     */\n    public static Object getProxy(Object realSubject) {\n        InvocationHandler handler = new RetryInvocationHandler(realSubject);\n        return Proxy.newProxyInstance(handler.getClass().getClassLoader(),\n                realSubject.getClass().getInterfaces(), handler);\n    }\n\n}</code></pre>\n<p><em>HelloService</em></p>\n<pre><code class=\"java\">@Slf4j\n@Component\npublic class HelloService implements IHelloService{\n\n    private static AtomicLong helloTimes = new AtomicLong();\n\n    @Autowired\n    private NameService nameService;\n\n    public String hello(){\n        long times = helloTimes.incrementAndGet();\n        log.info(&quot;hello times:{}&quot;, times);\n        if (times % 4 != 0){\n            log.warn(&quot;time{}&quot;, LocalTime.now() );\n            throw new HelloRetryException(&quot;Hello&quot;);\n        }\n        return &quot;hello &quot; + nameService.getName();\n    }\n}</code></pre>\n<p><em>NameService</em><em>Bean</em></p>\n<pre><code class=\"java\">@Service\npublic class NameService {\n\n    public String getName(){\n        return &quot;Frank&quot;;\n    }\n}</code></pre>\n<p></p>\n<pre><code class=\"java\">@Test\npublic void helloJdkProxy() throws InvocationTargetException, NoSuchMethodException, InstantiationException, IllegalAccessException {\n    IHelloService proxy = (IHelloService) retryProxyHandler.getProxy(HelloService.class);\n    String hello = proxy.hello();\n    log.info(&quot;hello:{}&quot;, hello);\n}</code></pre>\n<pre><code class=\"text\">hello times:1\ntime14:40:27.540672200\nretry times:1,time:14:40:27.541167400\nhello times:2\ntime14:40:28.541584600\nretry times:2,time:14:40:28.542033500\nhello times:3\ntime14:40:29.542161500\nretry times:3,time:14:40:29.542161500\nhello times:4\nhello:hello Frank</code></pre>\n<p><em>Spring</em><em>Bean</em><em>Bean</em><em>Bean</em>Singleton<em>Prototype</em><em>Singleton</em><em>Prototype</em></p>\n<p><code>JDK</code></p>\n<p><img src=\"https://i.loli.net/2019/08/11/GzmFVto59SLMgOl.jpg\" alt=\"EDaBTlbkyvbhmng.jpg\"></p>\n<h2 id=\"CGLib-\"><a href=\"#CGLib-\" class=\"headerlink\" title=\"CGLib \"></a>CGLib </h2><p><code>JDK</code><code>CGLib</code><code>JDK</code><code>CGLib</code></p>\n<p><code>CGLib</code></p>\n<pre><code class=\"java\">@Slf4j\npublic class CGLibRetryProxyHandler implements MethodInterceptor {\n    private Object target;//\n\n    //\n    @Override\n    public Object intercept(Object obj, Method method, Object[] arr, MethodProxy proxy) throws Throwable {\n        int times = 0;\n\n        while (times &lt; RetryConstant.MAX_TIMES) {\n            try {\n                return method.invoke(target, arr);\n            } catch (Exception e) {\n                times++;\n                log.info(&quot;cglib retry :{},time:{}&quot;, times, LocalTime.now());\n                if (times &gt;= RetryConstant.MAX_TIMES) {\n                    throw new RuntimeException(e);\n                }\n            }\n\n            // \n            try {\n                Thread.sleep(1000);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n        return null;\n    }\n    //\n    public Object getCglibProxy(Object objectTarget){\n        this.target = objectTarget;\n        Enhancer enhancer = new Enhancer();\n        enhancer.setSuperclass(objectTarget.getClass());\n        enhancer.setCallback(this);\n        Object result = enhancer.create();\n        return result;\n    }\n}</code></pre>\n<p><code>CGLib</code></p>\n<pre><code class=\"java\">// 3. \n//        bean = RetryInvocationHandler.getProxy(source);\nCGLibRetryProxyHandler proxyHandler = new CGLibRetryProxyHandler();\nbean = proxyHandler.getCglibProxy(source);</code></pre>\n<p></p>\n<pre><code class=\"java\">@Test\npublic void helloCGLibProxy() {\n    IHelloService proxy = (IHelloService) retryProxyHandler.getProxy(HelloService.class);\n    String hello = proxy.hello();\n    log.info(&quot;hello:{}&quot;, hello);\n\n    hello = proxy.hello();\n    log.info(&quot;hello:{}&quot;, hello);\n}</code></pre>\n<pre><code class=\"text\">hello times:1\ntime15:06:00.799679100\ncglib retry :1,time:15:06:00.800175400\nhello times:2\ntime15:06:01.800848600\ncglib retry :2,time:15:06:01.801343100\nhello times:3\ntime15:06:02.802180\ncglib retry :3,time:15:06:02.802180\nhello times:4\nhello:hello Frank\nhello times:5\ntime15:06:03.803933800\ncglib retry :1,time:15:06:03.803933800\nhello times:6\ntime15:06:04.804945400\ncglib retry :2,time:15:06:04.805442\nhello times:7\ntime15:06:05.806886500\ncglib retry :3,time:15:06:05.807881300\nhello times:8\nhello:hello Frank</code></pre>\n<p><code>JDK</code></p>\n<p></p>\n<p><img src=\"https://i.loli.net/2019/08/11/IczsWOdt4PL6vom.jpg\" alt=\"fuuTyTbkyvbhmsa.jpg\"></p>\n<h2 id=\"Spring-AOP\"><a href=\"#Spring-AOP\" class=\"headerlink\" title=\"Spring AOP\"></a>Spring AOP</h2><p><code>Spring AOP</code><code>AOP</code></p>\n<p></p>\n<pre><code class=\"java\">@Target(ElementType.METHOD)\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\npublic @interface Retryable {\n    int retryTimes() default 3;\n    int retryInterval() default 1;\n}</code></pre>\n<p><em>retryTimes</em> <em>retryInterval</em></p>\n<p></p>\n<pre><code class=\"java\">@Retryable(retryTimes = 4, retryInterval = 2)\npublic String hello(){\n    long times = helloTimes.incrementAndGet();\n    log.info(&quot;hello times:{}&quot;, times);\n    if (times % 4 != 0){\n        log.warn(&quot;time{}&quot;, LocalTime.now() );\n        throw new HelloRetryException(&quot;Hello&quot;);\n    }\n    return &quot;hello &quot; + nameService.getName();\n}</code></pre>\n<p><em>AOP</em></p>\n<pre><code class=\"java\">@Slf4j\n@Aspect\n@Component\npublic class RetryAspect {\n\n    @Pointcut(&quot;@annotation(com.mfrank.springboot.retry.demo.annotation.Retryable)&quot;)\n    private void retryMethodCall(){}\n\n    @Around(&quot;retryMethodCall()&quot;)\n    public Object retry(ProceedingJoinPoint joinPoint) throws InterruptedException {\n        // \n        Retryable retry = ((MethodSignature)joinPoint.getSignature()).getMethod().getAnnotation(Retryable.class);\n        int maxRetryTimes = retry.retryTimes();\n        int retryInterval = retry.retryInterval();\n\n        Throwable error = new RuntimeException();\n        for (int retryTimes = 1; retryTimes &lt;= maxRetryTimes; retryTimes++){\n            try {\n                Object result = joinPoint.proceed();\n                return result;\n            } catch (Throwable throwable) {\n                error = throwable;\n                log.warn(&quot;retryTimes:{}&quot;, retryTimes);\n            }\n            Thread.sleep(retryInterval * 1000);\n        }\n        throw new RetryExhaustedException(&quot;&quot;, error);\n    }\n}</code></pre>\n<p></p>\n<pre><code class=\"java\">@Autowired\nprivate HelloService helloService;\n\n@Test\npublic void helloAOP(){\n    String hello = helloService.hello();\n    log.info(&quot;hello:{}&quot;, hello);\n}</code></pre>\n<p></p>\n<pre><code class=\"text\">hello times:1\ntime16:49:30.224649800\nretryTimes:1\nhello times:2\ntime16:49:32.225230800\nretryTimes:2\nhello times:3\ntime16:49:34.225968900\nretryTimes:3\nhello times:4\nhello:hello Frank</code></pre>\n<p></p>\n<p><img src=\"https://i.loli.net/2019/08/11/fOegoZhjwECGbA9.jpg\" alt=\"IStGDBbkyvbhmow.jpg\"></p>\n<h2 id=\"Spring-\"><a href=\"#Spring-\" class=\"headerlink\" title=\"Spring \"></a>Spring </h2><p><em>Spring</em></p>\n<p></p>\n<p>jar</p>\n<pre><code class=\"xml\">&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.retry&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-retry&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n    &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n&lt;/dependency&gt;</code></pre>\n<p><em>@EnableRetry*</em>@Retryable* []  </p>\n<pre><code class=\"java\">@Retryable\npublic String hello(){\n    long times = helloTimes.incrementAndGet();\n    log.info(&quot;hello times:{}&quot;, times);\n    if (times % 4 != 0){\n        log.warn(&quot;time{}&quot;, LocalTime.now() );\n        throw new HelloRetryException(&quot;Hello&quot;);\n    }\n    return &quot;hello &quot; + nameService.getName();\n}</code></pre>\n<p>1</p>\n<p><em>Spring</em></p>\n<pre><code class=\"java\">@Retryable{value = {HelloRetryException.class}}\npublic String hello(){2\n    ...\n}</code></pre>\n<p><em>include</em><em>exclude</em></p>\n<p><em>maxAttemps</em>3</p>\n<p><em>interceptor</em>bean</p>\n<p><em>label</em></p>\n<p><em>exceptionExpression</em></p>\n<p><em>Spring</em><em>backoff</em></p>\n<p></p>\n<pre><code class=\"java\">@Retryable(value = {HelloRetryException.class}, maxAttempts = 5,\n           backoff = @Backoff(delay = 1000, multiplier = 2))\npublic String hello(){\n    ...\n}</code></pre>\n<p><em>HelloRetryException</em>51s22s4s8s</p>\n<p> <code>@Recover</code> </p>\n<p> <code>@Recover</code>  <code>@Retryable</code>  <code>@Retryable</code> </p>\n<p> <code>@Recover</code>  <code>@Recover</code> </p>\n<pre><code class=\"java\">@Recover\npublic boolean recover(Exception e) {\n    log.error(&quot;&quot;,e);\n    return false;\n}</code></pre>\n<p><code>Spring Retry</code> </p>\n<pre><code class=\"java\">@Test\npublic void normalSpringRetry() {\n    // ,key,valuetrue\n    Map&lt;Class&lt;? extends Throwable&gt;, Boolean&gt; exceptionMap = new HashMap&lt;&gt;();\n    exceptionMap.put(HelloRetryException.class, true);\n\n    // \n    RetryTemplate retryTemplate = new RetryTemplate();\n\n    // \n    FixedBackOffPolicy backOffPolicy = new FixedBackOffPolicy();\n    long fixedPeriodTime = 1000L;\n    backOffPolicy.setBackOffPeriod(fixedPeriodTime);\n\n    // \n    int maxRetryTimes = 3;\n    SimpleRetryPolicy retryPolicy = new SimpleRetryPolicy(maxRetryTimes, exceptionMap);\n\n    retryTemplate.setRetryPolicy(retryPolicy);\n    retryTemplate.setBackOffPolicy(backOffPolicy);\n\n    Boolean execute = retryTemplate.execute(\n        //RetryCallback\n        retryContext -&gt; {\n            String hello = helloService.hello();\n            log.info(&quot;:{}&quot;, hello);\n            return true;\n        },\n        // RecoverCallBack\n        retryContext -&gt; {\n            //RecoveryCallback\n            log.info(&quot;&quot;);\n            return false;\n        }\n    );\n}</code></pre>\n<p></p>\n<pre><code class=\"java\">NeverRetryPolicyRetryCallback\n\nAlwaysRetryPolicy\n\nSimpleRetryPolicy3RetryTemplate\n\nTimeoutRetryPolicy1\n\nExceptionClassifierRetryPolicy\n\nCircuitBreakerRetryPolicy3openTimeoutresetTimeoutdelegate\n\nCompositeRetryPolicy\n</code></pre>\n<p><code>Spring</code>  <code>AOP</code> </p>\n<p><code>Spring Retry</code><code>Aspect</code><code>Aspect</code> <code>@Retryable</code> </p>\n<p><code>Spring</code></p>\n<p><img src=\"https://i.loli.net/2019/08/11/9CuPZHtqMbpLA8a.jpg\" alt=\"dtFxiMbkyvbhlzo.jpg\"></p>\n<h2 id=\"Guava-Retry\"><a href=\"#Guava-Retry\" class=\"headerlink\" title=\"Guava Retry\"></a>Guava Retry</h2><p><code>Guava Retry</code></p>\n<p><code>Spring Retry</code><code>Guava Retry</code></p>\n<p></p>\n<p>jar</p>\n<pre><code class=\"xml\">&lt;dependency&gt;\n    &lt;groupId&gt;com.github.rholder&lt;/groupId&gt;\n    &lt;artifactId&gt;guava-retrying&lt;/artifactId&gt;\n    &lt;version&gt;2.0.0&lt;/version&gt;\n&lt;/dependency&gt;</code></pre>\n<p>Demo</p>\n<pre><code class=\"java\">@Test\npublic void guavaRetry() {\n    Retryer&lt;String&gt; retryer = RetryerBuilder.&lt;String&gt;newBuilder()\n        .retryIfExceptionOfType(HelloRetryException.class)\n        .retryIfResult(StringUtils::isEmpty)\n        .withWaitStrategy(WaitStrategies.fixedWait(3, TimeUnit.SECONDS))\n        .withStopStrategy(StopStrategies.stopAfterAttempt(3))\n        .build();\n\n    try {\n        retryer.call(() -&gt; helloService.hello());\n    } catch (Exception e){\n        e.printStackTrace();\n    }\n}</code></pre>\n<p><em>Retryer</em><em>retryIfException</em><em>retryIfExceptionOfType</em><em>retryIfResult</em><em>retryIfRuntimeException</em><em>RuntimeException</em></p>\n<p><em>with</em>////</p>\n<p> <code>Spring AOP</code>  <code>Spring Retry</code> </p>\n<p><code>Guava Retry</code> </p>\n<ol>\n<li></li>\n<li></li>\n<li></li>\n<li>10</li>\n</ol>\n<p><img src=\"https://i.loli.net/2019/08/11/MFpbWwysvP6Zqo7.jpg\" alt=\"GBvgTpbkyvbhlEB.jpg\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>360 <code>JDK</code>  <code>CGLib</code>  <code>Spring AOP</code><code>Spring Retry</code> <code>Spring</code>  <code>Guava Retry</code> <code>Spring</code> </p>\n<p><code>Spring Retry</code>  <code>Guava Retry</code>  <code>Spring Retry</code> </p>\n<p></p>\n<p></p>\n"},{"title":"2020","toc":true,"date":"2021-02-17T14:54:35.000Z","_content":"\n## \n\n\n\n2020180\n\n\n\n180140\n\n\n\n\n\n## \n\n2020JavaGo\n\n170170180\n\n\n\n\n\n![1.jpg](1.jpg)\n\n![2.jpg](2.jpg)\n\n\n\n## \n\n\n\n![3.jpeg](3.jpeg)\n\n mentor \n\n\n\n![4.png](4.png)\n\n\n\n![5.png](5.png)\n\n![7.jpeg](7.jpeg)\n\n![8.jpeg](8.jpeg)\n\n![6.png](6.png)\n\n![9.jpeg](9.jpeg)\n\n\n\n## \n\n10163.9153.7\n\n![10.png](10.png)\n\n![12.jpeg](12.jpeg)\n\n![11.jpeg](11.jpeg)\n\n![13.jpeg](13.jpeg)\n\n![14.jpeg](14.jpeg)\n\n\n\n15023%\n\n![15.png](15.png)\n\n![16.jpeg](16.jpeg)\n\n![18.jpeg](18.jpeg)\n\n![2.jpg](2.jpg)\n\n![17.jpeg](17.jpeg)\n\n![19.jpeg](19.jpeg)\n\n\n\n\n\n\n\n## \n\n1.5\n\n\n\n![20.png](20.png)\n\n![23.jpeg](23.jpeg)\n\n![21.jpeg](21.jpeg)\n\n![22.jpeg](22.jpeg)\n\n\n\n\n\n## \n\n\n\n115\n\n![28.jpeg](28.jpeg)\n\n153141\n\n![31.png](31.png)\n\n![26.jpeg](26.jpeg)\n\n![24.jpeg](24.jpeg)\n\n![29.jpeg](29.jpeg)\n\n![25.jpeg](25.jpeg)\n\n![30.jpeg](30.jpeg)\n\n![27.jpeg](27.jpeg)\n\n## \n\n\n\n\n\n145\n\nkeep\n\n![32.png](32.png)\n\n\n\n## \n\n\n\n14%1252020\n\n\n\n\n\n\n\n## \n\n2020flag\n\n\n\n\n\n\n\n\n\n20212021\n\n2021","source":"_posts/conclusion/2020-conclusion-slim.md","raw":"---\ntitle: 2020\ntags:\n  - \ncategories:\n  - life\ntoc: true\ndate: 2021-02-17 22:54:35\n---\n\n## \n\n\n\n2020180\n\n\n\n180140\n\n\n\n\n\n## \n\n2020JavaGo\n\n170170180\n\n\n\n\n\n![1.jpg](1.jpg)\n\n![2.jpg](2.jpg)\n\n\n\n## \n\n\n\n![3.jpeg](3.jpeg)\n\n mentor \n\n\n\n![4.png](4.png)\n\n\n\n![5.png](5.png)\n\n![7.jpeg](7.jpeg)\n\n![8.jpeg](8.jpeg)\n\n![6.png](6.png)\n\n![9.jpeg](9.jpeg)\n\n\n\n## \n\n10163.9153.7\n\n![10.png](10.png)\n\n![12.jpeg](12.jpeg)\n\n![11.jpeg](11.jpeg)\n\n![13.jpeg](13.jpeg)\n\n![14.jpeg](14.jpeg)\n\n\n\n15023%\n\n![15.png](15.png)\n\n![16.jpeg](16.jpeg)\n\n![18.jpeg](18.jpeg)\n\n![2.jpg](2.jpg)\n\n![17.jpeg](17.jpeg)\n\n![19.jpeg](19.jpeg)\n\n\n\n\n\n\n\n## \n\n1.5\n\n\n\n![20.png](20.png)\n\n![23.jpeg](23.jpeg)\n\n![21.jpeg](21.jpeg)\n\n![22.jpeg](22.jpeg)\n\n\n\n\n\n## \n\n\n\n115\n\n![28.jpeg](28.jpeg)\n\n153141\n\n![31.png](31.png)\n\n![26.jpeg](26.jpeg)\n\n![24.jpeg](24.jpeg)\n\n![29.jpeg](29.jpeg)\n\n![25.jpeg](25.jpeg)\n\n![30.jpeg](30.jpeg)\n\n![27.jpeg](27.jpeg)\n\n## \n\n\n\n\n\n145\n\nkeep\n\n![32.png](32.png)\n\n\n\n## \n\n\n\n14%1252020\n\n\n\n\n\n\n\n## \n\n2020flag\n\n\n\n\n\n\n\n\n\n20212021\n\n2021","slug":"conclusion/2020-conclusion-slim","published":1,"updated":"2021-02-17T14:54:35.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cl70rsfb400075ohu812jdjxs","content":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p>2020180</p>\n<p></p>\n<p>180140</p>\n<p></p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>2020JavaGo</p>\n<p>170170180</p>\n<p></p>\n<p></p>\n<p><img src=\"1.jpg\" alt=\"1.jpg\"></p>\n<p><img src=\"2.jpg\" alt=\"2.jpg\"></p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p><img src=\"3.jpeg\" alt=\"3.jpeg\"></p>\n<p> mentor </p>\n<p></p>\n<p><img src=\"4.png\" alt=\"4.png\"></p>\n<p></p>\n<p><img src=\"5.png\" alt=\"5.png\"></p>\n<p><img src=\"7.jpeg\" alt=\"7.jpeg\"></p>\n<p><img src=\"8.jpeg\" alt=\"8.jpeg\"></p>\n<p><img src=\"6.png\" alt=\"6.png\"></p>\n<p><img src=\"9.jpeg\" alt=\"9.jpeg\"></p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>10163.9153.7</p>\n<p><img src=\"10.png\" alt=\"10.png\"></p>\n<p><img src=\"12.jpeg\" alt=\"12.jpeg\"></p>\n<p><img src=\"11.jpeg\" alt=\"11.jpeg\"></p>\n<p><img src=\"13.jpeg\" alt=\"13.jpeg\"></p>\n<p><img src=\"14.jpeg\" alt=\"14.jpeg\"></p>\n<p></p>\n<p>15023%</p>\n<p><img src=\"15.png\" alt=\"15.png\"></p>\n<p><img src=\"16.jpeg\" alt=\"16.jpeg\"></p>\n<p><img src=\"18.jpeg\" alt=\"18.jpeg\"></p>\n<p><img src=\"2.jpg\" alt=\"2.jpg\"></p>\n<p><img src=\"17.jpeg\" alt=\"17.jpeg\"></p>\n<p><img src=\"19.jpeg\" alt=\"19.jpeg\"></p>\n<p></p>\n<p></p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>1.5</p>\n<p></p>\n<p><img src=\"20.png\" alt=\"20.png\"></p>\n<p><img src=\"23.jpeg\" alt=\"23.jpeg\"></p>\n<p><img src=\"21.jpeg\" alt=\"21.jpeg\"></p>\n<p><img src=\"22.jpeg\" alt=\"22.jpeg\"></p>\n<p></p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p>115</p>\n<p><img src=\"28.jpeg\" alt=\"28.jpeg\"></p>\n<p>153141</p>\n<p><img src=\"31.png\" alt=\"31.png\"></p>\n<p><img src=\"26.jpeg\" alt=\"26.jpeg\"></p>\n<p><img src=\"24.jpeg\" alt=\"24.jpeg\"></p>\n<p><img src=\"29.jpeg\" alt=\"29.jpeg\"></p>\n<p><img src=\"25.jpeg\" alt=\"25.jpeg\"></p>\n<p><img src=\"30.jpeg\" alt=\"30.jpeg\"></p>\n<p><img src=\"27.jpeg\" alt=\"27.jpeg\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p></p>\n<p>145</p>\n<p>keep</p>\n<p><img src=\"32.png\" alt=\"32.png\"></p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p>14%1252020</p>\n<p></p>\n<p></p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>2020flag</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p>20212021</p>\n<p>2021</p>\n<script>\n        document.querySelectorAll('.github-emoji')\n          .forEach(el => {\n            if (!el.dataset.src) { return; }\n            const img = document.createElement('img');\n            img.style = 'display:none !important;';\n            img.src = el.dataset.src;\n            img.addEventListener('error', () => {\n              img.remove();\n              el.style.color = 'inherit';\n              el.style.backgroundImage = 'none';\n              el.style.background = 'none';\n            });\n            img.addEventListener('load', () => {\n              img.remove();\n            });\n            document.body.appendChild(img);\n          });\n      </script>","site":{"data":{"friends":[{"avatar":"https://draveness.me/images/draven-logo.png","name":"","introduction":"","url":"https://draveness.me/","title":""}]}},"excerpt":"","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p>2020180</p>\n<p></p>\n<p>180140</p>\n<p></p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>2020JavaGo</p>\n<p>170170180</p>\n<p></p>\n<p></p>\n<p><img src=\"1.jpg\" alt=\"1.jpg\"></p>\n<p><img src=\"2.jpg\" alt=\"2.jpg\"></p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p><img src=\"3.jpeg\" alt=\"3.jpeg\"></p>\n<p> mentor </p>\n<p></p>\n<p><img src=\"4.png\" alt=\"4.png\"></p>\n<p></p>\n<p><img src=\"5.png\" alt=\"5.png\"></p>\n<p><img src=\"7.jpeg\" alt=\"7.jpeg\"></p>\n<p><img src=\"8.jpeg\" alt=\"8.jpeg\"></p>\n<p><img src=\"6.png\" alt=\"6.png\"></p>\n<p><img src=\"9.jpeg\" alt=\"9.jpeg\"></p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>10163.9153.7</p>\n<p><img src=\"10.png\" alt=\"10.png\"></p>\n<p><img src=\"12.jpeg\" alt=\"12.jpeg\"></p>\n<p><img src=\"11.jpeg\" alt=\"11.jpeg\"></p>\n<p><img src=\"13.jpeg\" alt=\"13.jpeg\"></p>\n<p><img src=\"14.jpeg\" alt=\"14.jpeg\"></p>\n<p></p>\n<p>15023%</p>\n<p><img src=\"15.png\" alt=\"15.png\"></p>\n<p><img src=\"16.jpeg\" alt=\"16.jpeg\"></p>\n<p><img src=\"18.jpeg\" alt=\"18.jpeg\"></p>\n<p><img src=\"2.jpg\" alt=\"2.jpg\"></p>\n<p><img src=\"17.jpeg\" alt=\"17.jpeg\"></p>\n<p><img src=\"19.jpeg\" alt=\"19.jpeg\"></p>\n<p></p>\n<p></p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>1.5</p>\n<p></p>\n<p><img src=\"20.png\" alt=\"20.png\"></p>\n<p><img src=\"23.jpeg\" alt=\"23.jpeg\"></p>\n<p><img src=\"21.jpeg\" alt=\"21.jpeg\"></p>\n<p><img src=\"22.jpeg\" alt=\"22.jpeg\"></p>\n<p></p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p>115</p>\n<p><img src=\"28.jpeg\" alt=\"28.jpeg\"></p>\n<p>153141</p>\n<p><img src=\"31.png\" alt=\"31.png\"></p>\n<p><img src=\"26.jpeg\" alt=\"26.jpeg\"></p>\n<p><img src=\"24.jpeg\" alt=\"24.jpeg\"></p>\n<p><img src=\"29.jpeg\" alt=\"29.jpeg\"></p>\n<p><img src=\"25.jpeg\" alt=\"25.jpeg\"></p>\n<p><img src=\"30.jpeg\" alt=\"30.jpeg\"></p>\n<p><img src=\"27.jpeg\" alt=\"27.jpeg\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p></p>\n<p>145</p>\n<p>keep</p>\n<p><img src=\"32.png\" alt=\"32.png\"></p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p>14%1252020</p>\n<p></p>\n<p></p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>2020flag</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p>20212021</p>\n<p>2021</p>\n"},{"title":"RR","toc":true,"date":"2020-11-28T00:54:35.000Z","_content":"\n## \n\n `R`  `R Studio`  `R` \n\n `R`  `R` \n\n1. `R` \n2. \n3. `R` \n\n## R \n\n`R`  `>` \n\n![](1.png)\n\n`R` +-*/%%^\n\n`R` \n\n```R\n> 9/2\n[1] 4.5\n> 9/4\n[1] 2.25\n> 11/3\n[1] 3.666667\n```\n\n\n\n```R\n> 9 %% 2\n[1] 1\n> 9 %% 4\n[1] 1\n> 9 %% 3\n[1] 0\n> 11 % 4\n: unexpected input in \"11 % 4\"\n```\n\n\n\n`2^3` 23\n\n```R\n> 2 ^ 3\n[1] 8\n> 3 ^ 2\n[1] 9\n> 2 ^ 10\n[1] 1024\n> 2 ^ 100\n[1] 1.267651e+30\n```\n\n## R \n\n `R` \n\n`R` \n\n`R`  `->` `=` \n\n```R\n> x <- 3\n> x <- 4\n> x <- 9\n> x\n[1] 9\n```\n\n`R` `R` `x`  `X` \n\n```R\n> X\n: 'X'\n> X <- 1\n> X <- 3\n> X\n[1] 3\n> x\n[1] 9\n```\n\n`x``y``stu_score`\n\n1. _.\n2. \n3. \n\n `R` \n\n```R\n> `* 90` <- 10\n> `* 90`\n[1] 10\n> `` <- 20\n> ``\n[1] 20\n```\n\n\n\n\n## R \n\n`R` \n\n### 1. (logical)\n\n`TRUE`  `FALSE` \n\n```R\n> v <- TRUE\n> class(v)\n[1] \"logical\"\n> y <- FALSE\n> class(v)\n[1] \"logical\"\n> y <- false\n: 'false'\n```\n\n`class`  `v`  `y`  `logical`  `TRUE`  `FALSE` \n\n### 2. (numeric)\n\n`R` 777\n\n```R\n> i <- 10\n> class(i)\n[1] \"numeric\"\n> j <- 11.1\n> class(j)\n[1] \"numeric\"\n> k <- 1.1234567890\n> class(k)\n[1] \"numeric\"\n> k\n[1] 1.123457\n> k <- 123456789.123456789\n> k\n[1] 123456789\n> k <- 1234567.123456789\n> k\n[1] 1234567\n> k <- 123456.123456789\n> k\n[1] 123456.1\n```\n\n### 3. (integer)\n\n`R` +L`2L``11L``-10L`\n\n```R\n> i <- 1L\n> class(i)\n[1] \"integer\"\n> j <- 22L\n> class(j)\n[1] \"integer\"\n> k <- -10L\n> class(k)\n[1] \"integer\"\n```\n\n### 4. (character)\n\n`R` \n\n```R\n> name <- \"Frank\"\n> class(name)\n[1] \"character\"\n> doc_name <- \"study.mp4\"\n> class(doc_name)\n[1] \"character\"\n```\n\n### 5. (Complex)\n\n`R`  `R` \n\n```R\n> c1 <- 3 + 2i\n> class(c1)\n[1] \"complex\"\n> c2 <-6 - 3i\n> class(c2)\n[1] \"complex\"\n```\n\n### 6. (Raw)\n\n`R` (`raw`)`raw` \n\n```R\n> v <- charToRaw(\"Hello\")\n> class(v)\n[1] \"raw\"\n> v\n[1] 48 65 6c 6c 6f\n```\n\n### \n\n `class()` `x`  `is.xxx()` `is.integer(x)`, `is.double(x)`, `is.numeric(x)`, `is.logical(x)`, `is.character(x)`, `is.complex(x)`, `is.raw(x)`  `is.numeric(x)`  `integer`  `double` \n\n```R\n> is.character(s)\n[1] TRUE\n> is.character(v)\n[1] FALSE\n> is.raw(v)\n[1] TRUE\n> is.integer(i)\n[1] TRUE\n> is.numeric(i)\n[1] TRUE\n> is.complex(c1)\n[1] TRUE\n> is.integer(c1)\n[1] FALSE\n```\n\n## \n\n `R` \n\n1. `R` \n2. \n3. `R` \n\n `R`  `R` ","source":"_posts/data-analysis/r-study-basic-type.md","raw":"---\ntitle: RR\ntags:\n  - R\ncategories:\n  - \n  - \ntoc: true\ndate: 2020-11-28 08:54:35\n---\n\n## \n\n `R`  `R Studio`  `R` \n\n `R`  `R` \n\n1. `R` \n2. \n3. `R` \n\n## R \n\n`R`  `>` \n\n![](1.png)\n\n`R` +-*/%%^\n\n`R` \n\n```R\n> 9/2\n[1] 4.5\n> 9/4\n[1] 2.25\n> 11/3\n[1] 3.666667\n```\n\n\n\n```R\n> 9 %% 2\n[1] 1\n> 9 %% 4\n[1] 1\n> 9 %% 3\n[1] 0\n> 11 % 4\n: unexpected input in \"11 % 4\"\n```\n\n\n\n`2^3` 23\n\n```R\n> 2 ^ 3\n[1] 8\n> 3 ^ 2\n[1] 9\n> 2 ^ 10\n[1] 1024\n> 2 ^ 100\n[1] 1.267651e+30\n```\n\n## R \n\n `R` \n\n`R` \n\n`R`  `->` `=` \n\n```R\n> x <- 3\n> x <- 4\n> x <- 9\n> x\n[1] 9\n```\n\n`R` `R` `x`  `X` \n\n```R\n> X\n: 'X'\n> X <- 1\n> X <- 3\n> X\n[1] 3\n> x\n[1] 9\n```\n\n`x``y``stu_score`\n\n1. _.\n2. \n3. \n\n `R` \n\n```R\n> `* 90` <- 10\n> `* 90`\n[1] 10\n> `` <- 20\n> ``\n[1] 20\n```\n\n\n\n\n## R \n\n`R` \n\n### 1. (logical)\n\n`TRUE`  `FALSE` \n\n```R\n> v <- TRUE\n> class(v)\n[1] \"logical\"\n> y <- FALSE\n> class(v)\n[1] \"logical\"\n> y <- false\n: 'false'\n```\n\n`class`  `v`  `y`  `logical`  `TRUE`  `FALSE` \n\n### 2. (numeric)\n\n`R` 777\n\n```R\n> i <- 10\n> class(i)\n[1] \"numeric\"\n> j <- 11.1\n> class(j)\n[1] \"numeric\"\n> k <- 1.1234567890\n> class(k)\n[1] \"numeric\"\n> k\n[1] 1.123457\n> k <- 123456789.123456789\n> k\n[1] 123456789\n> k <- 1234567.123456789\n> k\n[1] 1234567\n> k <- 123456.123456789\n> k\n[1] 123456.1\n```\n\n### 3. (integer)\n\n`R` +L`2L``11L``-10L`\n\n```R\n> i <- 1L\n> class(i)\n[1] \"integer\"\n> j <- 22L\n> class(j)\n[1] \"integer\"\n> k <- -10L\n> class(k)\n[1] \"integer\"\n```\n\n### 4. (character)\n\n`R` \n\n```R\n> name <- \"Frank\"\n> class(name)\n[1] \"character\"\n> doc_name <- \"study.mp4\"\n> class(doc_name)\n[1] \"character\"\n```\n\n### 5. (Complex)\n\n`R`  `R` \n\n```R\n> c1 <- 3 + 2i\n> class(c1)\n[1] \"complex\"\n> c2 <-6 - 3i\n> class(c2)\n[1] \"complex\"\n```\n\n### 6. (Raw)\n\n`R` (`raw`)`raw` \n\n```R\n> v <- charToRaw(\"Hello\")\n> class(v)\n[1] \"raw\"\n> v\n[1] 48 65 6c 6c 6f\n```\n\n### \n\n `class()` `x`  `is.xxx()` `is.integer(x)`, `is.double(x)`, `is.numeric(x)`, `is.logical(x)`, `is.character(x)`, `is.complex(x)`, `is.raw(x)`  `is.numeric(x)`  `integer`  `double` \n\n```R\n> is.character(s)\n[1] TRUE\n> is.character(v)\n[1] FALSE\n> is.raw(v)\n[1] TRUE\n> is.integer(i)\n[1] TRUE\n> is.numeric(i)\n[1] TRUE\n> is.complex(c1)\n[1] TRUE\n> is.integer(c1)\n[1] FALSE\n```\n\n## \n\n `R` \n\n1. `R` \n2. \n3. `R` \n\n `R`  `R` ","slug":"data-analysis/r-study-basic-type","published":1,"updated":"2020-11-28T00:54:35.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cl70rsfb6000a5ohu5zhzbo4j","content":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> <code>R</code>  <code>R Studio</code>  <code>R</code> </p>\n<p> <code>R</code>  <code>R</code> </p>\n<ol>\n<li><code>R</code> </li>\n<li></li>\n<li><code>R</code> </li>\n</ol>\n<h2 id=\"R-\"><a href=\"#R-\" class=\"headerlink\" title=\"R \"></a>R </h2><p><code>R</code>  <code>&gt;</code> </p>\n<p><img src=\"1.png\" alt=\"\"></p>\n<p><code>R</code> +-*/%%^</p>\n<p><code>R</code> </p>\n<pre class=\" language-R\"><code class=\"language-R\">> 9/2\n[1] 4.5\n> 9/4\n[1] 2.25\n> 11/3\n[1] 3.666667</code></pre>\n<p></p>\n<pre class=\" language-R\"><code class=\"language-R\">> 9 %% 2\n[1] 1\n> 9 %% 4\n[1] 1\n> 9 %% 3\n[1] 0\n> 11 % 4\n: unexpected input in \"11 % 4\"</code></pre>\n<p></p>\n<p><code>2^3</code> 23</p>\n<pre class=\" language-R\"><code class=\"language-R\">> 2 ^ 3\n[1] 8\n> 3 ^ 2\n[1] 9\n> 2 ^ 10\n[1] 1024\n> 2 ^ 100\n[1] 1.267651e+30</code></pre>\n<h2 id=\"R-\"><a href=\"#R-\" class=\"headerlink\" title=\"R \"></a>R </h2><p> <code>R</code> </p>\n<p><code>R</code> </p>\n<p><code>R</code>  <code>-&gt;</code> <code>=</code> </p>\n<pre class=\" language-R\"><code class=\"language-R\">> x <- 3\n> x <- 4\n> x <- 9\n> x\n[1] 9</code></pre>\n<p><code>R</code> <code>R</code> <code>x</code>  <code>X</code> </p>\n<pre class=\" language-R\"><code class=\"language-R\">> X\n: 'X'\n> X <- 1\n> X <- 3\n> X\n[1] 3\n> x\n[1] 9</code></pre>\n<p><code>x</code><code>y</code><code>stu_score</code></p>\n<ol>\n<li>_.</li>\n<li></li>\n<li></li>\n</ol>\n<p> <code>R</code> </p>\n<pre class=\" language-R\"><code class=\"language-R\">> `* 90` <- 10\n> `* 90`\n[1] 10\n> `` <- 20\n> ``\n[1] 20</code></pre>\n<p></p>\n<h2 id=\"R-\"><a href=\"#R-\" class=\"headerlink\" title=\"R \"></a>R </h2><p><code>R</code> </p>\n<h3 id=\"1--logical\"><a href=\"#1--logical\" class=\"headerlink\" title=\"1. (logical)\"></a>1. (logical)</h3><p><code>TRUE</code>  <code>FALSE</code> </p>\n<pre class=\" language-R\"><code class=\"language-R\">> v <- TRUE\n> class(v)\n[1] \"logical\"\n> y <- FALSE\n> class(v)\n[1] \"logical\"\n> y <- false\n: 'false'</code></pre>\n<p><code>class</code>  <code>v</code>  <code>y</code>  <code>logical</code>  <code>TRUE</code>  <code>FALSE</code> </p>\n<h3 id=\"2--numeric\"><a href=\"#2--numeric\" class=\"headerlink\" title=\"2. (numeric)\"></a>2. (numeric)</h3><p><code>R</code> 777</p>\n<pre class=\" language-R\"><code class=\"language-R\">> i <- 10\n> class(i)\n[1] \"numeric\"\n> j <- 11.1\n> class(j)\n[1] \"numeric\"\n> k <- 1.1234567890\n> class(k)\n[1] \"numeric\"\n> k\n[1] 1.123457\n> k <- 123456789.123456789\n> k\n[1] 123456789\n> k <- 1234567.123456789\n> k\n[1] 1234567\n> k <- 123456.123456789\n> k\n[1] 123456.1</code></pre>\n<h3 id=\"3--integer\"><a href=\"#3--integer\" class=\"headerlink\" title=\"3. (integer)\"></a>3. (integer)</h3><p><code>R</code> +L<code>2L</code><code>11L</code><code>-10L</code></p>\n<pre class=\" language-R\"><code class=\"language-R\">> i <- 1L\n> class(i)\n[1] \"integer\"\n> j <- 22L\n> class(j)\n[1] \"integer\"\n> k <- -10L\n> class(k)\n[1] \"integer\"</code></pre>\n<h3 id=\"4--character\"><a href=\"#4--character\" class=\"headerlink\" title=\"4. (character)\"></a>4. (character)</h3><p><code>R</code> </p>\n<pre class=\" language-R\"><code class=\"language-R\">> name <- \"Frank\"\n> class(name)\n[1] \"character\"\n> doc_name <- \"study.mp4\"\n> class(doc_name)\n[1] \"character\"</code></pre>\n<h3 id=\"5--Complex\"><a href=\"#5--Complex\" class=\"headerlink\" title=\"5. (Complex)\"></a>5. (Complex)</h3><p><code>R</code>  <code>R</code> </p>\n<pre class=\" language-R\"><code class=\"language-R\">> c1 <- 3 + 2i\n> class(c1)\n[1] \"complex\"\n> c2 <-6 - 3i\n> class(c2)\n[1] \"complex\"</code></pre>\n<h3 id=\"6--Raw\"><a href=\"#6--Raw\" class=\"headerlink\" title=\"6. (Raw)\"></a>6. (Raw)</h3><p><code>R</code> (<code>raw</code>)<code>raw</code> </p>\n<pre class=\" language-R\"><code class=\"language-R\">> v <- charToRaw(\"Hello\")\n> class(v)\n[1] \"raw\"\n> v\n[1] 48 65 6c 6c 6f</code></pre>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> <code>class()</code> <code>x</code>  <code>is.xxx()</code> <code>is.integer(x)</code>, <code>is.double(x)</code>, <code>is.numeric(x)</code>, <code>is.logical(x)</code>, <code>is.character(x)</code>, <code>is.complex(x)</code>, <code>is.raw(x)</code>  <code>is.numeric(x)</code>  <code>integer</code>  <code>double</code> </p>\n<pre class=\" language-R\"><code class=\"language-R\">> is.character(s)\n[1] TRUE\n> is.character(v)\n[1] FALSE\n> is.raw(v)\n[1] TRUE\n> is.integer(i)\n[1] TRUE\n> is.numeric(i)\n[1] TRUE\n> is.complex(c1)\n[1] TRUE\n> is.integer(c1)\n[1] FALSE</code></pre>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> <code>R</code> </p>\n<ol>\n<li><code>R</code> </li>\n<li></li>\n<li><code>R</code> </li>\n</ol>\n<p> <code>R</code>  <code>R</code> </p>\n<script>\n        document.querySelectorAll('.github-emoji')\n          .forEach(el => {\n            if (!el.dataset.src) { return; }\n            const img = document.createElement('img');\n            img.style = 'display:none !important;';\n            img.src = el.dataset.src;\n            img.addEventListener('error', () => {\n              img.remove();\n              el.style.color = 'inherit';\n              el.style.backgroundImage = 'none';\n              el.style.background = 'none';\n            });\n            img.addEventListener('load', () => {\n              img.remove();\n            });\n            document.body.appendChild(img);\n          });\n      </script>","site":{"data":{"friends":[{"avatar":"https://draveness.me/images/draven-logo.png","name":"","introduction":"","url":"https://draveness.me/","title":""}]}},"excerpt":"","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> <code>R</code>  <code>R Studio</code>  <code>R</code> </p>\n<p> <code>R</code>  <code>R</code> </p>\n<ol>\n<li><code>R</code> </li>\n<li></li>\n<li><code>R</code> </li>\n</ol>\n<h2 id=\"R-\"><a href=\"#R-\" class=\"headerlink\" title=\"R \"></a>R </h2><p><code>R</code>  <code>&gt;</code> </p>\n<p><img src=\"1.png\" alt=\"\"></p>\n<p><code>R</code> +-*/%%^</p>\n<p><code>R</code> </p>\n<pre><code class=\"R\">&gt; 9/2\n[1] 4.5\n&gt; 9/4\n[1] 2.25\n&gt; 11/3\n[1] 3.666667</code></pre>\n<p></p>\n<pre><code class=\"R\">&gt; 9 %% 2\n[1] 1\n&gt; 9 %% 4\n[1] 1\n&gt; 9 %% 3\n[1] 0\n&gt; 11 % 4\n: unexpected input in &quot;11 % 4&quot;</code></pre>\n<p></p>\n<p><code>2^3</code> 23</p>\n<pre><code class=\"R\">&gt; 2 ^ 3\n[1] 8\n&gt; 3 ^ 2\n[1] 9\n&gt; 2 ^ 10\n[1] 1024\n&gt; 2 ^ 100\n[1] 1.267651e+30</code></pre>\n<h2 id=\"R-\"><a href=\"#R-\" class=\"headerlink\" title=\"R \"></a>R </h2><p> <code>R</code> </p>\n<p><code>R</code> </p>\n<p><code>R</code>  <code>-&gt;</code> <code>=</code> </p>\n<pre><code class=\"R\">&gt; x &lt;- 3\n&gt; x &lt;- 4\n&gt; x &lt;- 9\n&gt; x\n[1] 9</code></pre>\n<p><code>R</code> <code>R</code> <code>x</code>  <code>X</code> </p>\n<pre><code class=\"R\">&gt; X\n: &#39;X&#39;\n&gt; X &lt;- 1\n&gt; X &lt;- 3\n&gt; X\n[1] 3\n&gt; x\n[1] 9</code></pre>\n<p><code>x</code><code>y</code><code>stu_score</code></p>\n<ol>\n<li>_.</li>\n<li></li>\n<li></li>\n</ol>\n<p> <code>R</code> </p>\n<pre><code class=\"R\">&gt; `* 90` &lt;- 10\n&gt; `* 90`\n[1] 10\n&gt; `` &lt;- 20\n&gt; ``\n[1] 20</code></pre>\n<p></p>\n<h2 id=\"R-\"><a href=\"#R-\" class=\"headerlink\" title=\"R \"></a>R </h2><p><code>R</code> </p>\n<h3 id=\"1--logical\"><a href=\"#1--logical\" class=\"headerlink\" title=\"1. (logical)\"></a>1. (logical)</h3><p><code>TRUE</code>  <code>FALSE</code> </p>\n<pre><code class=\"R\">&gt; v &lt;- TRUE\n&gt; class(v)\n[1] &quot;logical&quot;\n&gt; y &lt;- FALSE\n&gt; class(v)\n[1] &quot;logical&quot;\n&gt; y &lt;- false\n: &#39;false&#39;</code></pre>\n<p><code>class</code>  <code>v</code>  <code>y</code>  <code>logical</code>  <code>TRUE</code>  <code>FALSE</code> </p>\n<h3 id=\"2--numeric\"><a href=\"#2--numeric\" class=\"headerlink\" title=\"2. (numeric)\"></a>2. (numeric)</h3><p><code>R</code> 777</p>\n<pre><code class=\"R\">&gt; i &lt;- 10\n&gt; class(i)\n[1] &quot;numeric&quot;\n&gt; j &lt;- 11.1\n&gt; class(j)\n[1] &quot;numeric&quot;\n&gt; k &lt;- 1.1234567890\n&gt; class(k)\n[1] &quot;numeric&quot;\n&gt; k\n[1] 1.123457\n&gt; k &lt;- 123456789.123456789\n&gt; k\n[1] 123456789\n&gt; k &lt;- 1234567.123456789\n&gt; k\n[1] 1234567\n&gt; k &lt;- 123456.123456789\n&gt; k\n[1] 123456.1</code></pre>\n<h3 id=\"3--integer\"><a href=\"#3--integer\" class=\"headerlink\" title=\"3. (integer)\"></a>3. (integer)</h3><p><code>R</code> +L<code>2L</code><code>11L</code><code>-10L</code></p>\n<pre><code class=\"R\">&gt; i &lt;- 1L\n&gt; class(i)\n[1] &quot;integer&quot;\n&gt; j &lt;- 22L\n&gt; class(j)\n[1] &quot;integer&quot;\n&gt; k &lt;- -10L\n&gt; class(k)\n[1] &quot;integer&quot;</code></pre>\n<h3 id=\"4--character\"><a href=\"#4--character\" class=\"headerlink\" title=\"4. (character)\"></a>4. (character)</h3><p><code>R</code> </p>\n<pre><code class=\"R\">&gt; name &lt;- &quot;Frank&quot;\n&gt; class(name)\n[1] &quot;character&quot;\n&gt; doc_name &lt;- &quot;study.mp4&quot;\n&gt; class(doc_name)\n[1] &quot;character&quot;</code></pre>\n<h3 id=\"5--Complex\"><a href=\"#5--Complex\" class=\"headerlink\" title=\"5. (Complex)\"></a>5. (Complex)</h3><p><code>R</code>  <code>R</code> </p>\n<pre><code class=\"R\">&gt; c1 &lt;- 3 + 2i\n&gt; class(c1)\n[1] &quot;complex&quot;\n&gt; c2 &lt;-6 - 3i\n&gt; class(c2)\n[1] &quot;complex&quot;</code></pre>\n<h3 id=\"6--Raw\"><a href=\"#6--Raw\" class=\"headerlink\" title=\"6. (Raw)\"></a>6. (Raw)</h3><p><code>R</code> (<code>raw</code>)<code>raw</code> </p>\n<pre><code class=\"R\">&gt; v &lt;- charToRaw(&quot;Hello&quot;)\n&gt; class(v)\n[1] &quot;raw&quot;\n&gt; v\n[1] 48 65 6c 6c 6f</code></pre>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> <code>class()</code> <code>x</code>  <code>is.xxx()</code> <code>is.integer(x)</code>, <code>is.double(x)</code>, <code>is.numeric(x)</code>, <code>is.logical(x)</code>, <code>is.character(x)</code>, <code>is.complex(x)</code>, <code>is.raw(x)</code>  <code>is.numeric(x)</code>  <code>integer</code>  <code>double</code> </p>\n<pre><code class=\"R\">&gt; is.character(s)\n[1] TRUE\n&gt; is.character(v)\n[1] FALSE\n&gt; is.raw(v)\n[1] TRUE\n&gt; is.integer(i)\n[1] TRUE\n&gt; is.numeric(i)\n[1] TRUE\n&gt; is.complex(c1)\n[1] TRUE\n&gt; is.integer(c1)\n[1] FALSE</code></pre>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> <code>R</code> </p>\n<ol>\n<li><code>R</code> </li>\n<li></li>\n<li><code>R</code> </li>\n</ol>\n<p> <code>R</code>  <code>R</code> </p>\n"},{"title":"RR","toc":true,"date":"2020-11-28T00:47:35.000Z","_content":"\n## \n\n`R`  `R`  `Windows``Mac OS``Linux` \n\n `R` \n\n## R \n\n `https://cran.r-project.org/mirrors.html`  `China` \n\n![](2.png)\n\n\n\n `Windows`  `base` \n\n![](3.png)\n![](4.png)\n![](5.png)\n\n `Mac`  `Download R for (Mac) OS X`\n\n![](6.png)\n\n `R` \n\n![](7.png)\n\n## R studio \n\n `https://www.rstudio.com/products/rstudio/download/`  `Free` \n\n![](8.png)\n\n\n\n![](9.png)\n\n\n\n\n\n![](10.png)\n\n## R \n\n`R Studio` R \n\n `RStudio` `Consule`  `R` \n\n```\nR version 4.0.3 (2020-10-10) -- \"Bunny-Wunnies Freak Out\"\nCopyright (C) 2020 The R Foundation for Statistical Computing\nPlatform: x86_64-apple-darwin17.0 (64-bit)\n\nR\n\n'license()''licence()'\n\nR.\n'contributors()'\n'citation()'RR\n\n'demo()''help()'\n'help.start()'HTML\n'q()'R.\n```\n\n\n\n![](11.png)\n\n `consule` `example(plot)` `plot` \n\n```R\n> example(plot)\n\nplot> Speed <- cars$speed\n\nplot> Distance <- cars$dist\n\nplot> plot(Speed, Distance, panel.first = grid(8, 8),\nplot+      pch = 0, cex = 1.2, col = \"blue\")\n<Return>: \n\nplot> plot(Speed, Distance,\nplot+      panel.first = lines(stats::lowess(Speed, Distance), lty = \"dashed\"),\nplot+      pch = 0, cex = 1.2, col = \"blue\")\n<Return>: \n\nplot> ## Show the different plot types\nplot> x <- 0:12\n\nplot> y <- sin(pi/5 * x)\n\nplot> op <- par(mfrow = c(3,3), mar = .1+ c(2,2,3,1))\n\nplot> for (tp in c(\"p\",\"l\",\"b\",  \"c\",\"o\",\"h\",  \"s\",\"S\",\"n\")) {\nplot+    plot(y ~ x, type = tp, main = paste0(\"plot(*, type = \\\"\", tp, \"\\\")\"))\nplot+    if(tp == \"S\") {\nplot+       lines(x, y, type = \"s\", col = \"red\", lty = 2)\nplot+       mtext(\"lines(*, type = \\\"s\\\", ...)\", col = \"red\", cex = 0.8)\nplot+    }\nplot+ }\n<Return>: \n\nplot> par(op)\n\nplot> ##--- Log-Log Plot  with  custom axes\nplot> lx <- seq(1, 5, length = 41)\n\nplot> yl <- expression(e^{-frac(1,2) * {log[10](x)}^2})\n\nplot> y <- exp(-.5*lx^2)\n\nplot> op <- par(mfrow = c(2,1), mar = par(\"mar\")-c(1,0,2,0), mgp = c(2, .7, 0))\n\nplot> plot(10^lx, y, log = \"xy\", type = \"l\", col = \"purple\",\nplot+      main = \"Log-Log plot\", ylab = yl, xlab = \"x\")\n<Return>: \n\nplot> plot(10^lx, y, log = \"xy\", type = \"o\", pch = \".\", col = \"forestgreen\",\nplot+      main = \"Log-Log plot with custom axes\", ylab = yl, xlab = \"x\",\nplot+      axes = FALSE, frame.plot = TRUE)\n\nplot> my.at <- 10^(1:5)\n\nplot> axis(1, at = my.at, labels = formatC(my.at, format = \"fg\"))\n\nplot> e.y <- -5:-1 ; at.y <- 10^e.y\n\nplot> axis(2, at = at.y, col.axis = \"red\", las = 1,\nplot+      labels = as.expression(lapply(e.y, function(E) bquote(10^.(E)))))\n\nplot> par(op)\n> \n```\n\n\n\n![](12.png)\n![](13.png)\n![](14.png)\n![](15.png)\n\n `plot`  `plot` \n\n## \n\n`R`  `Hello world`\n\n `R`  `R` \n\n `R`  `R` \n\n","source":"_posts/data-analysis/r-study-install.md","raw":"---\ntitle: RR\ntags:\n  - R\ncategories:\n  - \n  - \ntoc: true\ndate: 2020-11-28 08:47:35\n---\n\n## \n\n`R`  `R`  `Windows``Mac OS``Linux` \n\n `R` \n\n## R \n\n `https://cran.r-project.org/mirrors.html`  `China` \n\n![](2.png)\n\n\n\n `Windows`  `base` \n\n![](3.png)\n![](4.png)\n![](5.png)\n\n `Mac`  `Download R for (Mac) OS X`\n\n![](6.png)\n\n `R` \n\n![](7.png)\n\n## R studio \n\n `https://www.rstudio.com/products/rstudio/download/`  `Free` \n\n![](8.png)\n\n\n\n![](9.png)\n\n\n\n\n\n![](10.png)\n\n## R \n\n`R Studio` R \n\n `RStudio` `Consule`  `R` \n\n```\nR version 4.0.3 (2020-10-10) -- \"Bunny-Wunnies Freak Out\"\nCopyright (C) 2020 The R Foundation for Statistical Computing\nPlatform: x86_64-apple-darwin17.0 (64-bit)\n\nR\n\n'license()''licence()'\n\nR.\n'contributors()'\n'citation()'RR\n\n'demo()''help()'\n'help.start()'HTML\n'q()'R.\n```\n\n\n\n![](11.png)\n\n `consule` `example(plot)` `plot` \n\n```R\n> example(plot)\n\nplot> Speed <- cars$speed\n\nplot> Distance <- cars$dist\n\nplot> plot(Speed, Distance, panel.first = grid(8, 8),\nplot+      pch = 0, cex = 1.2, col = \"blue\")\n<Return>: \n\nplot> plot(Speed, Distance,\nplot+      panel.first = lines(stats::lowess(Speed, Distance), lty = \"dashed\"),\nplot+      pch = 0, cex = 1.2, col = \"blue\")\n<Return>: \n\nplot> ## Show the different plot types\nplot> x <- 0:12\n\nplot> y <- sin(pi/5 * x)\n\nplot> op <- par(mfrow = c(3,3), mar = .1+ c(2,2,3,1))\n\nplot> for (tp in c(\"p\",\"l\",\"b\",  \"c\",\"o\",\"h\",  \"s\",\"S\",\"n\")) {\nplot+    plot(y ~ x, type = tp, main = paste0(\"plot(*, type = \\\"\", tp, \"\\\")\"))\nplot+    if(tp == \"S\") {\nplot+       lines(x, y, type = \"s\", col = \"red\", lty = 2)\nplot+       mtext(\"lines(*, type = \\\"s\\\", ...)\", col = \"red\", cex = 0.8)\nplot+    }\nplot+ }\n<Return>: \n\nplot> par(op)\n\nplot> ##--- Log-Log Plot  with  custom axes\nplot> lx <- seq(1, 5, length = 41)\n\nplot> yl <- expression(e^{-frac(1,2) * {log[10](x)}^2})\n\nplot> y <- exp(-.5*lx^2)\n\nplot> op <- par(mfrow = c(2,1), mar = par(\"mar\")-c(1,0,2,0), mgp = c(2, .7, 0))\n\nplot> plot(10^lx, y, log = \"xy\", type = \"l\", col = \"purple\",\nplot+      main = \"Log-Log plot\", ylab = yl, xlab = \"x\")\n<Return>: \n\nplot> plot(10^lx, y, log = \"xy\", type = \"o\", pch = \".\", col = \"forestgreen\",\nplot+      main = \"Log-Log plot with custom axes\", ylab = yl, xlab = \"x\",\nplot+      axes = FALSE, frame.plot = TRUE)\n\nplot> my.at <- 10^(1:5)\n\nplot> axis(1, at = my.at, labels = formatC(my.at, format = \"fg\"))\n\nplot> e.y <- -5:-1 ; at.y <- 10^e.y\n\nplot> axis(2, at = at.y, col.axis = \"red\", las = 1,\nplot+      labels = as.expression(lapply(e.y, function(E) bquote(10^.(E)))))\n\nplot> par(op)\n> \n```\n\n\n\n![](12.png)\n![](13.png)\n![](14.png)\n![](15.png)\n\n `plot`  `plot` \n\n## \n\n`R`  `Hello world`\n\n `R`  `R` \n\n `R`  `R` \n\n","slug":"data-analysis/r-study-install","published":1,"updated":"2020-11-28T00:47:35.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cl70rsfb7000b5ohuhon4f38o","content":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><code>R</code>  <code>R</code>  <code>Windows</code><code>Mac OS</code><code>Linux</code> </p>\n<p> <code>R</code> </p>\n<h2 id=\"R-\"><a href=\"#R-\" class=\"headerlink\" title=\"R \"></a>R </h2><p> <code>https://cran.r-project.org/mirrors.html</code>  <code>China</code> </p>\n<p><img src=\"2.png\" alt=\"\"></p>\n<p></p>\n<p> <code>Windows</code>  <code>base</code> </p>\n<p><img src=\"3.png\" alt=\"\"><br><img src=\"4.png\" alt=\"\"><br><img src=\"5.png\" alt=\"\"></p>\n<p> <code>Mac</code>  <code>Download R for (Mac) OS X</code></p>\n<p><img src=\"6.png\" alt=\"\"></p>\n<p> <code>R</code> </p>\n<p><img src=\"7.png\" alt=\"\"></p>\n<h2 id=\"R-studio-\"><a href=\"#R-studio-\" class=\"headerlink\" title=\"R studio \"></a>R studio </h2><p> <code>https://www.rstudio.com/products/rstudio/download/</code>  <code>Free</code> </p>\n<p><img src=\"8.png\" alt=\"\"></p>\n<p></p>\n<p><img src=\"9.png\" alt=\"\"></p>\n<p></p>\n<p></p>\n<p><img src=\"10.png\" alt=\"\"></p>\n<h2 id=\"R-\"><a href=\"#R-\" class=\"headerlink\" title=\"R \"></a>R </h2><p><code>R Studio</code> R </p>\n<p> <code>RStudio</code> <code>Consule</code>  <code>R</code> </p>\n<pre><code>R version 4.0.3 (2020-10-10) -- \"Bunny-Wunnies Freak Out\"\nCopyright (C) 2020 The R Foundation for Statistical Computing\nPlatform: x86_64-apple-darwin17.0 (64-bit)\n\nR\n\n'license()''licence()'\n\nR.\n'contributors()'\n'citation()'RR\n\n'demo()''help()'\n'help.start()'HTML\n'q()'R.</code></pre><p></p>\n<p><img src=\"11.png\" alt=\"\"></p>\n<p> <code>consule</code> <code>example(plot)</code> <code>plot</code> </p>\n<pre class=\" language-R\"><code class=\"language-R\">> example(plot)\n\nplot> Speed <- cars$speed\n\nplot> Distance <- cars$dist\n\nplot> plot(Speed, Distance, panel.first = grid(8, 8),\nplot+      pch = 0, cex = 1.2, col = \"blue\")\n<Return>: \n\nplot> plot(Speed, Distance,\nplot+      panel.first = lines(stats::lowess(Speed, Distance), lty = \"dashed\"),\nplot+      pch = 0, cex = 1.2, col = \"blue\")\n<Return>: \n\nplot> ## Show the different plot types\nplot> x <- 0:12\n\nplot> y <- sin(pi/5 * x)\n\nplot> op <- par(mfrow = c(3,3), mar = .1+ c(2,2,3,1))\n\nplot> for (tp in c(\"p\",\"l\",\"b\",  \"c\",\"o\",\"h\",  \"s\",\"S\",\"n\")) {\nplot+    plot(y ~ x, type = tp, main = paste0(\"plot(*, type = \\\"\", tp, \"\\\")\"))\nplot+    if(tp == \"S\") {\nplot+       lines(x, y, type = \"s\", col = \"red\", lty = 2)\nplot+       mtext(\"lines(*, type = \\\"s\\\", ...)\", col = \"red\", cex = 0.8)\nplot+    }\nplot+ }\n<Return>: \n\nplot> par(op)\n\nplot> ##--- Log-Log Plot  with  custom axes\nplot> lx <- seq(1, 5, length = 41)\n\nplot> yl <- expression(e^{-frac(1,2) * {log[10](x)}^2})\n\nplot> y <- exp(-.5*lx^2)\n\nplot> op <- par(mfrow = c(2,1), mar = par(\"mar\")-c(1,0,2,0), mgp = c(2, .7, 0))\n\nplot> plot(10^lx, y, log = \"xy\", type = \"l\", col = \"purple\",\nplot+      main = \"Log-Log plot\", ylab = yl, xlab = \"x\")\n<Return>: \n\nplot> plot(10^lx, y, log = \"xy\", type = \"o\", pch = \".\", col = \"forestgreen\",\nplot+      main = \"Log-Log plot with custom axes\", ylab = yl, xlab = \"x\",\nplot+      axes = FALSE, frame.plot = TRUE)\n\nplot> my.at <- 10^(1:5)\n\nplot> axis(1, at = my.at, labels = formatC(my.at, format = \"fg\"))\n\nplot> e.y <- -5:-1 ; at.y <- 10^e.y\n\nplot> axis(2, at = at.y, col.axis = \"red\", las = 1,\nplot+      labels = as.expression(lapply(e.y, function(E) bquote(10^.(E)))))\n\nplot> par(op)\n> </code></pre>\n<p></p>\n<p><img src=\"12.png\" alt=\"\"><br><img src=\"13.png\" alt=\"\"><br><img src=\"14.png\" alt=\"\"><br><img src=\"15.png\" alt=\"\"></p>\n<p> <code>plot</code>  <code>plot</code> </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><code>R</code>  <code>Hello world</code></p>\n<p> <code>R</code>  <code>R</code> </p>\n<p> <code>R</code>  <code>R</code> </p>\n<script>\n        document.querySelectorAll('.github-emoji')\n          .forEach(el => {\n            if (!el.dataset.src) { return; }\n            const img = document.createElement('img');\n            img.style = 'display:none !important;';\n            img.src = el.dataset.src;\n            img.addEventListener('error', () => {\n              img.remove();\n              el.style.color = 'inherit';\n              el.style.backgroundImage = 'none';\n              el.style.background = 'none';\n            });\n            img.addEventListener('load', () => {\n              img.remove();\n            });\n            document.body.appendChild(img);\n          });\n      </script>","site":{"data":{"friends":[{"avatar":"https://draveness.me/images/draven-logo.png","name":"","introduction":"","url":"https://draveness.me/","title":""}]}},"excerpt":"","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><code>R</code>  <code>R</code>  <code>Windows</code><code>Mac OS</code><code>Linux</code> </p>\n<p> <code>R</code> </p>\n<h2 id=\"R-\"><a href=\"#R-\" class=\"headerlink\" title=\"R \"></a>R </h2><p> <code>https://cran.r-project.org/mirrors.html</code>  <code>China</code> </p>\n<p><img src=\"2.png\" alt=\"\"></p>\n<p></p>\n<p> <code>Windows</code>  <code>base</code> </p>\n<p><img src=\"3.png\" alt=\"\"><br><img src=\"4.png\" alt=\"\"><br><img src=\"5.png\" alt=\"\"></p>\n<p> <code>Mac</code>  <code>Download R for (Mac) OS X</code></p>\n<p><img src=\"6.png\" alt=\"\"></p>\n<p> <code>R</code> </p>\n<p><img src=\"7.png\" alt=\"\"></p>\n<h2 id=\"R-studio-\"><a href=\"#R-studio-\" class=\"headerlink\" title=\"R studio \"></a>R studio </h2><p> <code>https://www.rstudio.com/products/rstudio/download/</code>  <code>Free</code> </p>\n<p><img src=\"8.png\" alt=\"\"></p>\n<p></p>\n<p><img src=\"9.png\" alt=\"\"></p>\n<p></p>\n<p></p>\n<p><img src=\"10.png\" alt=\"\"></p>\n<h2 id=\"R-\"><a href=\"#R-\" class=\"headerlink\" title=\"R \"></a>R </h2><p><code>R Studio</code> R </p>\n<p> <code>RStudio</code> <code>Consule</code>  <code>R</code> </p>\n<pre><code>R version 4.0.3 (2020-10-10) -- &quot;Bunny-Wunnies Freak Out&quot;\nCopyright (C) 2020 The R Foundation for Statistical Computing\nPlatform: x86_64-apple-darwin17.0 (64-bit)\n\nR\n\n&#39;license()&#39;&#39;licence()&#39;\n\nR.\n&#39;contributors()&#39;\n&#39;citation()&#39;RR\n\n&#39;demo()&#39;&#39;help()&#39;\n&#39;help.start()&#39;HTML\n&#39;q()&#39;R.</code></pre><p></p>\n<p><img src=\"11.png\" alt=\"\"></p>\n<p> <code>consule</code> <code>example(plot)</code> <code>plot</code> </p>\n<pre><code class=\"R\">&gt; example(plot)\n\nplot&gt; Speed &lt;- cars$speed\n\nplot&gt; Distance &lt;- cars$dist\n\nplot&gt; plot(Speed, Distance, panel.first = grid(8, 8),\nplot+      pch = 0, cex = 1.2, col = &quot;blue&quot;)\n&lt;Return&gt;: \n\nplot&gt; plot(Speed, Distance,\nplot+      panel.first = lines(stats::lowess(Speed, Distance), lty = &quot;dashed&quot;),\nplot+      pch = 0, cex = 1.2, col = &quot;blue&quot;)\n&lt;Return&gt;: \n\nplot&gt; ## Show the different plot types\nplot&gt; x &lt;- 0:12\n\nplot&gt; y &lt;- sin(pi/5 * x)\n\nplot&gt; op &lt;- par(mfrow = c(3,3), mar = .1+ c(2,2,3,1))\n\nplot&gt; for (tp in c(&quot;p&quot;,&quot;l&quot;,&quot;b&quot;,  &quot;c&quot;,&quot;o&quot;,&quot;h&quot;,  &quot;s&quot;,&quot;S&quot;,&quot;n&quot;)) {\nplot+    plot(y ~ x, type = tp, main = paste0(&quot;plot(*, type = \\&quot;&quot;, tp, &quot;\\&quot;)&quot;))\nplot+    if(tp == &quot;S&quot;) {\nplot+       lines(x, y, type = &quot;s&quot;, col = &quot;red&quot;, lty = 2)\nplot+       mtext(&quot;lines(*, type = \\&quot;s\\&quot;, ...)&quot;, col = &quot;red&quot;, cex = 0.8)\nplot+    }\nplot+ }\n&lt;Return&gt;: \n\nplot&gt; par(op)\n\nplot&gt; ##--- Log-Log Plot  with  custom axes\nplot&gt; lx &lt;- seq(1, 5, length = 41)\n\nplot&gt; yl &lt;- expression(e^{-frac(1,2) * {log[10](x)}^2})\n\nplot&gt; y &lt;- exp(-.5*lx^2)\n\nplot&gt; op &lt;- par(mfrow = c(2,1), mar = par(&quot;mar&quot;)-c(1,0,2,0), mgp = c(2, .7, 0))\n\nplot&gt; plot(10^lx, y, log = &quot;xy&quot;, type = &quot;l&quot;, col = &quot;purple&quot;,\nplot+      main = &quot;Log-Log plot&quot;, ylab = yl, xlab = &quot;x&quot;)\n&lt;Return&gt;: \n\nplot&gt; plot(10^lx, y, log = &quot;xy&quot;, type = &quot;o&quot;, pch = &quot;.&quot;, col = &quot;forestgreen&quot;,\nplot+      main = &quot;Log-Log plot with custom axes&quot;, ylab = yl, xlab = &quot;x&quot;,\nplot+      axes = FALSE, frame.plot = TRUE)\n\nplot&gt; my.at &lt;- 10^(1:5)\n\nplot&gt; axis(1, at = my.at, labels = formatC(my.at, format = &quot;fg&quot;))\n\nplot&gt; e.y &lt;- -5:-1 ; at.y &lt;- 10^e.y\n\nplot&gt; axis(2, at = at.y, col.axis = &quot;red&quot;, las = 1,\nplot+      labels = as.expression(lapply(e.y, function(E) bquote(10^.(E)))))\n\nplot&gt; par(op)\n&gt; </code></pre>\n<p></p>\n<p><img src=\"12.png\" alt=\"\"><br><img src=\"13.png\" alt=\"\"><br><img src=\"14.png\" alt=\"\"><br><img src=\"15.png\" alt=\"\"></p>\n<p> <code>plot</code>  <code>plot</code> </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><code>R</code>  <code>Hello world</code></p>\n<p> <code>R</code>  <code>R</code> </p>\n<p> <code>R</code>  <code>R</code> </p>\n"},{"title":"HexoHexo+github pages+travis ci","toc":true,"date":"2020-05-03T13:29:17.000Z","_content":"\n## \n\n `Hexo` + `github pages` + `travis ci` \n\n `Hexo`  `Hexo` \n\n## \n\n\n\n||\t|\n|--|--|\n|title|\t|\n|subtitle|\t|\n|description|\t SEO|\n|keywords|\t, |\n|author|\t|\n|language|\t zh-Hans zh-CN  en|\n|timezone|\t America/New_York, Japan,  UTC  Asia/Shanghai|\n\n\n\n```yml\n# Site\ntitle: \nsubtitle: ''\ndescription: ''\nkeywords: ,,,,\nauthor: \nlanguage: zh-CN\ntimezone: ''\n```\n\n## \n\n\n\n|\t||\t|\n|--|--|--|\n|url\t||\t|\n|root\t||\t|\n|permalink\t| |\t:year/:month/:day/:title/|\n|permalink_defaults\t||\t|\n|pretty_urls\t| permalink  URL|\t\n|pretty_urls.trailing_index\t| index.html false |\ttrue|\n|pretty_urls.trailing_html\t| .html,  false  ( index.html)\t|true|\n\n\n\n```yml\n#  http://example.com/foo/bar/index.html\npretty_urls:\n  trailing_index: false\n#  http://example.com/foo/bar/\n```\n\n `url`  `root` `github pages` `url`  `root`  `root`  `//`\n\n\n\n```yml\n# URL\n## If your site is put in a subdirectory, set url as 'http://yoursite.com/child' and root as '/child/'\nurl: https://mfrank2016.github.io/\nroot: /breeze-blog/\npermalink: :year/:month/:day/:title/\npermalink_defaults:\npretty_urls:\n  trailing_index: true # Set to false to remove trailing 'index.html' from permalinks\n  trailing_html: true # Set to false to remove trailing '.html' from permalinks\n```\n\n## \n\n\n\n|\t|\t||\n|--|--|--|\n|source_dir|\t `md` |\tsource|\n|public_dir|\t\t|public|\n|tag_dir|\t\t|tags|\n|archive_dir|\t\t|archives|\n|category_dir|\t\t|categories|\n|code_dir|\t`Include code` `source_dir` \t|downloads/code|\n|i18n_dir|\ti18n\t|:lang|\n|skip_render|\t `public`  `glob` \t| |\n\n\n\n```yml\nskip_render: \"mypage/**/*\"\n#  `source/mypage/index.html`  `source/mypage/code.js`  'public' \n# \nskip_render: \"_posts/test-post.md\"\n#  'test-post.md' \n```\n\n\n\n```yml\n# Directory\nsource_dir: source\npublic_dir: public\ntag_dir: tags\narchive_dir: archives\ncategory_dir: categories\ncode_dir: downloads/code\ni18n_dir: :lang\nskip_render:\n```\n\n## \n\n\n\n|                     |                                                          |     |\n| :---------------------- | :----------------------------------------------------------- | :-------- |\n| `new_post_name`         |                                              | :title.md |\n| `default_layout`        |                                                      | post      |\n| `auto_spacing`          |                                      | false     |\n| `titlecase`             |  `title case`                                      | false     |\n| `external_link`         |                                            | true      |\n| `external_link.enable`  |                                            | `true`    |\n| `external_link.field`   | `site``post`             | `site`    |\n| `external_link.exclude` |  `www`             | `[]`      |\n| `filename_case`         |  (1)  (2)                          | 0         |\n| `render_drafts`         |                                                      | false     |\n| `post_asset_folder`     |  `Asset` | false     |\n| `relative_link`         |                                  | false     |\n| `future`                |                                                | true      |\n| `highlight`             |                                                  |           |\n| `highlight.enable`      |                                                | `true`    |\n| `highlight.auto_detect` |                                | `false`   |\n| `highlight.line_number` |  | `true`    |\n| `highlight.tab_replace` |  n  `tabs` `tabs`            | `''`      |\n| `highlight.wrap`        |  ``  | `true`    |\n| `highlight.hljs`        |  highlight  css  `hljs-*`                       | `false`   |\n\n`auto_spacing` `titlecase` \n\n> Titles should be written in title case. This means only using capital letters for the principal words. Articles, conjunctions, and prepositions do not get capital letters unless they start the title. For example:\n> The Last of the Mohicans \n\n`post_asset_folder` \n\n\n\n```yml\nnew_post_name: :title.md # File name of new posts\ndefault_layout: post\nauto_spacing: true\ntitlecase: false # Transform title into titlecase\nexternal_link:\n  enable: true # Open external links in new tab\n  field: post # Apply to the whole site\n  exclude: ''\nfilename_case: 0\nrender_drafts: false\npost_asset_folder: true\nrelative_link: false\nfuture: true\n# highlight:\n#   enable: true\n#   line_number: true\n#   auto_detect: false\n#   tab_replace: ''\n#   wrap: true\n#   hljs: false\nhighlight:\n  enable: false\n\n# \nprism_plugin:\n  mode: 'preprocess'    # realtime/preprocess\n  theme: 'tomorrow'\n  line_number: false    # default false\n  custom_css:\n```\n\n `hljs` [](https://github.com/ele828/hexo-prism-plugin)\n\n```bash\nnpm i -S hexo-prism-plugin\n```\n\n## \n\n `URL` \n\n```\nhttp://localhost:4000/breeze-blog/categories/programming/life/%E6%B5%8B%E8%AF%95/\n```\n\n|                |      |           |\n| :----------------- | :------- | :-------------- |\n| `default_category` |  | `uncategorized` |\n| `category_map`     |  |                 |\n| `tag_map`          |  |                 |\n\n\n\n```yml\n# Category & Tag\ndefault_category: uncategorized\ncategory_map:\n  : programming\n  : life\n  : reading\n  : thoughts\n  : finance\ntag_map:\n  : agile-development\n  : environment-building\n```\n\n##  / \n\n`Hexo`  [Moment.js](http://momentjs.com/) \n\n|                    |                                                          |        |\n| :--------------------- | :----------------------------------------------------------- | :----------- |\n| `date_format`          |                                                      | `YYYY-MM-DD` |\n| `time_format`          |                                                      | `HH:mm:ss`   |\n| `use_date_for_updated` |  Front Matter  `updated` `post.updated`  `date`  Git  | `true`       |\n\n\n\n```yml\n# Date / Time format\n## Hexo uses Moment.js to parse and display date\n## You can customize the date format as defined in\n## http://momentjs.com/docs/#/displaying/format/\ndate_format: YYYY-MM-DD\ntime_format: HH:mm:ss\n## Use post's date for updated date unless set in front-matter\nuse_date_for_updated: true\n```\n\n## \n\n|              |                                 |  |\n| :--------------- | :---------------------------------- | :----- |\n| `per_page`       |  (0 = ) | `10`   |\n| `pagination_dir` |                             | `page` |\n\n\n\n\n```yml\n# Pagination\n## Set per_page to 0 to disable pagination\nper_page: 12\npagination_dir: page\n```\n\n## \n\n|              |                                                          |\n| :--------------- | :----------------------------------------------------------- |\n| `theme`          | `false`                          |\n| `theme_config`   |  `_config.yml`  |\n| `deploy`         |                                                |\n| `meta_generator` | [Meta generator](https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/meta#)   `false`  Hexo  |\n\n `theme` \n\n`theme_config`  `config` \n\n`deploy`  `git` `Heroku``Netlify` \n\n\n\n```yml\n# Extensions\ntheme: hexo-theme-matery\n\n# Deployment\ndeploy:\n  type: 'git'\n  repo: git@github.com:MFrank2016/breeze-blog\n  branch: gh-pages\n```\n\n## \n\n `Hexo`  `include/exclude`  `Hexo`  [glob ](https://github.com/isaacs/minimatch) \n\n`include`  `exclude`  `source/` ,  `ignore` \n\n|       |                                                          |\n| :-------- | :----------------------------------------------------------- |\n| `include` | `Hexo`  `.` `Hexo`  `_posts`  `_data`  Hexo  `source`  |\n| `exclude` | `Hexo`                                     |\n| `ignore`  |                                          |\n\n\n\n```yml\n# Include/Exclude Files/Folders\ninclude:\n  - \".nojekyll\"\n  #  'source/css/_typing.css'\n  - \"css/_typing.css\"\n  #  'source/_css/' \n  - \"_css/*\"\n  #  'source/_css/' \n  - \"_css/**/*\"\n\nexclude:\n  #  'source/js/test.js'\n  - \"js/test.js\"\n  #  'source/js/' \n  - \"js/*\"\n  #  'source/js/' \n  - \"js/**/*\"\n  #  'source/js/'  'test' \n  - \"js/test*\"\n  #  'source/js/'  'test' \n  - \"js/**/test*\"\n  #  exclude  'source/_posts/'  'skip_render' '_'\n  #  - \"_posts/hello-world.md\" \n\nignore:\n  # Ignore any folder named 'foo'.\n  - \"**/foo\"\n  # Ignore 'foo' folder in 'themes/' only.\n  - \"**/themes/*/foo\"\n  # Same as above, but applies to every subfolders of 'themes/'.\n  - \"**/themes/**/foo\"\n```\n\n\n\n`include`  `exclude`  `themes/`  `themes/`  `ignore`  `_`\n\n[//]: # (![]&#40;https://i.loli.net/2020/05/02/AfHOY5RXge9tlVo.png&#41;)\n\n\n\n\n\n\n\n\n\n\n\n","source":"_posts/hexo/hexo-config.md","raw":"---\ntitle: HexoHexo+github pages+travis ci\ntags:\n  - \n  - Hexo\ncategories:\n  - \ntoc: true\ndate: 2020-05-03 21:29:17\n---\n\n## \n\n `Hexo` + `github pages` + `travis ci` \n\n `Hexo`  `Hexo` \n\n## \n\n\n\n||\t|\n|--|--|\n|title|\t|\n|subtitle|\t|\n|description|\t SEO|\n|keywords|\t, |\n|author|\t|\n|language|\t zh-Hans zh-CN  en|\n|timezone|\t America/New_York, Japan,  UTC  Asia/Shanghai|\n\n\n\n```yml\n# Site\ntitle: \nsubtitle: ''\ndescription: ''\nkeywords: ,,,,\nauthor: \nlanguage: zh-CN\ntimezone: ''\n```\n\n## \n\n\n\n|\t||\t|\n|--|--|--|\n|url\t||\t|\n|root\t||\t|\n|permalink\t| |\t:year/:month/:day/:title/|\n|permalink_defaults\t||\t|\n|pretty_urls\t| permalink  URL|\t\n|pretty_urls.trailing_index\t| index.html false |\ttrue|\n|pretty_urls.trailing_html\t| .html,  false  ( index.html)\t|true|\n\n\n\n```yml\n#  http://example.com/foo/bar/index.html\npretty_urls:\n  trailing_index: false\n#  http://example.com/foo/bar/\n```\n\n `url`  `root` `github pages` `url`  `root`  `root`  `//`\n\n\n\n```yml\n# URL\n## If your site is put in a subdirectory, set url as 'http://yoursite.com/child' and root as '/child/'\nurl: https://mfrank2016.github.io/\nroot: /breeze-blog/\npermalink: :year/:month/:day/:title/\npermalink_defaults:\npretty_urls:\n  trailing_index: true # Set to false to remove trailing 'index.html' from permalinks\n  trailing_html: true # Set to false to remove trailing '.html' from permalinks\n```\n\n## \n\n\n\n|\t|\t||\n|--|--|--|\n|source_dir|\t `md` |\tsource|\n|public_dir|\t\t|public|\n|tag_dir|\t\t|tags|\n|archive_dir|\t\t|archives|\n|category_dir|\t\t|categories|\n|code_dir|\t`Include code` `source_dir` \t|downloads/code|\n|i18n_dir|\ti18n\t|:lang|\n|skip_render|\t `public`  `glob` \t| |\n\n\n\n```yml\nskip_render: \"mypage/**/*\"\n#  `source/mypage/index.html`  `source/mypage/code.js`  'public' \n# \nskip_render: \"_posts/test-post.md\"\n#  'test-post.md' \n```\n\n\n\n```yml\n# Directory\nsource_dir: source\npublic_dir: public\ntag_dir: tags\narchive_dir: archives\ncategory_dir: categories\ncode_dir: downloads/code\ni18n_dir: :lang\nskip_render:\n```\n\n## \n\n\n\n|                     |                                                          |     |\n| :---------------------- | :----------------------------------------------------------- | :-------- |\n| `new_post_name`         |                                              | :title.md |\n| `default_layout`        |                                                      | post      |\n| `auto_spacing`          |                                      | false     |\n| `titlecase`             |  `title case`                                      | false     |\n| `external_link`         |                                            | true      |\n| `external_link.enable`  |                                            | `true`    |\n| `external_link.field`   | `site``post`             | `site`    |\n| `external_link.exclude` |  `www`             | `[]`      |\n| `filename_case`         |  (1)  (2)                          | 0         |\n| `render_drafts`         |                                                      | false     |\n| `post_asset_folder`     |  `Asset` | false     |\n| `relative_link`         |                                  | false     |\n| `future`                |                                                | true      |\n| `highlight`             |                                                  |           |\n| `highlight.enable`      |                                                | `true`    |\n| `highlight.auto_detect` |                                | `false`   |\n| `highlight.line_number` |  | `true`    |\n| `highlight.tab_replace` |  n  `tabs` `tabs`            | `''`      |\n| `highlight.wrap`        |  ``  | `true`    |\n| `highlight.hljs`        |  highlight  css  `hljs-*`                       | `false`   |\n\n`auto_spacing` `titlecase` \n\n> Titles should be written in title case. This means only using capital letters for the principal words. Articles, conjunctions, and prepositions do not get capital letters unless they start the title. For example:\n> The Last of the Mohicans \n\n`post_asset_folder` \n\n\n\n```yml\nnew_post_name: :title.md # File name of new posts\ndefault_layout: post\nauto_spacing: true\ntitlecase: false # Transform title into titlecase\nexternal_link:\n  enable: true # Open external links in new tab\n  field: post # Apply to the whole site\n  exclude: ''\nfilename_case: 0\nrender_drafts: false\npost_asset_folder: true\nrelative_link: false\nfuture: true\n# highlight:\n#   enable: true\n#   line_number: true\n#   auto_detect: false\n#   tab_replace: ''\n#   wrap: true\n#   hljs: false\nhighlight:\n  enable: false\n\n# \nprism_plugin:\n  mode: 'preprocess'    # realtime/preprocess\n  theme: 'tomorrow'\n  line_number: false    # default false\n  custom_css:\n```\n\n `hljs` [](https://github.com/ele828/hexo-prism-plugin)\n\n```bash\nnpm i -S hexo-prism-plugin\n```\n\n## \n\n `URL` \n\n```\nhttp://localhost:4000/breeze-blog/categories/programming/life/%E6%B5%8B%E8%AF%95/\n```\n\n|                |      |           |\n| :----------------- | :------- | :-------------- |\n| `default_category` |  | `uncategorized` |\n| `category_map`     |  |                 |\n| `tag_map`          |  |                 |\n\n\n\n```yml\n# Category & Tag\ndefault_category: uncategorized\ncategory_map:\n  : programming\n  : life\n  : reading\n  : thoughts\n  : finance\ntag_map:\n  : agile-development\n  : environment-building\n```\n\n##  / \n\n`Hexo`  [Moment.js](http://momentjs.com/) \n\n|                    |                                                          |        |\n| :--------------------- | :----------------------------------------------------------- | :----------- |\n| `date_format`          |                                                      | `YYYY-MM-DD` |\n| `time_format`          |                                                      | `HH:mm:ss`   |\n| `use_date_for_updated` |  Front Matter  `updated` `post.updated`  `date`  Git  | `true`       |\n\n\n\n```yml\n# Date / Time format\n## Hexo uses Moment.js to parse and display date\n## You can customize the date format as defined in\n## http://momentjs.com/docs/#/displaying/format/\ndate_format: YYYY-MM-DD\ntime_format: HH:mm:ss\n## Use post's date for updated date unless set in front-matter\nuse_date_for_updated: true\n```\n\n## \n\n|              |                                 |  |\n| :--------------- | :---------------------------------- | :----- |\n| `per_page`       |  (0 = ) | `10`   |\n| `pagination_dir` |                             | `page` |\n\n\n\n\n```yml\n# Pagination\n## Set per_page to 0 to disable pagination\nper_page: 12\npagination_dir: page\n```\n\n## \n\n|              |                                                          |\n| :--------------- | :----------------------------------------------------------- |\n| `theme`          | `false`                          |\n| `theme_config`   |  `_config.yml`  |\n| `deploy`         |                                                |\n| `meta_generator` | [Meta generator](https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/meta#)   `false`  Hexo  |\n\n `theme` \n\n`theme_config`  `config` \n\n`deploy`  `git` `Heroku``Netlify` \n\n\n\n```yml\n# Extensions\ntheme: hexo-theme-matery\n\n# Deployment\ndeploy:\n  type: 'git'\n  repo: git@github.com:MFrank2016/breeze-blog\n  branch: gh-pages\n```\n\n## \n\n `Hexo`  `include/exclude`  `Hexo`  [glob ](https://github.com/isaacs/minimatch) \n\n`include`  `exclude`  `source/` ,  `ignore` \n\n|       |                                                          |\n| :-------- | :----------------------------------------------------------- |\n| `include` | `Hexo`  `.` `Hexo`  `_posts`  `_data`  Hexo  `source`  |\n| `exclude` | `Hexo`                                     |\n| `ignore`  |                                          |\n\n\n\n```yml\n# Include/Exclude Files/Folders\ninclude:\n  - \".nojekyll\"\n  #  'source/css/_typing.css'\n  - \"css/_typing.css\"\n  #  'source/_css/' \n  - \"_css/*\"\n  #  'source/_css/' \n  - \"_css/**/*\"\n\nexclude:\n  #  'source/js/test.js'\n  - \"js/test.js\"\n  #  'source/js/' \n  - \"js/*\"\n  #  'source/js/' \n  - \"js/**/*\"\n  #  'source/js/'  'test' \n  - \"js/test*\"\n  #  'source/js/'  'test' \n  - \"js/**/test*\"\n  #  exclude  'source/_posts/'  'skip_render' '_'\n  #  - \"_posts/hello-world.md\" \n\nignore:\n  # Ignore any folder named 'foo'.\n  - \"**/foo\"\n  # Ignore 'foo' folder in 'themes/' only.\n  - \"**/themes/*/foo\"\n  # Same as above, but applies to every subfolders of 'themes/'.\n  - \"**/themes/**/foo\"\n```\n\n\n\n`include`  `exclude`  `themes/`  `themes/`  `ignore`  `_`\n\n[//]: # (![]&#40;https://i.loli.net/2020/05/02/AfHOY5RXge9tlVo.png&#41;)\n\n\n\n\n\n\n\n\n\n\n\n","slug":"hexo/hexo-config","published":1,"updated":"2020-05-03T13:29:17.000Z","_id":"cl70rsfb8000c5ohu7ah576ex","comments":1,"layout":"post","photos":[],"link":"","content":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> <code>Hexo</code> + <code>github pages</code> + <code>travis ci</code> </p>\n<p> <code>Hexo</code>  <code>Hexo</code> </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>title</td>\n<td></td>\n</tr>\n<tr>\n<td>subtitle</td>\n<td></td>\n</tr>\n<tr>\n<td>description</td>\n<td> SEO</td>\n</tr>\n<tr>\n<td>keywords</td>\n<td>, </td>\n</tr>\n<tr>\n<td>author</td>\n<td></td>\n</tr>\n<tr>\n<td>language</td>\n<td> zh-Hans zh-CN  en</td>\n</tr>\n<tr>\n<td>timezone</td>\n<td> America/New_York, Japan,  UTC  Asia/Shanghai</td>\n</tr>\n</tbody></table>\n<p></p>\n<pre class=\" language-yml\"><code class=\"language-yml\"># Site\ntitle: \nsubtitle: ''\ndescription: ''\nkeywords: ,,,,\nauthor: \nlanguage: zh-CN\ntimezone: ''</code></pre>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>url</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>root</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>permalink</td>\n<td></td>\n<td>    :year/:month/:day/:title/</td>\n</tr>\n<tr>\n<td>permalink_defaults</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>pretty_urls</td>\n<td> permalink  URL</td>\n<td></td>\n</tr>\n<tr>\n<td>pretty_urls.trailing_index</td>\n<td> index.html false </td>\n<td>true</td>\n</tr>\n<tr>\n<td>pretty_urls.trailing_html</td>\n<td> .html,  false  ( index.html)</td>\n<td>true</td>\n</tr>\n</tbody></table>\n<p></p>\n<pre class=\" language-yml\"><code class=\"language-yml\">#  http://example.com/foo/bar/index.html\npretty_urls:\n  trailing_index: false\n#  http://example.com/foo/bar/</code></pre>\n<p> <code>url</code>  <code>root</code> <code>github pages</code> <code>url</code>  <code>root</code>  <code>root</code>  <code>//</code></p>\n<p></p>\n<pre class=\" language-yml\"><code class=\"language-yml\"># URL\n## If your site is put in a subdirectory, set url as 'http://yoursite.com/child' and root as '/child/'\nurl: https://mfrank2016.github.io/\nroot: /breeze-blog/\npermalink: :year/:month/:day/:title/\npermalink_defaults:\npretty_urls:\n  trailing_index: true # Set to false to remove trailing 'index.html' from permalinks\n  trailing_html: true # Set to false to remove trailing '.html' from permalinks</code></pre>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>source_dir</td>\n<td> <code>md</code> </td>\n<td>source</td>\n</tr>\n<tr>\n<td>public_dir</td>\n<td></td>\n<td>public</td>\n</tr>\n<tr>\n<td>tag_dir</td>\n<td></td>\n<td>tags</td>\n</tr>\n<tr>\n<td>archive_dir</td>\n<td></td>\n<td>archives</td>\n</tr>\n<tr>\n<td>category_dir</td>\n<td></td>\n<td>categories</td>\n</tr>\n<tr>\n<td>code_dir</td>\n<td><code>Include code</code> <code>source_dir</code> </td>\n<td>downloads/code</td>\n</tr>\n<tr>\n<td>i18n_dir</td>\n<td>i18n</td>\n<td>:lang</td>\n</tr>\n<tr>\n<td>skip_render</td>\n<td> <code>public</code>  <code>glob</code> </td>\n<td></td>\n</tr>\n</tbody></table>\n<p></p>\n<pre class=\" language-yml\"><code class=\"language-yml\">skip_render: \"mypage/**/*\"\n#  `source/mypage/index.html`  `source/mypage/code.js`  'public' \n# \nskip_render: \"_posts/test-post.md\"\n#  'test-post.md' </code></pre>\n<p></p>\n<pre class=\" language-yml\"><code class=\"language-yml\"># Directory\nsource_dir: source\npublic_dir: public\ntag_dir: tags\narchive_dir: archives\ncategory_dir: categories\ncode_dir: downloads/code\ni18n_dir: :lang\nskip_render:</code></pre>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<table>\n<thead>\n<tr>\n<th align=\"left\"></th>\n<th align=\"left\"></th>\n<th align=\"left\"></th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\"><code>new_post_name</code></td>\n<td align=\"left\"></td>\n<td align=\"left\">:title.md</td>\n</tr>\n<tr>\n<td align=\"left\"><code>default_layout</code></td>\n<td align=\"left\"></td>\n<td align=\"left\">post</td>\n</tr>\n<tr>\n<td align=\"left\"><code>auto_spacing</code></td>\n<td align=\"left\"></td>\n<td align=\"left\">false</td>\n</tr>\n<tr>\n<td align=\"left\"><code>titlecase</code></td>\n<td align=\"left\"> <code>title case</code></td>\n<td align=\"left\">false</td>\n</tr>\n<tr>\n<td align=\"left\"><code>external_link</code></td>\n<td align=\"left\"></td>\n<td align=\"left\">true</td>\n</tr>\n<tr>\n<td align=\"left\"><code>external_link.enable</code></td>\n<td align=\"left\"></td>\n<td align=\"left\"><code>true</code></td>\n</tr>\n<tr>\n<td align=\"left\"><code>external_link.field</code></td>\n<td align=\"left\"><code>site</code><code>post</code></td>\n<td align=\"left\"><code>site</code></td>\n</tr>\n<tr>\n<td align=\"left\"><code>external_link.exclude</code></td>\n<td align=\"left\"> <code>www</code> </td>\n<td align=\"left\"><code>[]</code></td>\n</tr>\n<tr>\n<td align=\"left\"><code>filename_case</code></td>\n<td align=\"left\"> (1)  (2) </td>\n<td align=\"left\">0</td>\n</tr>\n<tr>\n<td align=\"left\"><code>render_drafts</code></td>\n<td align=\"left\"></td>\n<td align=\"left\">false</td>\n</tr>\n<tr>\n<td align=\"left\"><code>post_asset_folder</code></td>\n<td align=\"left\"> <code>Asset</code> </td>\n<td align=\"left\">false</td>\n</tr>\n<tr>\n<td align=\"left\"><code>relative_link</code></td>\n<td align=\"left\"></td>\n<td align=\"left\">false</td>\n</tr>\n<tr>\n<td align=\"left\"><code>future</code></td>\n<td align=\"left\"></td>\n<td align=\"left\">true</td>\n</tr>\n<tr>\n<td align=\"left\"><code>highlight</code></td>\n<td align=\"left\"></td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\"><code>highlight.enable</code></td>\n<td align=\"left\"></td>\n<td align=\"left\"><code>true</code></td>\n</tr>\n<tr>\n<td align=\"left\"><code>highlight.auto_detect</code></td>\n<td align=\"left\"></td>\n<td align=\"left\"><code>false</code></td>\n</tr>\n<tr>\n<td align=\"left\"><code>highlight.line_number</code></td>\n<td align=\"left\"></td>\n<td align=\"left\"><code>true</code></td>\n</tr>\n<tr>\n<td align=\"left\"><code>highlight.tab_replace</code></td>\n<td align=\"left\"> n  <code>tabs</code> <code>tabs</code></td>\n<td align=\"left\"><code>''</code></td>\n</tr>\n<tr>\n<td align=\"left\"><code>highlight.wrap</code></td>\n<td align=\"left\"> `` </td>\n<td align=\"left\"><code>true</code></td>\n</tr>\n<tr>\n<td align=\"left\"><code>highlight.hljs</code></td>\n<td align=\"left\"> highlight  css  <code>hljs-*</code> </td>\n<td align=\"left\"><code>false</code></td>\n</tr>\n</tbody></table>\n<p><code>auto_spacing</code> <code>titlecase</code> </p>\n<blockquote>\n<p>Titles should be written in title case. This means only using capital letters for the principal words. Articles, conjunctions, and prepositions do not get capital letters unless they start the title. For example:<br>The Last of the Mohicans </p>\n</blockquote>\n<p><code>post_asset_folder</code> </p>\n<p></p>\n<pre class=\" language-yml\"><code class=\"language-yml\">new_post_name: :title.md # File name of new posts\ndefault_layout: post\nauto_spacing: true\ntitlecase: false # Transform title into titlecase\nexternal_link:\n  enable: true # Open external links in new tab\n  field: post # Apply to the whole site\n  exclude: ''\nfilename_case: 0\nrender_drafts: false\npost_asset_folder: true\nrelative_link: false\nfuture: true\n# highlight:\n#   enable: true\n#   line_number: true\n#   auto_detect: false\n#   tab_replace: ''\n#   wrap: true\n#   hljs: false\nhighlight:\n  enable: false\n\n# \nprism_plugin:\n  mode: 'preprocess'    # realtime/preprocess\n  theme: 'tomorrow'\n  line_number: false    # default false\n  custom_css:</code></pre>\n<p> <code>hljs</code> <a href=\"https://github.com/ele828/hexo-prism-plugin\" target=\"_blank\" rel=\"noopener\"></a></p>\n<pre class=\" language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> i -S hexo-prism-plugin</code></pre>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> <code>URL</code> </p>\n<pre><code>http://localhost:4000/breeze-blog/categories/programming/life/%E6%B5%8B%E8%AF%95/</code></pre><table>\n<thead>\n<tr>\n<th align=\"left\"></th>\n<th align=\"left\"></th>\n<th align=\"left\"></th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\"><code>default_category</code></td>\n<td align=\"left\"></td>\n<td align=\"left\"><code>uncategorized</code></td>\n</tr>\n<tr>\n<td align=\"left\"><code>category_map</code></td>\n<td align=\"left\"></td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\"><code>tag_map</code></td>\n<td align=\"left\"></td>\n<td align=\"left\"></td>\n</tr>\n</tbody></table>\n<p></p>\n<pre class=\" language-yml\"><code class=\"language-yml\"># Category & Tag\ndefault_category: uncategorized\ncategory_map:\n  : programming\n  : life\n  : reading\n  : thoughts\n  : finance\ntag_map:\n  : agile-development\n  : environment-building</code></pre>\n<h2 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\" / \"></a> / </h2><p><code>Hexo</code>  <a href=\"http://momentjs.com/\" target=\"_blank\" rel=\"noopener\">Moment.js</a> </p>\n<table>\n<thead>\n<tr>\n<th align=\"left\"></th>\n<th align=\"left\"></th>\n<th align=\"left\"></th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\"><code>date_format</code></td>\n<td align=\"left\"></td>\n<td align=\"left\"><code>YYYY-MM-DD</code></td>\n</tr>\n<tr>\n<td align=\"left\"><code>time_format</code></td>\n<td align=\"left\"></td>\n<td align=\"left\"><code>HH:mm:ss</code></td>\n</tr>\n<tr>\n<td align=\"left\"><code>use_date_for_updated</code></td>\n<td align=\"left\"> Front Matter  <code>updated</code> <code>post.updated</code>  <code>date</code>  Git </td>\n<td align=\"left\"><code>true</code></td>\n</tr>\n</tbody></table>\n<p></p>\n<pre class=\" language-yml\"><code class=\"language-yml\"># Date / Time format\n## Hexo uses Moment.js to parse and display date\n## You can customize the date format as defined in\n## http://momentjs.com/docs/#/displaying/format/\ndate_format: YYYY-MM-DD\ntime_format: HH:mm:ss\n## Use post's date for updated date unless set in front-matter\nuse_date_for_updated: true</code></pre>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><table>\n<thead>\n<tr>\n<th align=\"left\"></th>\n<th align=\"left\"></th>\n<th align=\"left\"></th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\"><code>per_page</code></td>\n<td align=\"left\"> (0 = )</td>\n<td align=\"left\"><code>10</code></td>\n</tr>\n<tr>\n<td align=\"left\"><code>pagination_dir</code></td>\n<td align=\"left\"></td>\n<td align=\"left\"><code>page</code></td>\n</tr>\n</tbody></table>\n<p></p>\n<pre class=\" language-yml\"><code class=\"language-yml\"># Pagination\n## Set per_page to 0 to disable pagination\nper_page: 12\npagination_dir: page</code></pre>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><table>\n<thead>\n<tr>\n<th align=\"left\"></th>\n<th align=\"left\"></th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\"><code>theme</code></td>\n<td align=\"left\"><code>false</code></td>\n</tr>\n<tr>\n<td align=\"left\"><code>theme_config</code></td>\n<td align=\"left\"> <code>_config.yml</code> </td>\n</tr>\n<tr>\n<td align=\"left\"><code>deploy</code></td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\"><code>meta_generator</code></td>\n<td align=\"left\"><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/meta#\" target=\"_blank\" rel=\"noopener\">Meta generator</a>   <code>false</code>  Hexo </td>\n</tr>\n</tbody></table>\n<p> <code>theme</code> </p>\n<p><code>theme_config</code>  <code>config</code> </p>\n<p><code>deploy</code>  <code>git</code> <code>Heroku</code><code>Netlify</code> </p>\n<p></p>\n<pre class=\" language-yml\"><code class=\"language-yml\"># Extensions\ntheme: hexo-theme-matery\n\n# Deployment\ndeploy:\n  type: 'git'\n  repo: git@github.com:MFrank2016/breeze-blog\n  branch: gh-pages</code></pre>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> <code>Hexo</code>  <code>include/exclude</code>  <code>Hexo</code>  <a href=\"https://github.com/isaacs/minimatch\" target=\"_blank\" rel=\"noopener\">glob </a> </p>\n<p><code>include</code>  <code>exclude</code>  <code>source/</code> ,  <code>ignore</code> </p>\n<table>\n<thead>\n<tr>\n<th align=\"left\"></th>\n<th align=\"left\"></th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\"><code>include</code></td>\n<td align=\"left\"><code>Hexo</code>  <code>.</code> <code>Hexo</code>  <code>_posts</code>  <code>_data</code>  Hexo  <code>source</code> </td>\n</tr>\n<tr>\n<td align=\"left\"><code>exclude</code></td>\n<td align=\"left\"><code>Hexo</code> </td>\n</tr>\n<tr>\n<td align=\"left\"><code>ignore</code></td>\n<td align=\"left\"></td>\n</tr>\n</tbody></table>\n<p></p>\n<pre class=\" language-yml\"><code class=\"language-yml\"># Include/Exclude Files/Folders\ninclude:\n  - \".nojekyll\"\n  #  'source/css/_typing.css'\n  - \"css/_typing.css\"\n  #  'source/_css/' \n  - \"_css/*\"\n  #  'source/_css/' \n  - \"_css/**/*\"\n\nexclude:\n  #  'source/js/test.js'\n  - \"js/test.js\"\n  #  'source/js/' \n  - \"js/*\"\n  #  'source/js/' \n  - \"js/**/*\"\n  #  'source/js/'  'test' \n  - \"js/test*\"\n  #  'source/js/'  'test' \n  - \"js/**/test*\"\n  #  exclude  'source/_posts/'  'skip_render' '_'\n  #  - \"_posts/hello-world.md\" \n\nignore:\n  # Ignore any folder named 'foo'.\n  - \"**/foo\"\n  # Ignore 'foo' folder in 'themes/' only.\n  - \"**/themes/*/foo\"\n  # Same as above, but applies to every subfolders of 'themes/'.\n  - \"**/themes/**/foo\"</code></pre>\n<p></p>\n<p><code>include</code>  <code>exclude</code>  <code>themes/</code>  <code>themes/</code>  <code>ignore</code>  <code>_</code></p>\n<script>\n        document.querySelectorAll('.github-emoji')\n          .forEach(el => {\n            if (!el.dataset.src) { return; }\n            const img = document.createElement('img');\n            img.style = 'display:none !important;';\n            img.src = el.dataset.src;\n            img.addEventListener('error', () => {\n              img.remove();\n              el.style.color = 'inherit';\n              el.style.backgroundImage = 'none';\n              el.style.background = 'none';\n            });\n            img.addEventListener('load', () => {\n              img.remove();\n            });\n            document.body.appendChild(img);\n          });\n      </script>","site":{"data":{"friends":[{"avatar":"http://43.142.191.46:8080/crmebimage/public/operation/2022/08/19/e4c5aacf44c44157ac8381896a4f33bfiwjztayaan.png","name":"","introduction":"","url":"http://43.142.191.46:9527/","title":""},{"avatar":"http://43.142.191.46:8080/crmebimage/public/operation/2022/08/19/e4c5aacf44c44157ac8381896a4f33bfiwjztayaan.png","name":"RabbitMQ","introduction":"","url":"http://43.142.191.46:15672/","title":""}]}},"excerpt":"","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> <code>Hexo</code> + <code>github pages</code> + <code>travis ci</code> </p>\n<p> <code>Hexo</code>  <code>Hexo</code> </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>title</td>\n<td></td>\n</tr>\n<tr>\n<td>subtitle</td>\n<td></td>\n</tr>\n<tr>\n<td>description</td>\n<td> SEO</td>\n</tr>\n<tr>\n<td>keywords</td>\n<td>, </td>\n</tr>\n<tr>\n<td>author</td>\n<td></td>\n</tr>\n<tr>\n<td>language</td>\n<td> zh-Hans zh-CN  en</td>\n</tr>\n<tr>\n<td>timezone</td>\n<td> America/New_York, Japan,  UTC  Asia/Shanghai</td>\n</tr>\n</tbody></table>\n<p></p>\n<pre><code class=\"yml\"># Site\ntitle: \nsubtitle: &#39;&#39;\ndescription: &#39;&#39;\nkeywords: ,,,,\nauthor: \nlanguage: zh-CN\ntimezone: &#39;&#39;</code></pre>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>url</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>root</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>permalink</td>\n<td></td>\n<td>    :year/:month/:day/:title/</td>\n</tr>\n<tr>\n<td>permalink_defaults</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>pretty_urls</td>\n<td> permalink  URL</td>\n<td></td>\n</tr>\n<tr>\n<td>pretty_urls.trailing_index</td>\n<td> index.html false </td>\n<td>true</td>\n</tr>\n<tr>\n<td>pretty_urls.trailing_html</td>\n<td> .html,  false  ( index.html)</td>\n<td>true</td>\n</tr>\n</tbody></table>\n<p></p>\n<pre><code class=\"yml\">#  http://example.com/foo/bar/index.html\npretty_urls:\n  trailing_index: false\n#  http://example.com/foo/bar/</code></pre>\n<p> <code>url</code>  <code>root</code> <code>github pages</code> <code>url</code>  <code>root</code>  <code>root</code>  <code>//</code></p>\n<p></p>\n<pre><code class=\"yml\"># URL\n## If your site is put in a subdirectory, set url as &#39;http://yoursite.com/child&#39; and root as &#39;/child/&#39;\nurl: https://mfrank2016.github.io/\nroot: /breeze-blog/\npermalink: :year/:month/:day/:title/\npermalink_defaults:\npretty_urls:\n  trailing_index: true # Set to false to remove trailing &#39;index.html&#39; from permalinks\n  trailing_html: true # Set to false to remove trailing &#39;.html&#39; from permalinks</code></pre>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>source_dir</td>\n<td> <code>md</code> </td>\n<td>source</td>\n</tr>\n<tr>\n<td>public_dir</td>\n<td></td>\n<td>public</td>\n</tr>\n<tr>\n<td>tag_dir</td>\n<td></td>\n<td>tags</td>\n</tr>\n<tr>\n<td>archive_dir</td>\n<td></td>\n<td>archives</td>\n</tr>\n<tr>\n<td>category_dir</td>\n<td></td>\n<td>categories</td>\n</tr>\n<tr>\n<td>code_dir</td>\n<td><code>Include code</code> <code>source_dir</code> </td>\n<td>downloads/code</td>\n</tr>\n<tr>\n<td>i18n_dir</td>\n<td>i18n</td>\n<td>:lang</td>\n</tr>\n<tr>\n<td>skip_render</td>\n<td> <code>public</code>  <code>glob</code> </td>\n<td></td>\n</tr>\n</tbody></table>\n<p></p>\n<pre><code class=\"yml\">skip_render: &quot;mypage/**/*&quot;\n#  `source/mypage/index.html`  `source/mypage/code.js`  &#39;public&#39; \n# \nskip_render: &quot;_posts/test-post.md&quot;\n#  &#39;test-post.md&#39; </code></pre>\n<p></p>\n<pre><code class=\"yml\"># Directory\nsource_dir: source\npublic_dir: public\ntag_dir: tags\narchive_dir: archives\ncategory_dir: categories\ncode_dir: downloads/code\ni18n_dir: :lang\nskip_render:</code></pre>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<table>\n<thead>\n<tr>\n<th align=\"left\"></th>\n<th align=\"left\"></th>\n<th align=\"left\"></th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\"><code>new_post_name</code></td>\n<td align=\"left\"></td>\n<td align=\"left\">:title.md</td>\n</tr>\n<tr>\n<td align=\"left\"><code>default_layout</code></td>\n<td align=\"left\"></td>\n<td align=\"left\">post</td>\n</tr>\n<tr>\n<td align=\"left\"><code>auto_spacing</code></td>\n<td align=\"left\"></td>\n<td align=\"left\">false</td>\n</tr>\n<tr>\n<td align=\"left\"><code>titlecase</code></td>\n<td align=\"left\"> <code>title case</code></td>\n<td align=\"left\">false</td>\n</tr>\n<tr>\n<td align=\"left\"><code>external_link</code></td>\n<td align=\"left\"></td>\n<td align=\"left\">true</td>\n</tr>\n<tr>\n<td align=\"left\"><code>external_link.enable</code></td>\n<td align=\"left\"></td>\n<td align=\"left\"><code>true</code></td>\n</tr>\n<tr>\n<td align=\"left\"><code>external_link.field</code></td>\n<td align=\"left\"><code>site</code><code>post</code></td>\n<td align=\"left\"><code>site</code></td>\n</tr>\n<tr>\n<td align=\"left\"><code>external_link.exclude</code></td>\n<td align=\"left\"> <code>www</code> </td>\n<td align=\"left\"><code>[]</code></td>\n</tr>\n<tr>\n<td align=\"left\"><code>filename_case</code></td>\n<td align=\"left\"> (1)  (2) </td>\n<td align=\"left\">0</td>\n</tr>\n<tr>\n<td align=\"left\"><code>render_drafts</code></td>\n<td align=\"left\"></td>\n<td align=\"left\">false</td>\n</tr>\n<tr>\n<td align=\"left\"><code>post_asset_folder</code></td>\n<td align=\"left\"> <code>Asset</code> </td>\n<td align=\"left\">false</td>\n</tr>\n<tr>\n<td align=\"left\"><code>relative_link</code></td>\n<td align=\"left\"></td>\n<td align=\"left\">false</td>\n</tr>\n<tr>\n<td align=\"left\"><code>future</code></td>\n<td align=\"left\"></td>\n<td align=\"left\">true</td>\n</tr>\n<tr>\n<td align=\"left\"><code>highlight</code></td>\n<td align=\"left\"></td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\"><code>highlight.enable</code></td>\n<td align=\"left\"></td>\n<td align=\"left\"><code>true</code></td>\n</tr>\n<tr>\n<td align=\"left\"><code>highlight.auto_detect</code></td>\n<td align=\"left\"></td>\n<td align=\"left\"><code>false</code></td>\n</tr>\n<tr>\n<td align=\"left\"><code>highlight.line_number</code></td>\n<td align=\"left\"></td>\n<td align=\"left\"><code>true</code></td>\n</tr>\n<tr>\n<td align=\"left\"><code>highlight.tab_replace</code></td>\n<td align=\"left\"> n  <code>tabs</code> <code>tabs</code></td>\n<td align=\"left\"><code>&#39;&#39;</code></td>\n</tr>\n<tr>\n<td align=\"left\"><code>highlight.wrap</code></td>\n<td align=\"left\"> `` </td>\n<td align=\"left\"><code>true</code></td>\n</tr>\n<tr>\n<td align=\"left\"><code>highlight.hljs</code></td>\n<td align=\"left\"> highlight  css  <code>hljs-*</code> </td>\n<td align=\"left\"><code>false</code></td>\n</tr>\n</tbody></table>\n<p><code>auto_spacing</code> <code>titlecase</code> </p>\n<blockquote>\n<p>Titles should be written in title case. This means only using capital letters for the principal words. Articles, conjunctions, and prepositions do not get capital letters unless they start the title. For example:<br>The Last of the Mohicans </p>\n</blockquote>\n<p><code>post_asset_folder</code> </p>\n<p></p>\n<pre><code class=\"yml\">new_post_name: :title.md # File name of new posts\ndefault_layout: post\nauto_spacing: true\ntitlecase: false # Transform title into titlecase\nexternal_link:\n  enable: true # Open external links in new tab\n  field: post # Apply to the whole site\n  exclude: &#39;&#39;\nfilename_case: 0\nrender_drafts: false\npost_asset_folder: true\nrelative_link: false\nfuture: true\n# highlight:\n#   enable: true\n#   line_number: true\n#   auto_detect: false\n#   tab_replace: &#39;&#39;\n#   wrap: true\n#   hljs: false\nhighlight:\n  enable: false\n\n# \nprism_plugin:\n  mode: &#39;preprocess&#39;    # realtime/preprocess\n  theme: &#39;tomorrow&#39;\n  line_number: false    # default false\n  custom_css:</code></pre>\n<p> <code>hljs</code> <a href=\"https://github.com/ele828/hexo-prism-plugin\" target=\"_blank\" rel=\"noopener\"></a></p>\n<pre><code class=\"bash\">npm i -S hexo-prism-plugin</code></pre>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> <code>URL</code> </p>\n<pre><code>http://localhost:4000/breeze-blog/categories/programming/life/%E6%B5%8B%E8%AF%95/</code></pre><table>\n<thead>\n<tr>\n<th align=\"left\"></th>\n<th align=\"left\"></th>\n<th align=\"left\"></th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\"><code>default_category</code></td>\n<td align=\"left\"></td>\n<td align=\"left\"><code>uncategorized</code></td>\n</tr>\n<tr>\n<td align=\"left\"><code>category_map</code></td>\n<td align=\"left\"></td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\"><code>tag_map</code></td>\n<td align=\"left\"></td>\n<td align=\"left\"></td>\n</tr>\n</tbody></table>\n<p></p>\n<pre><code class=\"yml\"># Category &amp; Tag\ndefault_category: uncategorized\ncategory_map:\n  : programming\n  : life\n  : reading\n  : thoughts\n  : finance\ntag_map:\n  : agile-development\n  : environment-building</code></pre>\n<h2 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\" / \"></a> / </h2><p><code>Hexo</code>  <a href=\"http://momentjs.com/\" target=\"_blank\" rel=\"noopener\">Moment.js</a> </p>\n<table>\n<thead>\n<tr>\n<th align=\"left\"></th>\n<th align=\"left\"></th>\n<th align=\"left\"></th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\"><code>date_format</code></td>\n<td align=\"left\"></td>\n<td align=\"left\"><code>YYYY-MM-DD</code></td>\n</tr>\n<tr>\n<td align=\"left\"><code>time_format</code></td>\n<td align=\"left\"></td>\n<td align=\"left\"><code>HH:mm:ss</code></td>\n</tr>\n<tr>\n<td align=\"left\"><code>use_date_for_updated</code></td>\n<td align=\"left\"> Front Matter  <code>updated</code> <code>post.updated</code>  <code>date</code>  Git </td>\n<td align=\"left\"><code>true</code></td>\n</tr>\n</tbody></table>\n<p></p>\n<pre><code class=\"yml\"># Date / Time format\n## Hexo uses Moment.js to parse and display date\n## You can customize the date format as defined in\n## http://momentjs.com/docs/#/displaying/format/\ndate_format: YYYY-MM-DD\ntime_format: HH:mm:ss\n## Use post&#39;s date for updated date unless set in front-matter\nuse_date_for_updated: true</code></pre>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><table>\n<thead>\n<tr>\n<th align=\"left\"></th>\n<th align=\"left\"></th>\n<th align=\"left\"></th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\"><code>per_page</code></td>\n<td align=\"left\"> (0 = )</td>\n<td align=\"left\"><code>10</code></td>\n</tr>\n<tr>\n<td align=\"left\"><code>pagination_dir</code></td>\n<td align=\"left\"></td>\n<td align=\"left\"><code>page</code></td>\n</tr>\n</tbody></table>\n<p></p>\n<pre><code class=\"yml\"># Pagination\n## Set per_page to 0 to disable pagination\nper_page: 12\npagination_dir: page</code></pre>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><table>\n<thead>\n<tr>\n<th align=\"left\"></th>\n<th align=\"left\"></th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\"><code>theme</code></td>\n<td align=\"left\"><code>false</code></td>\n</tr>\n<tr>\n<td align=\"left\"><code>theme_config</code></td>\n<td align=\"left\"> <code>_config.yml</code> </td>\n</tr>\n<tr>\n<td align=\"left\"><code>deploy</code></td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\"><code>meta_generator</code></td>\n<td align=\"left\"><a href=\"https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/meta#\" target=\"_blank\" rel=\"noopener\">Meta generator</a>   <code>false</code>  Hexo </td>\n</tr>\n</tbody></table>\n<p> <code>theme</code> </p>\n<p><code>theme_config</code>  <code>config</code> </p>\n<p><code>deploy</code>  <code>git</code> <code>Heroku</code><code>Netlify</code> </p>\n<p></p>\n<pre><code class=\"yml\"># Extensions\ntheme: hexo-theme-matery\n\n# Deployment\ndeploy:\n  type: &#39;git&#39;\n  repo: git@github.com:MFrank2016/breeze-blog\n  branch: gh-pages</code></pre>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> <code>Hexo</code>  <code>include/exclude</code>  <code>Hexo</code>  <a href=\"https://github.com/isaacs/minimatch\" target=\"_blank\" rel=\"noopener\">glob </a> </p>\n<p><code>include</code>  <code>exclude</code>  <code>source/</code> ,  <code>ignore</code> </p>\n<table>\n<thead>\n<tr>\n<th align=\"left\"></th>\n<th align=\"left\"></th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\"><code>include</code></td>\n<td align=\"left\"><code>Hexo</code>  <code>.</code> <code>Hexo</code>  <code>_posts</code>  <code>_data</code>  Hexo  <code>source</code> </td>\n</tr>\n<tr>\n<td align=\"left\"><code>exclude</code></td>\n<td align=\"left\"><code>Hexo</code> </td>\n</tr>\n<tr>\n<td align=\"left\"><code>ignore</code></td>\n<td align=\"left\"></td>\n</tr>\n</tbody></table>\n<p></p>\n<pre><code class=\"yml\"># Include/Exclude Files/Folders\ninclude:\n  - &quot;.nojekyll&quot;\n  #  &#39;source/css/_typing.css&#39;\n  - &quot;css/_typing.css&quot;\n  #  &#39;source/_css/&#39; \n  - &quot;_css/*&quot;\n  #  &#39;source/_css/&#39; \n  - &quot;_css/**/*&quot;\n\nexclude:\n  #  &#39;source/js/test.js&#39;\n  - &quot;js/test.js&quot;\n  #  &#39;source/js/&#39; \n  - &quot;js/*&quot;\n  #  &#39;source/js/&#39; \n  - &quot;js/**/*&quot;\n  #  &#39;source/js/&#39;  &#39;test&#39; \n  - &quot;js/test*&quot;\n  #  &#39;source/js/&#39;  &#39;test&#39; \n  - &quot;js/**/test*&quot;\n  #  exclude  &#39;source/_posts/&#39;  &#39;skip_render&#39; &#39;_&#39;\n  #  - &quot;_posts/hello-world.md&quot; \n\nignore:\n  # Ignore any folder named &#39;foo&#39;.\n  - &quot;**/foo&quot;\n  # Ignore &#39;foo&#39; folder in &#39;themes/&#39; only.\n  - &quot;**/themes/*/foo&quot;\n  # Same as above, but applies to every subfolders of &#39;themes/&#39;.\n  - &quot;**/themes/**/foo&quot;</code></pre>\n<p></p>\n<p><code>include</code>  <code>exclude</code>  <code>themes/</code>  <code>themes/</code>  <code>ignore</code>  <code>_</code></p>\n"},{"title":"Gogg ","toc":true,"top":true,"cover":true,"date":"2020-11-29T14:45:35.000Z","_content":"\n\n\nGo\n\n## gg \n\n\n\n```go\ngo get -u github.com/fogleman/gg\n```\n\n\n\n![](1.png)\n\n\n\n![](2.png)\n\n\n\n```go\npackage main\n\nimport \"github.com/fogleman/gg\"\n\nfunc main() {\n    dc := gg.NewContext(1000, 1000)\n    dc.DrawCircle(500, 500, 400)\n    dc.SetRGB(0, 0, 0)\n    dc.Fill()\n    dc.SavePNG(\"out.png\")\n}\n```\n\nduang \n\n![](3.png)\n\n\n\n## \n\n```go\ndc := gg.NewContext(1000, 1000)\n```\n\n `Context`  `Context`  `1000` `500` \n\n```go\ndc := gg.NewContext(1000, 500)\n```\n\n![](4.png)\n\n\n\n## \n\n```go\ndc.DrawCircle(500, 500, 400)\n```\n\n `(500,500)` `400` `(500,500)`\n\n```go\ndc := gg.NewContext(1000, 1000)\ndc.DrawCircle(300, 300, 400)\n```\n\n![](5.png)\n\n\n\n```go\ndc := gg.NewContext(1000, 1000)\ndc.DrawCircle(300, 300, 300)\n```\n\n![](6.png)\n\n\n\n## \n\n```go\ndc.SetRGB(0, 0, 0)\ndc.Fill()\n```\n\n `(0,0,0)` `RGB`\n\n![](7.png)\n![](8.png)\n![](9.png)\n\nRGB`RGB`025501255RGB\n\nhttps://tool.oschina.net/commons?type=3\n\n `RGB`  `(255,222,173)` \n\n```go\nvar rbgConverter = func(r []float64) []float64 {\n\tresult := make([]float64, 0)\n\tfor i := 0; i < len(r); i++ {\n\t\tresult = append(result, r[i] / 255)\n\t}\n\treturn result\n}\n\nfunc main() {\n\tdc := gg.NewContext(1000, 1000)\n\n\tdc.DrawCircle(500, 500, 400)\n\n\trgb := []float64{255,222,173}\n\tnewRgb := rbgConverter(rgb)\n\n\tdc.SetRGB(newRgb[0], newRgb[1], newRgb[2])\n\tdc.Fill()\n\tdc.SavePNG(\"out.png\")\n}\n```\n\n\n\n![](10.png)\n\n## \n\n```go\ndc.SavePNG(\"out.png\")\n```\n\n`SavePNG()`  `PNG` \n\n`SaveJPG()`  `JPG` \n\n\n\n```go\n// SavePNG encodes the image as a PNG and writes it to disk.\nfunc (dc *Context) SavePNG(path string) error {\n\treturn SavePNG(path, dc.im)\n}\n\nfunc SavePNG(path string, im image.Image) error {\n\tfile, err := os.Create(path)\n\tif err != nil {\n\t\treturn err\n\t}\n\tdefer file.Close()\n\treturn png.Encode(file, im)\n}\n```\n\n\n\n## \n\n`LoadPNG()`  `PNG` `LoadJPG()`  `JPG`  `LoadImage()` \n\n `image.Image` RGB\n\n `DrawImage()` \n\n```go\nim, err := gg.LoadImage(\"/Users/bytedance/Desktop/test.jpg\")\nif err != nil {\n    panic(err)\n}\nw := im.Bounds().Size().X\nh := im.Bounds().Size().Y\n\ndc := gg.NewContext(h, w)\ndc.DrawImage(im, 0, 0)\n```\n\n## \n\n `Clip()` \n\n\n\n![](11.png)\n\n```go\nfunc main() {\n    // \n\tim, err := gg.LoadImage(\"test.jpg\")\n\tif err != nil {\n\t\tpanic(err)\n\t}\n\n    // \n\tw := im.Bounds().Size().X\n\th := im.Bounds().Size().Y\n\n\tdc := gg.NewContext(h, w)\n    \n    \n    // \n\tradius := math.Min(float64(w), float64(h)) / 2\n    // \n\tdc.DrawCircle(float64(w/2), float64(h/2), radius)\n    // \n\tdc.Clip()\n    // \n\tdc.DrawImage(im, 0, 0)\n\tdc.SavePNG(\"out.png\")\n}\n```\n\n![](12.png)\n\n\n\n## \n\nGo \n\n\n","source":"_posts/picture/go-basic-usage-of-gg-package.md","raw":"---\ntitle: Gogg \ntags:\n  - go\ncategories:\n  - \ntoc: true\ntop: true\ncover: true\ndate: 2020-11-29 22:45:35\n---\n\n\n\nGo\n\n## gg \n\n\n\n```go\ngo get -u github.com/fogleman/gg\n```\n\n\n\n![](1.png)\n\n\n\n![](2.png)\n\n\n\n```go\npackage main\n\nimport \"github.com/fogleman/gg\"\n\nfunc main() {\n    dc := gg.NewContext(1000, 1000)\n    dc.DrawCircle(500, 500, 400)\n    dc.SetRGB(0, 0, 0)\n    dc.Fill()\n    dc.SavePNG(\"out.png\")\n}\n```\n\nduang \n\n![](3.png)\n\n\n\n## \n\n```go\ndc := gg.NewContext(1000, 1000)\n```\n\n `Context`  `Context`  `1000` `500` \n\n```go\ndc := gg.NewContext(1000, 500)\n```\n\n![](4.png)\n\n\n\n## \n\n```go\ndc.DrawCircle(500, 500, 400)\n```\n\n `(500,500)` `400` `(500,500)`\n\n```go\ndc := gg.NewContext(1000, 1000)\ndc.DrawCircle(300, 300, 400)\n```\n\n![](5.png)\n\n\n\n```go\ndc := gg.NewContext(1000, 1000)\ndc.DrawCircle(300, 300, 300)\n```\n\n![](6.png)\n\n\n\n## \n\n```go\ndc.SetRGB(0, 0, 0)\ndc.Fill()\n```\n\n `(0,0,0)` `RGB`\n\n![](7.png)\n![](8.png)\n![](9.png)\n\nRGB`RGB`025501255RGB\n\nhttps://tool.oschina.net/commons?type=3\n\n `RGB`  `(255,222,173)` \n\n```go\nvar rbgConverter = func(r []float64) []float64 {\n\tresult := make([]float64, 0)\n\tfor i := 0; i < len(r); i++ {\n\t\tresult = append(result, r[i] / 255)\n\t}\n\treturn result\n}\n\nfunc main() {\n\tdc := gg.NewContext(1000, 1000)\n\n\tdc.DrawCircle(500, 500, 400)\n\n\trgb := []float64{255,222,173}\n\tnewRgb := rbgConverter(rgb)\n\n\tdc.SetRGB(newRgb[0], newRgb[1], newRgb[2])\n\tdc.Fill()\n\tdc.SavePNG(\"out.png\")\n}\n```\n\n\n\n![](10.png)\n\n## \n\n```go\ndc.SavePNG(\"out.png\")\n```\n\n`SavePNG()`  `PNG` \n\n`SaveJPG()`  `JPG` \n\n\n\n```go\n// SavePNG encodes the image as a PNG and writes it to disk.\nfunc (dc *Context) SavePNG(path string) error {\n\treturn SavePNG(path, dc.im)\n}\n\nfunc SavePNG(path string, im image.Image) error {\n\tfile, err := os.Create(path)\n\tif err != nil {\n\t\treturn err\n\t}\n\tdefer file.Close()\n\treturn png.Encode(file, im)\n}\n```\n\n\n\n## \n\n`LoadPNG()`  `PNG` `LoadJPG()`  `JPG`  `LoadImage()` \n\n `image.Image` RGB\n\n `DrawImage()` \n\n```go\nim, err := gg.LoadImage(\"/Users/bytedance/Desktop/test.jpg\")\nif err != nil {\n    panic(err)\n}\nw := im.Bounds().Size().X\nh := im.Bounds().Size().Y\n\ndc := gg.NewContext(h, w)\ndc.DrawImage(im, 0, 0)\n```\n\n## \n\n `Clip()` \n\n\n\n![](11.png)\n\n```go\nfunc main() {\n    // \n\tim, err := gg.LoadImage(\"test.jpg\")\n\tif err != nil {\n\t\tpanic(err)\n\t}\n\n    // \n\tw := im.Bounds().Size().X\n\th := im.Bounds().Size().Y\n\n\tdc := gg.NewContext(h, w)\n    \n    \n    // \n\tradius := math.Min(float64(w), float64(h)) / 2\n    // \n\tdc.DrawCircle(float64(w/2), float64(h/2), radius)\n    // \n\tdc.Clip()\n    // \n\tdc.DrawImage(im, 0, 0)\n\tdc.SavePNG(\"out.png\")\n}\n```\n\n![](12.png)\n\n\n\n## \n\nGo \n\n\n","slug":"picture/go-basic-usage-of-gg-package","published":1,"updated":"2020-11-29T14:45:35.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cl70rsfb9000f5ohuak0a9el4","content":"<p></p>\n<p>Go</p>\n<h2 id=\"gg-\"><a href=\"#gg-\" class=\"headerlink\" title=\"gg \"></a>gg </h2><p></p>\n<pre class=\" language-go\"><code class=\"language-go\"><span class=\"token keyword\">go</span> get <span class=\"token operator\">-</span>u github<span class=\"token punctuation\">.</span>com<span class=\"token operator\">/</span>fogleman<span class=\"token operator\">/</span>gg</code></pre>\n<p></p>\n<p><img src=\"1.png\" alt=\"\"></p>\n<p></p>\n<p><img src=\"2.png\" alt=\"\"></p>\n<p></p>\n<pre class=\" language-go\"><code class=\"language-go\"><span class=\"token keyword\">package</span> main\n\n<span class=\"token keyword\">import</span> <span class=\"token string\">\"github.com/fogleman/gg\"</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    dc <span class=\"token operator\">:=</span> gg<span class=\"token punctuation\">.</span><span class=\"token function\">NewContext</span><span class=\"token punctuation\">(</span><span class=\"token number\">1000</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">DrawCircle</span><span class=\"token punctuation\">(</span><span class=\"token number\">500</span><span class=\"token punctuation\">,</span> <span class=\"token number\">500</span><span class=\"token punctuation\">,</span> <span class=\"token number\">400</span><span class=\"token punctuation\">)</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">SetRGB</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">Fill</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">SavePNG</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"out.png\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p>duang </p>\n<p><img src=\"3.png\" alt=\"\"></p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><pre class=\" language-go\"><code class=\"language-go\">dc <span class=\"token operator\">:=</span> gg<span class=\"token punctuation\">.</span><span class=\"token function\">NewContext</span><span class=\"token punctuation\">(</span><span class=\"token number\">1000</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span></code></pre>\n<p> <code>Context</code>  <code>Context</code>  <code>1000</code> <code>500</code> </p>\n<pre class=\" language-go\"><code class=\"language-go\">dc <span class=\"token operator\">:=</span> gg<span class=\"token punctuation\">.</span><span class=\"token function\">NewContext</span><span class=\"token punctuation\">(</span><span class=\"token number\">1000</span><span class=\"token punctuation\">,</span> <span class=\"token number\">500</span><span class=\"token punctuation\">)</span></code></pre>\n<p><img src=\"4.png\" alt=\"\"></p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><pre class=\" language-go\"><code class=\"language-go\">dc<span class=\"token punctuation\">.</span><span class=\"token function\">DrawCircle</span><span class=\"token punctuation\">(</span><span class=\"token number\">500</span><span class=\"token punctuation\">,</span> <span class=\"token number\">500</span><span class=\"token punctuation\">,</span> <span class=\"token number\">400</span><span class=\"token punctuation\">)</span></code></pre>\n<p> <code>(500,500)</code> <code>400</code> <code>(500,500)</code></p>\n<pre class=\" language-go\"><code class=\"language-go\">dc <span class=\"token operator\">:=</span> gg<span class=\"token punctuation\">.</span><span class=\"token function\">NewContext</span><span class=\"token punctuation\">(</span><span class=\"token number\">1000</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span>\ndc<span class=\"token punctuation\">.</span><span class=\"token function\">DrawCircle</span><span class=\"token punctuation\">(</span><span class=\"token number\">300</span><span class=\"token punctuation\">,</span> <span class=\"token number\">300</span><span class=\"token punctuation\">,</span> <span class=\"token number\">400</span><span class=\"token punctuation\">)</span></code></pre>\n<p><img src=\"5.png\" alt=\"\"></p>\n<p></p>\n<pre class=\" language-go\"><code class=\"language-go\">dc <span class=\"token operator\">:=</span> gg<span class=\"token punctuation\">.</span><span class=\"token function\">NewContext</span><span class=\"token punctuation\">(</span><span class=\"token number\">1000</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span>\ndc<span class=\"token punctuation\">.</span><span class=\"token function\">DrawCircle</span><span class=\"token punctuation\">(</span><span class=\"token number\">300</span><span class=\"token punctuation\">,</span> <span class=\"token number\">300</span><span class=\"token punctuation\">,</span> <span class=\"token number\">300</span><span class=\"token punctuation\">)</span></code></pre>\n<p><img src=\"6.png\" alt=\"\"></p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><pre class=\" language-go\"><code class=\"language-go\">dc<span class=\"token punctuation\">.</span><span class=\"token function\">SetRGB</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\ndc<span class=\"token punctuation\">.</span><span class=\"token function\">Fill</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre>\n<p> <code>(0,0,0)</code> <code>RGB</code></p>\n<p><img src=\"7.png\" alt=\"\"><br><img src=\"8.png\" alt=\"\"><br><img src=\"9.png\" alt=\"\"></p>\n<p>RGB<code>RGB</code>025501255RGB</p>\n<p><a href=\"https://tool.oschina.net/commons?type=3\" target=\"_blank\" rel=\"noopener\">https://tool.oschina.net/commons?type=3</a></p>\n<p> <code>RGB</code>  <code>(255,222,173)</code> </p>\n<pre class=\" language-go\"><code class=\"language-go\"><span class=\"token keyword\">var</span> rbgConverter <span class=\"token operator\">=</span> <span class=\"token keyword\">func</span><span class=\"token punctuation\">(</span>r <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token builtin\">float64</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token builtin\">float64</span> <span class=\"token punctuation\">{</span>\n    result <span class=\"token operator\">:=</span> <span class=\"token function\">make</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token builtin\">float64</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">for</span> i <span class=\"token operator\">:=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> <span class=\"token function\">len</span><span class=\"token punctuation\">(</span>r<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span> <span class=\"token punctuation\">{</span>\n        result <span class=\"token operator\">=</span> <span class=\"token function\">append</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">,</span> r<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">/</span> <span class=\"token number\">255</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">return</span> result\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    dc <span class=\"token operator\">:=</span> gg<span class=\"token punctuation\">.</span><span class=\"token function\">NewContext</span><span class=\"token punctuation\">(</span><span class=\"token number\">1000</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1000</span><span class=\"token punctuation\">)</span>\n\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">DrawCircle</span><span class=\"token punctuation\">(</span><span class=\"token number\">500</span><span class=\"token punctuation\">,</span> <span class=\"token number\">500</span><span class=\"token punctuation\">,</span> <span class=\"token number\">400</span><span class=\"token punctuation\">)</span>\n\n    rgb <span class=\"token operator\">:=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token builtin\">float64</span><span class=\"token punctuation\">{</span><span class=\"token number\">255</span><span class=\"token punctuation\">,</span><span class=\"token number\">222</span><span class=\"token punctuation\">,</span><span class=\"token number\">173</span><span class=\"token punctuation\">}</span>\n    newRgb <span class=\"token operator\">:=</span> <span class=\"token function\">rbgConverter</span><span class=\"token punctuation\">(</span>rgb<span class=\"token punctuation\">)</span>\n\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">SetRGB</span><span class=\"token punctuation\">(</span>newRgb<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> newRgb<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> newRgb<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">Fill</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">SavePNG</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"out.png\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p></p>\n<p><img src=\"10.png\" alt=\"\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><pre class=\" language-go\"><code class=\"language-go\">dc<span class=\"token punctuation\">.</span><span class=\"token function\">SavePNG</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"out.png\"</span><span class=\"token punctuation\">)</span></code></pre>\n<p><code>SavePNG()</code>  <code>PNG</code> </p>\n<p><code>SaveJPG()</code>  <code>JPG</code> </p>\n<p></p>\n<pre class=\" language-go\"><code class=\"language-go\"><span class=\"token comment\" spellcheck=\"true\">// SavePNG encodes the image as a PNG and writes it to disk.</span>\n<span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>dc <span class=\"token operator\">*</span>Context<span class=\"token punctuation\">)</span> <span class=\"token function\">SavePNG</span><span class=\"token punctuation\">(</span>path <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token builtin\">error</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token function\">SavePNG</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">,</span> dc<span class=\"token punctuation\">.</span>im<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token function\">SavePNG</span><span class=\"token punctuation\">(</span>path <span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> im image<span class=\"token punctuation\">.</span>Image<span class=\"token punctuation\">)</span> <span class=\"token builtin\">error</span> <span class=\"token punctuation\">{</span>\n    file<span class=\"token punctuation\">,</span> err <span class=\"token operator\">:=</span> os<span class=\"token punctuation\">.</span><span class=\"token function\">Create</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">if</span> err <span class=\"token operator\">!=</span> <span class=\"token boolean\">nil</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> err\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">defer</span> file<span class=\"token punctuation\">.</span><span class=\"token function\">Close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> png<span class=\"token punctuation\">.</span><span class=\"token function\">Encode</span><span class=\"token punctuation\">(</span>file<span class=\"token punctuation\">,</span> im<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><code>LoadPNG()</code>  <code>PNG</code> <code>LoadJPG()</code>  <code>JPG</code>  <code>LoadImage()</code> </p>\n<p> <code>image.Image</code> RGB</p>\n<p> <code>DrawImage()</code> </p>\n<pre class=\" language-go\"><code class=\"language-go\">im<span class=\"token punctuation\">,</span> err <span class=\"token operator\">:=</span> gg<span class=\"token punctuation\">.</span><span class=\"token function\">LoadImage</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/Users/bytedance/Desktop/test.jpg\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">if</span> err <span class=\"token operator\">!=</span> <span class=\"token boolean\">nil</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">panic</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\nw <span class=\"token operator\">:=</span> im<span class=\"token punctuation\">.</span><span class=\"token function\">Bounds</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">Size</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>X\nh <span class=\"token operator\">:=</span> im<span class=\"token punctuation\">.</span><span class=\"token function\">Bounds</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">Size</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>Y\n\ndc <span class=\"token operator\">:=</span> gg<span class=\"token punctuation\">.</span><span class=\"token function\">NewContext</span><span class=\"token punctuation\">(</span>h<span class=\"token punctuation\">,</span> w<span class=\"token punctuation\">)</span>\ndc<span class=\"token punctuation\">.</span><span class=\"token function\">DrawImage</span><span class=\"token punctuation\">(</span>im<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span></code></pre>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> <code>Clip()</code> </p>\n<p></p>\n<p><img src=\"11.png\" alt=\"\"></p>\n<pre class=\" language-go\"><code class=\"language-go\"><span class=\"token keyword\">func</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\" spellcheck=\"true\">// </span>\n    im<span class=\"token punctuation\">,</span> err <span class=\"token operator\">:=</span> gg<span class=\"token punctuation\">.</span><span class=\"token function\">LoadImage</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"test.jpg\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">if</span> err <span class=\"token operator\">!=</span> <span class=\"token boolean\">nil</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">panic</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\" spellcheck=\"true\">// </span>\n    w <span class=\"token operator\">:=</span> im<span class=\"token punctuation\">.</span><span class=\"token function\">Bounds</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">Size</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>X\n    h <span class=\"token operator\">:=</span> im<span class=\"token punctuation\">.</span><span class=\"token function\">Bounds</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">Size</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>Y\n\n    dc <span class=\"token operator\">:=</span> gg<span class=\"token punctuation\">.</span><span class=\"token function\">NewContext</span><span class=\"token punctuation\">(</span>h<span class=\"token punctuation\">,</span> w<span class=\"token punctuation\">)</span>\n\n\n    <span class=\"token comment\" spellcheck=\"true\">// </span>\n    radius <span class=\"token operator\">:=</span> math<span class=\"token punctuation\">.</span><span class=\"token function\">Min</span><span class=\"token punctuation\">(</span><span class=\"token function\">float64</span><span class=\"token punctuation\">(</span>w<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token function\">float64</span><span class=\"token punctuation\">(</span>h<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token number\">2</span>\n    <span class=\"token comment\" spellcheck=\"true\">// </span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">DrawCircle</span><span class=\"token punctuation\">(</span><span class=\"token function\">float64</span><span class=\"token punctuation\">(</span>w<span class=\"token operator\">/</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token function\">float64</span><span class=\"token punctuation\">(</span>h<span class=\"token operator\">/</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> radius<span class=\"token punctuation\">)</span>\n    <span class=\"token comment\" spellcheck=\"true\">// </span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">Clip</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\" spellcheck=\"true\">// </span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">DrawImage</span><span class=\"token punctuation\">(</span>im<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">SavePNG</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"out.png\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p><img src=\"12.png\" alt=\"\"></p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Go </p>\n<p></p>\n<script>\n        document.querySelectorAll('.github-emoji')\n          .forEach(el => {\n            if (!el.dataset.src) { return; }\n            const img = document.createElement('img');\n            img.style = 'display:none !important;';\n            img.src = el.dataset.src;\n            img.addEventListener('error', () => {\n              img.remove();\n              el.style.color = 'inherit';\n              el.style.backgroundImage = 'none';\n              el.style.background = 'none';\n            });\n            img.addEventListener('load', () => {\n              img.remove();\n            });\n            document.body.appendChild(img);\n          });\n      </script>","site":{"data":{"friends":[{"avatar":"https://draveness.me/images/draven-logo.png","name":"","introduction":"","url":"https://draveness.me/","title":""}]}},"excerpt":"","more":"<p></p>\n<p>Go</p>\n<h2 id=\"gg-\"><a href=\"#gg-\" class=\"headerlink\" title=\"gg \"></a>gg </h2><p></p>\n<pre><code class=\"go\">go get -u github.com/fogleman/gg</code></pre>\n<p></p>\n<p><img src=\"1.png\" alt=\"\"></p>\n<p></p>\n<p><img src=\"2.png\" alt=\"\"></p>\n<p></p>\n<pre><code class=\"go\">package main\n\nimport &quot;github.com/fogleman/gg&quot;\n\nfunc main() {\n    dc := gg.NewContext(1000, 1000)\n    dc.DrawCircle(500, 500, 400)\n    dc.SetRGB(0, 0, 0)\n    dc.Fill()\n    dc.SavePNG(&quot;out.png&quot;)\n}</code></pre>\n<p>duang </p>\n<p><img src=\"3.png\" alt=\"\"></p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><pre><code class=\"go\">dc := gg.NewContext(1000, 1000)</code></pre>\n<p> <code>Context</code>  <code>Context</code>  <code>1000</code> <code>500</code> </p>\n<pre><code class=\"go\">dc := gg.NewContext(1000, 500)</code></pre>\n<p><img src=\"4.png\" alt=\"\"></p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><pre><code class=\"go\">dc.DrawCircle(500, 500, 400)</code></pre>\n<p> <code>(500,500)</code> <code>400</code> <code>(500,500)</code></p>\n<pre><code class=\"go\">dc := gg.NewContext(1000, 1000)\ndc.DrawCircle(300, 300, 400)</code></pre>\n<p><img src=\"5.png\" alt=\"\"></p>\n<p></p>\n<pre><code class=\"go\">dc := gg.NewContext(1000, 1000)\ndc.DrawCircle(300, 300, 300)</code></pre>\n<p><img src=\"6.png\" alt=\"\"></p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><pre><code class=\"go\">dc.SetRGB(0, 0, 0)\ndc.Fill()</code></pre>\n<p> <code>(0,0,0)</code> <code>RGB</code></p>\n<p><img src=\"7.png\" alt=\"\"><br><img src=\"8.png\" alt=\"\"><br><img src=\"9.png\" alt=\"\"></p>\n<p>RGB<code>RGB</code>025501255RGB</p>\n<p><a href=\"https://tool.oschina.net/commons?type=3\" target=\"_blank\" rel=\"noopener\">https://tool.oschina.net/commons?type=3</a></p>\n<p> <code>RGB</code>  <code>(255,222,173)</code> </p>\n<pre><code class=\"go\">var rbgConverter = func(r []float64) []float64 {\n    result := make([]float64, 0)\n    for i := 0; i &lt; len(r); i++ {\n        result = append(result, r[i] / 255)\n    }\n    return result\n}\n\nfunc main() {\n    dc := gg.NewContext(1000, 1000)\n\n    dc.DrawCircle(500, 500, 400)\n\n    rgb := []float64{255,222,173}\n    newRgb := rbgConverter(rgb)\n\n    dc.SetRGB(newRgb[0], newRgb[1], newRgb[2])\n    dc.Fill()\n    dc.SavePNG(&quot;out.png&quot;)\n}</code></pre>\n<p></p>\n<p><img src=\"10.png\" alt=\"\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><pre><code class=\"go\">dc.SavePNG(&quot;out.png&quot;)</code></pre>\n<p><code>SavePNG()</code>  <code>PNG</code> </p>\n<p><code>SaveJPG()</code>  <code>JPG</code> </p>\n<p></p>\n<pre><code class=\"go\">// SavePNG encodes the image as a PNG and writes it to disk.\nfunc (dc *Context) SavePNG(path string) error {\n    return SavePNG(path, dc.im)\n}\n\nfunc SavePNG(path string, im image.Image) error {\n    file, err := os.Create(path)\n    if err != nil {\n        return err\n    }\n    defer file.Close()\n    return png.Encode(file, im)\n}</code></pre>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><code>LoadPNG()</code>  <code>PNG</code> <code>LoadJPG()</code>  <code>JPG</code>  <code>LoadImage()</code> </p>\n<p> <code>image.Image</code> RGB</p>\n<p> <code>DrawImage()</code> </p>\n<pre><code class=\"go\">im, err := gg.LoadImage(&quot;/Users/bytedance/Desktop/test.jpg&quot;)\nif err != nil {\n    panic(err)\n}\nw := im.Bounds().Size().X\nh := im.Bounds().Size().Y\n\ndc := gg.NewContext(h, w)\ndc.DrawImage(im, 0, 0)</code></pre>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> <code>Clip()</code> </p>\n<p></p>\n<p><img src=\"11.png\" alt=\"\"></p>\n<pre><code class=\"go\">func main() {\n    // \n    im, err := gg.LoadImage(&quot;test.jpg&quot;)\n    if err != nil {\n        panic(err)\n    }\n\n    // \n    w := im.Bounds().Size().X\n    h := im.Bounds().Size().Y\n\n    dc := gg.NewContext(h, w)\n\n\n    // \n    radius := math.Min(float64(w), float64(h)) / 2\n    // \n    dc.DrawCircle(float64(w/2), float64(h/2), radius)\n    // \n    dc.Clip()\n    // \n    dc.DrawImage(im, 0, 0)\n    dc.SavePNG(&quot;out.png&quot;)\n}</code></pre>\n<p><img src=\"12.png\" alt=\"\"></p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Go </p>\n<p></p>\n"},{"title":"HexoHexo+github pages+travis ci","toc":true,"date":"2020-05-04T02:40:14.000Z","_content":"\n## \n\n `Hexo` + `github pages` + `travis ci`  `Hexo` \n\n `Matery` \n\n## \n\n[](https://hexo.io/themes/)  *demo*  *github*  *github* \n\n `Matery` `git@github.com:blinkfox/hexo-theme-matery.git`\n\n\n\n```bash\ngit clone git@github.com:blinkfox/hexo-theme-matery.git\n```\n\n *themes*  *matery* \n\n```bash\nmkdir breeze-blog/themes/matery\ncp -r hexo-theme-matery/* breeze-blog/themes/matery\n```\n\n *breeze-blog* \n\n(*_config.yml*) *theme*  *matery*\n\n\n\n```bash\ncd breeze-blog\nhexo clean && hexo generate\nhexo server\n```\n\n`localhost:4000`\n\n![hexo-theme-1.jpg](https://i.loli.net/2020/05/04/YKwFax1NrtVL6Zo.jpg)\n\n `Matery` \n\n## \n\n### \n\n\n\n![hexo-theme-2.jpg](https://i.loli.net/2020/05/04/9o7sjVdBMcm24TP.jpg)\n\n `categories` `categories` \n\n```bash\nhexo new page \"categories\"\n```\n\n */source/categories/index.md*\n\n```\n---\ntitle: categories\ndate: 2020-05-04 10:40:13\ntype: \"categories\"\nlayout: \"categories\"\n---\n```\n\n `tags` `tags` \n\n```bash\nhexo new page \"tags\"\n```\n\n */source/tags/index.md*\n\n```\n---\ntitle: tags\ndate: 2020-05-04 10:40:14\ntype: \"tags\"\nlayout: \"tags\"\n---\n```\n\n `about` `about` \n\n```bash\nhexo new page \"about\"\n```\n\n `/source/about/index.md`\n\n```\n---\ntitle: about\ndate: 2020-05-04 10:40:15\ntype: \"about\"\nlayout: \"about\"\n---\n```\n\n `contact` `contact` \n\n```bash\nhexo new page \"contact\"\n```\n\n */source/contact/index.md*\n\n```\n---\ntitle: contact\ndate: 2020-05-04 10:40:16\ntype: \"contact\"\nlayout: \"contact\"\n---\n```\n\n\n\n `friends` `friends` \n\n```bash\nhexo new page \"friends\"\n```\n\n */source/friends/index.md*\n\n```\n---\ntitle: friends\ndate: 2020-05-04 10:40:17\ntype: \"friends\"\nlayout: \"friends\"\n---\n```\n\n `source`  *_data*  *_data*  *friends.json* \n\n```json\n[{\n  \"avatar\": \"http://43.142.191.46:8080/crmebimage/public/operation/2022/08/19/e4c5aacf44c44157ac8381896a4f33bfiwjztayaan.png\",\n  \"name\": \"\",\n  \"introduction\": \"\",\n  \"url\": \"http://43.142.191.46:9527/\",\n  \"title\": \"\"\n},{\n  \"avatar\": \"http://43.142.191.46:8080/crmebimage/public/operation/2022/08/19/e4c5aacf44c44157ac8381896a4f33bfiwjztayaan.png\",\n  \"name\": \"RabbitMQ\",\n  \"introduction\": \"\",\n  \"url\": \"http://43.142.191.46:15672/\",\n  \"title\": \"\"\n}]\n```\n\n\n\n\n\n### \n\n#### urlicon.\n\n1.(`Index```) 2.icon [Font Awesome](https://fontawesome.com/icons) \n\n```yml\nmenu:\n  Index:\n    url: /\n    icon: fas fa-home\n  Tags:\n    url: /tags\n    icon: fas fa-tags\n  Categories:\n    url: /categories\n    icon: fas fa-bookmark\n  Archives:\n    url: /archives\n    icon: fas fa-archive\n  About:\n    url: /about\n    icon: fas fa-user-circle\n  Friends:\n    url: /friends\n    icon: fas fa-address-book\n```\n\n#### \n\n\n1.`children`(:`About``children`)\n2.`children` name,urlicon.\n3. `-`.\n4.\n\n```yml\nmenu:\n  Index:\n    url: /\n    icon: fas fa-home\n  Tags:\n    url: /tags\n    icon: fas fa-tags\n  Categories:\n    url: /categories\n    icon: fas fa-bookmark\n  Archives:\n    url: /archives\n    icon: fas fa-archive\n  About:\n    url: /about\n    icon: fas fa-user-circle-o\n  Friends:\n    url: /friends\n    icon: fas fa-address-book\n  Medias:\n    icon: fas fa-list\n    children:\n      - name: Musics\n        url: /musics\n        icon: fas fa-music\n      - name: Movies\n        url: /movies\n        icon: fas fa-film\n      - name: Books\n        url: /books\n        icon: fas fa-book\n      - name: Galleries\n        url: /galleries\n        icon: fas fa-image\n```\n\n `hexo clean && hexo g` `emoji`\n\n### \n\n Hexo  [hexo-prism-plugin](https://github.com/ele828/hexo-prism-plugin)  Hexo \n\n```bash\nnpm i -S hexo-prism-plugin\n```\n\n Hexo  `_config.yml`  `highlight.enable`  `false` `prism` \n\n```yml\nhighlight:\n  enable: false\n\nprism_plugin:\n  mode: 'preprocess'    # realtime/preprocess\n  theme: 'tomorrow'\n  line_number: false    # default false\n  custom_css:\n```\n\n### \n\n [hexo-generator-search](https://github.com/wzpan/hexo-generator-search)  Hexo \n\n```bash\nnpm install hexo-generator-search --save\n```\n\n Hexo  `_config.yml` \n\n```yml\nsearch:\n  path: search.xml\n  field: post\n```\n\n\n\n![hexo-theme-3.jpg](https://i.loli.net/2020/05/04/RrE3pQdq9CmtcTP.jpg)\n\n### \n\n *Hexo*  `SEO` `gitment`  [hexo-permalink-pinyin](https://github.com/viko16/hexo-permalink-pinyin) *Hexo* \n\n\n\n```bash\nnpm i hexo-permalink-pinyin --save\n```\n\n *Hexo*  `_config.yml` \n\n```yml\npermalink_pinyin:\n  enable: true\n  separator: '-' # default: '-'\n```\n\n### \n\n [hexo-wordcount](https://github.com/willin/hexo-wordcount)\n\n\n\n```bash\nnpm i --save hexo-wordcount\n```\n\n `_config.yml` \n\n```yml\npostInfo:\n  date: true\n  update: true\n  wordCount: true #  true.\n  totalCount: true #  true.\n  min2read: true # .\n  readCount: true # .\n```\n\n### emoji\n\n*Matery* `emoji` [hexo-filter-github-emojis](https://npm.taobao.org/package/hexo-filter-github-emojis)  Hexo  `emoji``markdown emoji``::`,`:smile:``emoji`\n\n```bash\nnpm install hexo-filter-github-emojis --save\n```\n\n *Hexo*  `_config.yml` \n\n```yml\ngithubEmojis:\n  enable: true\n  className: github-emoji\n  inject: true\n  styles:\n  customEmojis:\n```\n\n###  RSS \n\n [hexo-generator-feed](https://github.com/hexojs/hexo-generator-feed)  Hexo  `RSS`\n\n```\nnpm install hexo-generator-feed --save\n```\n\n *Hexo*  `_config.yml` \n\n```yml\nfeed:\n  type: atom\n  path: atom.xml\n  limit: 20\n  hub:\n  content:\n  content_limit: 140\n  content_limit_delim: ' '\n  order_by: -date\n```\n\n `hexo clean && hexo g`  `public`  `atom.xml` \n\n###  [DaoVoice](http://www.daovoice.io/) \n\n [DaoVoice](http://www.daovoice.io/)  `app_id` `app_id`  `_config.yml` \n\n###  [Tidio](https://www.tidio.com/) \n\n [Tidio](https://www.tidio.com/)  `Public Key` `Public Key`  `_config.yml` \n\n### \n\n `_config.yml`  `QQ``GitHub`  `/layout/_partial/social-link.ejs` \n\n```\n<% if (theme.socialLink.github) { %>\n    <a href=\"<%= theme.socialLink.github %>\" class=\"tooltipped\" target=\"_blank\" data-tooltip=\"GitHub\" data-position=\"top\" data-delay=\"50\">\n        <i class=\"fab fa-github\"></i>\n    </a>\n<% } %>\n```\n\n`fa-github` [Font Awesome](https://fontawesome.com/icons) \n\n- Facebook: `fab fa-facebook`\n- Twitter: `fab fa-twitter`\n- Google-plus: `fab fa-google-plus`\n- Linkedin: `fab fa-linkedin`\n- Tumblr: `fab fa-tumblr`\n- Medium: `fab fa-medium`\n- Slack: `fab fa-slack`\n- Sina Weibo: `fab fa-weibo`\n- Wechat: `fab fa-weixin`\n- QQ: `fab fa-qq`\n- Zhihu: `fab fa-zhihu`\n\n### \n\n `source/medias/reward` \n\n### \n\n `_config.yml` music\n\n```yml\n# \nmusic:\n  enable: true\n  title:     \t    #\n    enable: true\n    show: \n  server: netease   #require music platform: netease, tencent, kugou, xiami, baidu\n  type: playlist    #require song, playlist, album, search, artist\n  id: 503838841     #require song id / playlist id / album id / search keyword\n  fixed: false      # \n  autoplay: false   # \n  theme: '#42b983'\n  loop: 'all'       # , : 'all', 'one', 'none'\n  order: 'random'   # , : 'list', 'random'\n  preload: 'auto'   # : 'none', 'metadata', 'auto'\n  volume: 0.7       # \n  listFolded: true  # \n```\n\n> `server``netease``tencent`QQ`kugou``xiami`\n>\n> `baidu`\n>\n> `type``song``playlist``album``search``artist`\n>\n> `id`: \n\n\n\n> http://music.163.com/playlist/4965675848/1548006936/?userid=120124365 (@)\n\n`4965675848` id\n\n *Aplayer*  *https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js* *https://api.i-meto.com/meting/api?server=:server&type=:type&id=:id&r=:r*\n\nid23333\n\n##  Front-matter \n\n### Front-matter \n\n`Front-matter` **** `title`  `date` \n\n|       |                          |                                                          |\n| ------------- | ------------------------------ | ------------------------------------------------------------ |\n| title         | `Markdown`           |                                  |\n| date          |            |              |\n| author        |  `_config.yml`  `author` |                                                      |\n| img           | `featureImages`      | ().: `http://xxx.com/xxx.jpg` |\n| top           | `true`                         |  `top`  `true` |\n| cover         | `false`                        | `v1.0.2`     |\n| coverImg      |                              | `v1.0.2` |\n| password      |                              |  `password`  `SHA256`  `config.yml`  `verifyPassword`  |\n| toc           | `true`                         |  TOC TOC  `config.yml`  `toc`  |\n| mathjax       | `false`                        |   `mathjax` `_config.yml`  |\n| summary       |                              |  |\n| categories    |                              |  |\n| tags          |                              |                                |\n| keywords      |                        | SEO                                        |\n| reprintPolicy | cc_by                          |   cc_by, cc_by_nd, cc_by_sa, cc_by_nc, cc_by_nc_nd, cc_by_nc_sa, cc0, noreprint  pay  |\n\n> ****:\n>\n> 1.  `img`  `hashcode` ****\n> 2. `date`  `Gitalk`  `Gitment`  `id`  `date` \n> 3.  Front-matter  SHA256  password  `_config.yml`  SHA256 [](http://tool.oschina.net/encrypt?type=2)[chahuo](http://encode.chahuo.com/)[](http://tool.chinaz.com/tools/hash.aspx)\n> 4. md front-matter  reprintPolicy \n\n `Front-matter` \n\n\n\n```\n---\ntitle: typora-vue-theme\ndate: 2018-09-07 09:25:00\n---\n```\n\n\n\n```\n---\ntitle: typora-vue-theme\ndate: 2018-09-07 09:25:00\nauthor: \nimg: /source/images/xxx.jpg\ntop: true\ncover: true\ncoverImg: /images/1.jpg\npassword: 8d969eef6ecad3c29a3a629280e686cf0c3f5d5a86aff3ca12020c923adc6c92\ntoc: false\nmathjax: false\nsummary: \ncategories: Markdown\ntags:\n  - Typora\n  - Markdown\n---\n```\n\n\n\nvaline \n\n## Valine \n\n*https://valine.js.org/* [](https://valine.js.org/quickstart.html) `AppId`  `AppKey` `_config.yml` ****\n\n```yml\nvaline:\n  enable: true\n  appId: XXX\n  appKey: XXX\n  notify: true\n  verify: false\n  visitor: true\n  avatar: 'retro' # Gravatar style : mm/identicon/monsterid/wavatar/retro/hide\n  pageSize: 10\n  placeholder: 'Comment here' # Comment Box placeholder\n  background: /medias/comment_bg.png\n```\n\n `Valine`  ++https://github.com/zhaojun1998/Valine-Admin++  `Valine` \n\n\n\n`Matery` \n\n[//]: # (![]&#40;https://i.loli.net/2020/05/02/AfHOY5RXge9tlVo.png&#41;)\n","source":"_posts/hexo/hexo-theme.md","raw":"---\ntitle: HexoHexo+github pages+travis ci\ntags:\n  - \n  - Hexo\ncategories:\n  - \ntoc: true\ndate: 2020-05-04 10:40:14\n---\n\n## \n\n `Hexo` + `github pages` + `travis ci`  `Hexo` \n\n `Matery` \n\n## \n\n[](https://hexo.io/themes/)  *demo*  *github*  *github* \n\n `Matery` `git@github.com:blinkfox/hexo-theme-matery.git`\n\n\n\n```bash\ngit clone git@github.com:blinkfox/hexo-theme-matery.git\n```\n\n *themes*  *matery* \n\n```bash\nmkdir breeze-blog/themes/matery\ncp -r hexo-theme-matery/* breeze-blog/themes/matery\n```\n\n *breeze-blog* \n\n(*_config.yml*) *theme*  *matery*\n\n\n\n```bash\ncd breeze-blog\nhexo clean && hexo generate\nhexo server\n```\n\n`localhost:4000`\n\n![hexo-theme-1.jpg](https://i.loli.net/2020/05/04/YKwFax1NrtVL6Zo.jpg)\n\n `Matery` \n\n## \n\n### \n\n\n\n![hexo-theme-2.jpg](https://i.loli.net/2020/05/04/9o7sjVdBMcm24TP.jpg)\n\n `categories` `categories` \n\n```bash\nhexo new page \"categories\"\n```\n\n */source/categories/index.md*\n\n```\n---\ntitle: categories\ndate: 2020-05-04 10:40:13\ntype: \"categories\"\nlayout: \"categories\"\n---\n```\n\n `tags` `tags` \n\n```bash\nhexo new page \"tags\"\n```\n\n */source/tags/index.md*\n\n```\n---\ntitle: tags\ndate: 2020-05-04 10:40:14\ntype: \"tags\"\nlayout: \"tags\"\n---\n```\n\n `about` `about` \n\n```bash\nhexo new page \"about\"\n```\n\n `/source/about/index.md`\n\n```\n---\ntitle: about\ndate: 2020-05-04 10:40:15\ntype: \"about\"\nlayout: \"about\"\n---\n```\n\n `contact` `contact` \n\n```bash\nhexo new page \"contact\"\n```\n\n */source/contact/index.md*\n\n```\n---\ntitle: contact\ndate: 2020-05-04 10:40:16\ntype: \"contact\"\nlayout: \"contact\"\n---\n```\n\n\n\n `friends` `friends` \n\n```bash\nhexo new page \"friends\"\n```\n\n */source/friends/index.md*\n\n```\n---\ntitle: friends\ndate: 2020-05-04 10:40:17\ntype: \"friends\"\nlayout: \"friends\"\n---\n```\n\n `source`  *_data*  *_data*  *friends.json* \n\n```json\n[{\n  \"avatar\": \"http://43.142.191.46:8080/crmebimage/public/operation/2022/08/19/e4c5aacf44c44157ac8381896a4f33bfiwjztayaan.png\",\n  \"name\": \"\",\n  \"introduction\": \"\",\n  \"url\": \"http://43.142.191.46:9527/\",\n  \"title\": \"\"\n},{\n  \"avatar\": \"http://43.142.191.46:8080/crmebimage/public/operation/2022/08/19/e4c5aacf44c44157ac8381896a4f33bfiwjztayaan.png\",\n  \"name\": \"RabbitMQ\",\n  \"introduction\": \"\",\n  \"url\": \"http://43.142.191.46:15672/\",\n  \"title\": \"\"\n}]\n```\n\n\n\n\n\n### \n\n#### urlicon.\n\n1.(`Index```) 2.icon [Font Awesome](https://fontawesome.com/icons) \n\n```yml\nmenu:\n  Index:\n    url: /\n    icon: fas fa-home\n  Tags:\n    url: /tags\n    icon: fas fa-tags\n  Categories:\n    url: /categories\n    icon: fas fa-bookmark\n  Archives:\n    url: /archives\n    icon: fas fa-archive\n  About:\n    url: /about\n    icon: fas fa-user-circle\n  Friends:\n    url: /friends\n    icon: fas fa-address-book\n```\n\n#### \n\n\n1.`children`(:`About``children`)\n2.`children` name,urlicon.\n3. `-`.\n4.\n\n```yml\nmenu:\n  Index:\n    url: /\n    icon: fas fa-home\n  Tags:\n    url: /tags\n    icon: fas fa-tags\n  Categories:\n    url: /categories\n    icon: fas fa-bookmark\n  Archives:\n    url: /archives\n    icon: fas fa-archive\n  About:\n    url: /about\n    icon: fas fa-user-circle-o\n  Friends:\n    url: /friends\n    icon: fas fa-address-book\n  Medias:\n    icon: fas fa-list\n    children:\n      - name: Musics\n        url: /musics\n        icon: fas fa-music\n      - name: Movies\n        url: /movies\n        icon: fas fa-film\n      - name: Books\n        url: /books\n        icon: fas fa-book\n      - name: Galleries\n        url: /galleries\n        icon: fas fa-image\n```\n\n `hexo clean && hexo g` `emoji`\n\n### \n\n Hexo  [hexo-prism-plugin](https://github.com/ele828/hexo-prism-plugin)  Hexo \n\n```bash\nnpm i -S hexo-prism-plugin\n```\n\n Hexo  `_config.yml`  `highlight.enable`  `false` `prism` \n\n```yml\nhighlight:\n  enable: false\n\nprism_plugin:\n  mode: 'preprocess'    # realtime/preprocess\n  theme: 'tomorrow'\n  line_number: false    # default false\n  custom_css:\n```\n\n### \n\n [hexo-generator-search](https://github.com/wzpan/hexo-generator-search)  Hexo \n\n```bash\nnpm install hexo-generator-search --save\n```\n\n Hexo  `_config.yml` \n\n```yml\nsearch:\n  path: search.xml\n  field: post\n```\n\n\n\n![hexo-theme-3.jpg](https://i.loli.net/2020/05/04/RrE3pQdq9CmtcTP.jpg)\n\n### \n\n *Hexo*  `SEO` `gitment`  [hexo-permalink-pinyin](https://github.com/viko16/hexo-permalink-pinyin) *Hexo* \n\n\n\n```bash\nnpm i hexo-permalink-pinyin --save\n```\n\n *Hexo*  `_config.yml` \n\n```yml\npermalink_pinyin:\n  enable: true\n  separator: '-' # default: '-'\n```\n\n### \n\n [hexo-wordcount](https://github.com/willin/hexo-wordcount)\n\n\n\n```bash\nnpm i --save hexo-wordcount\n```\n\n `_config.yml` \n\n```yml\npostInfo:\n  date: true\n  update: true\n  wordCount: true #  true.\n  totalCount: true #  true.\n  min2read: true # .\n  readCount: true # .\n```\n\n### emoji\n\n*Matery* `emoji` [hexo-filter-github-emojis](https://npm.taobao.org/package/hexo-filter-github-emojis)  Hexo  `emoji``markdown emoji``::`,`:smile:``emoji`\n\n```bash\nnpm install hexo-filter-github-emojis --save\n```\n\n *Hexo*  `_config.yml` \n\n```yml\ngithubEmojis:\n  enable: true\n  className: github-emoji\n  inject: true\n  styles:\n  customEmojis:\n```\n\n###  RSS \n\n [hexo-generator-feed](https://github.com/hexojs/hexo-generator-feed)  Hexo  `RSS`\n\n```\nnpm install hexo-generator-feed --save\n```\n\n *Hexo*  `_config.yml` \n\n```yml\nfeed:\n  type: atom\n  path: atom.xml\n  limit: 20\n  hub:\n  content:\n  content_limit: 140\n  content_limit_delim: ' '\n  order_by: -date\n```\n\n `hexo clean && hexo g`  `public`  `atom.xml` \n\n###  [DaoVoice](http://www.daovoice.io/) \n\n [DaoVoice](http://www.daovoice.io/)  `app_id` `app_id`  `_config.yml` \n\n###  [Tidio](https://www.tidio.com/) \n\n [Tidio](https://www.tidio.com/)  `Public Key` `Public Key`  `_config.yml` \n\n### \n\n `_config.yml`  `QQ``GitHub`  `/layout/_partial/social-link.ejs` \n\n```\n<% if (theme.socialLink.github) { %>\n    <a href=\"<%= theme.socialLink.github %>\" class=\"tooltipped\" target=\"_blank\" data-tooltip=\"GitHub\" data-position=\"top\" data-delay=\"50\">\n        <i class=\"fab fa-github\"></i>\n    </a>\n<% } %>\n```\n\n`fa-github` [Font Awesome](https://fontawesome.com/icons) \n\n- Facebook: `fab fa-facebook`\n- Twitter: `fab fa-twitter`\n- Google-plus: `fab fa-google-plus`\n- Linkedin: `fab fa-linkedin`\n- Tumblr: `fab fa-tumblr`\n- Medium: `fab fa-medium`\n- Slack: `fab fa-slack`\n- Sina Weibo: `fab fa-weibo`\n- Wechat: `fab fa-weixin`\n- QQ: `fab fa-qq`\n- Zhihu: `fab fa-zhihu`\n\n### \n\n `source/medias/reward` \n\n### \n\n `_config.yml` music\n\n```yml\n# \nmusic:\n  enable: true\n  title:     \t    #\n    enable: true\n    show: \n  server: netease   #require music platform: netease, tencent, kugou, xiami, baidu\n  type: playlist    #require song, playlist, album, search, artist\n  id: 503838841     #require song id / playlist id / album id / search keyword\n  fixed: false      # \n  autoplay: false   # \n  theme: '#42b983'\n  loop: 'all'       # , : 'all', 'one', 'none'\n  order: 'random'   # , : 'list', 'random'\n  preload: 'auto'   # : 'none', 'metadata', 'auto'\n  volume: 0.7       # \n  listFolded: true  # \n```\n\n> `server``netease``tencent`QQ`kugou``xiami`\n>\n> `baidu`\n>\n> `type``song``playlist``album``search``artist`\n>\n> `id`: \n\n\n\n> http://music.163.com/playlist/4965675848/1548006936/?userid=120124365 (@)\n\n`4965675848` id\n\n *Aplayer*  *https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js* *https://api.i-meto.com/meting/api?server=:server&type=:type&id=:id&r=:r*\n\nid23333\n\n##  Front-matter \n\n### Front-matter \n\n`Front-matter` **** `title`  `date` \n\n|       |                          |                                                          |\n| ------------- | ------------------------------ | ------------------------------------------------------------ |\n| title         | `Markdown`           |                                  |\n| date          |            |              |\n| author        |  `_config.yml`  `author` |                                                      |\n| img           | `featureImages`      | ().: `http://xxx.com/xxx.jpg` |\n| top           | `true`                         |  `top`  `true` |\n| cover         | `false`                        | `v1.0.2`     |\n| coverImg      |                              | `v1.0.2` |\n| password      |                              |  `password`  `SHA256`  `config.yml`  `verifyPassword`  |\n| toc           | `true`                         |  TOC TOC  `config.yml`  `toc`  |\n| mathjax       | `false`                        |   `mathjax` `_config.yml`  |\n| summary       |                              |  |\n| categories    |                              |  |\n| tags          |                              |                                |\n| keywords      |                        | SEO                                        |\n| reprintPolicy | cc_by                          |   cc_by, cc_by_nd, cc_by_sa, cc_by_nc, cc_by_nc_nd, cc_by_nc_sa, cc0, noreprint  pay  |\n\n> ****:\n>\n> 1.  `img`  `hashcode` ****\n> 2. `date`  `Gitalk`  `Gitment`  `id`  `date` \n> 3.  Front-matter  SHA256  password  `_config.yml`  SHA256 [](http://tool.oschina.net/encrypt?type=2)[chahuo](http://encode.chahuo.com/)[](http://tool.chinaz.com/tools/hash.aspx)\n> 4. md front-matter  reprintPolicy \n\n `Front-matter` \n\n\n\n```\n---\ntitle: typora-vue-theme\ndate: 2018-09-07 09:25:00\n---\n```\n\n\n\n```\n---\ntitle: typora-vue-theme\ndate: 2018-09-07 09:25:00\nauthor: \nimg: /source/images/xxx.jpg\ntop: true\ncover: true\ncoverImg: /images/1.jpg\npassword: 8d969eef6ecad3c29a3a629280e686cf0c3f5d5a86aff3ca12020c923adc6c92\ntoc: false\nmathjax: false\nsummary: \ncategories: Markdown\ntags:\n  - Typora\n  - Markdown\n---\n```\n\n\n\nvaline \n\n## Valine \n\n*https://valine.js.org/* [](https://valine.js.org/quickstart.html) `AppId`  `AppKey` `_config.yml` ****\n\n```yml\nvaline:\n  enable: true\n  appId: XXX\n  appKey: XXX\n  notify: true\n  verify: false\n  visitor: true\n  avatar: 'retro' # Gravatar style : mm/identicon/monsterid/wavatar/retro/hide\n  pageSize: 10\n  placeholder: 'Comment here' # Comment Box placeholder\n  background: /medias/comment_bg.png\n```\n\n `Valine`  ++https://github.com/zhaojun1998/Valine-Admin++  `Valine` \n\n\n\n`Matery` \n\n[//]: # (![]&#40;https://i.loli.net/2020/05/02/AfHOY5RXge9tlVo.png&#41;)\n","slug":"hexo/hexo-theme","published":1,"updated":"2020-05-04T02:40:14.000Z","_id":"cl70rsfba000g5ohu5ho9b02j","comments":1,"layout":"post","photos":[],"link":"","content":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> <code>Hexo</code> + <code>github pages</code> + <code>travis ci</code>  <code>Hexo</code> </p>\n<p> <code>Matery</code> </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://hexo.io/themes/\" target=\"_blank\" rel=\"noopener\"></a>  <em>demo</em>  <em>github</em>  <em>github</em> </p>\n<p> <code>Matery</code> <code>git@github.com:blinkfox/hexo-theme-matery.git</code></p>\n<p></p>\n<pre class=\" language-bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> clone git@github.com:blinkfox/hexo-theme-matery.git</code></pre>\n<p> <em>themes</em>  <em>matery</em> </p>\n<pre class=\" language-bash\"><code class=\"language-bash\"><span class=\"token function\">mkdir</span> breeze-blog/themes/matery\n<span class=\"token function\">cp</span> -r hexo-theme-matery/* breeze-blog/themes/matery</code></pre>\n<p> <em>breeze-blog</em> </p>\n<p>(<em>_config.yml</em>) <em>theme</em>  <em>matery</em></p>\n<p></p>\n<pre class=\" language-bash\"><code class=\"language-bash\"><span class=\"token function\">cd</span> breeze-blog\nhexo clean <span class=\"token operator\">&amp;&amp;</span> hexo generate\nhexo server</code></pre>\n<p><code>localhost:4000</code></p>\n<p><img src=\"https://i.loli.net/2020/05/04/YKwFax1NrtVL6Zo.jpg\" alt=\"hexo-theme-1.jpg\"></p>\n<p> <code>Matery</code> </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<p><img src=\"https://i.loli.net/2020/05/04/9o7sjVdBMcm24TP.jpg\" alt=\"hexo-theme-2.jpg\"></p>\n<p> <code>categories</code> <code>categories</code> </p>\n<pre class=\" language-bash\"><code class=\"language-bash\">hexo new page <span class=\"token string\">\"categories\"</span></code></pre>\n<p> <em>/source/categories/index.md</em></p>\n<pre><code>---\ntitle: categories\ndate: 2020-05-04 10:40:13\ntype: \"categories\"\nlayout: \"categories\"\n---</code></pre><p> <code>tags</code> <code>tags</code> </p>\n<pre class=\" language-bash\"><code class=\"language-bash\">hexo new page <span class=\"token string\">\"tags\"</span></code></pre>\n<p> <em>/source/tags/index.md</em></p>\n<pre><code>---\ntitle: tags\ndate: 2020-05-04 10:40:14\ntype: \"tags\"\nlayout: \"tags\"\n---</code></pre><p> <code>about</code> <code>about</code> </p>\n<pre class=\" language-bash\"><code class=\"language-bash\">hexo new page <span class=\"token string\">\"about\"</span></code></pre>\n<p> <code>/source/about/index.md</code></p>\n<pre><code>---\ntitle: about\ndate: 2020-05-04 10:40:15\ntype: \"about\"\nlayout: \"about\"\n---</code></pre><p> <code>contact</code> <code>contact</code> </p>\n<pre class=\" language-bash\"><code class=\"language-bash\">hexo new page <span class=\"token string\">\"contact\"</span></code></pre>\n<p> <em>/source/contact/index.md</em></p>\n<pre><code>---\ntitle: contact\ndate: 2020-05-04 10:40:16\ntype: \"contact\"\nlayout: \"contact\"\n---</code></pre><p></p>\n<p> <code>friends</code> <code>friends</code> </p>\n<pre class=\" language-bash\"><code class=\"language-bash\">hexo new page <span class=\"token string\">\"friends\"</span></code></pre>\n<p> <em>/source/friends/index.md</em></p>\n<pre><code>---\ntitle: friends\ndate: 2020-05-04 10:40:17\ntype: \"friends\"\nlayout: \"friends\"\n---</code></pre><p> <code>source</code>  <em>_data</em>  <em>_data</em>  <em>friends.json</em> </p>\n<pre class=\" language-json\"><code class=\"language-json\"><span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"avatar\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"http://43.142.191.46:8080/crmebimage/public/operation/2022/08/19/e4c5aacf44c44157ac8381896a4f33bfiwjztayaan.png\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"introduction\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"url\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"http://43.142.191.46:9527/\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"title\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"avatar\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"http://43.142.191.46:8080/crmebimage/public/operation/2022/08/19/e4c5aacf44c44157ac8381896a4f33bfiwjztayaan.png\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"RabbitMQ\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"introduction\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"url\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"http://43.142.191.46:15672/\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"title\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span></code></pre>\n<p></p>\n<p></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"urlicon\"><a href=\"#urlicon\" class=\"headerlink\" title=\"urlicon.\"></a>urlicon.</h4><p>1.(<code>Index</code><code></code>) 2.icon <a href=\"https://fontawesome.com/icons\" target=\"_blank\" rel=\"noopener\">Font Awesome</a> </p>\n<pre class=\" language-yml\"><code class=\"language-yml\">menu:\n  Index:\n    url: /\n    icon: fas fa-home\n  Tags:\n    url: /tags\n    icon: fas fa-tags\n  Categories:\n    url: /categories\n    icon: fas fa-bookmark\n  Archives:\n    url: /archives\n    icon: fas fa-archive\n  About:\n    url: /about\n    icon: fas fa-user-circle\n  Friends:\n    url: /friends\n    icon: fas fa-address-book</code></pre>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><br>1.<code>children</code>(:<code>About</code><code>children</code>)<br>2.<code>children</code> name,urlicon.<br>3. <code>-</code>.<br>4.</p>\n<pre class=\" language-yml\"><code class=\"language-yml\">menu:\n  Index:\n    url: /\n    icon: fas fa-home\n  Tags:\n    url: /tags\n    icon: fas fa-tags\n  Categories:\n    url: /categories\n    icon: fas fa-bookmark\n  Archives:\n    url: /archives\n    icon: fas fa-archive\n  About:\n    url: /about\n    icon: fas fa-user-circle-o\n  Friends:\n    url: /friends\n    icon: fas fa-address-book\n  Medias:\n    icon: fas fa-list\n    children:\n      - name: Musics\n        url: /musics\n        icon: fas fa-music\n      - name: Movies\n        url: /movies\n        icon: fas fa-film\n      - name: Books\n        url: /books\n        icon: fas fa-book\n      - name: Galleries\n        url: /galleries\n        icon: fas fa-image</code></pre>\n<p> <code>hexo clean &amp;&amp; hexo g</code> <code>emoji</code></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> Hexo  <a href=\"https://github.com/ele828/hexo-prism-plugin\" target=\"_blank\" rel=\"noopener\">hexo-prism-plugin</a>  Hexo </p>\n<pre class=\" language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> i -S hexo-prism-plugin</code></pre>\n<p> Hexo  <code>_config.yml</code>  <code>highlight.enable</code>  <code>false</code> <code>prism</code> </p>\n<pre class=\" language-yml\"><code class=\"language-yml\">highlight:\n  enable: false\n\nprism_plugin:\n  mode: 'preprocess'    # realtime/preprocess\n  theme: 'tomorrow'\n  line_number: false    # default false\n  custom_css:</code></pre>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> <a href=\"https://github.com/wzpan/hexo-generator-search\" target=\"_blank\" rel=\"noopener\">hexo-generator-search</a>  Hexo </p>\n<pre class=\" language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> hexo-generator-search --save</code></pre>\n<p> Hexo  <code>_config.yml</code> </p>\n<pre class=\" language-yml\"><code class=\"language-yml\">search:\n  path: search.xml\n  field: post</code></pre>\n<p></p>\n<p><img src=\"https://i.loli.net/2020/05/04/RrE3pQdq9CmtcTP.jpg\" alt=\"hexo-theme-3.jpg\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> <em>Hexo</em>  <code>SEO</code> <code>gitment</code>  <a href=\"https://github.com/viko16/hexo-permalink-pinyin\" target=\"_blank\" rel=\"noopener\">hexo-permalink-pinyin</a> <em>Hexo</em> </p>\n<p></p>\n<pre class=\" language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> i hexo-permalink-pinyin --save</code></pre>\n<p> <em>Hexo</em>  <code>_config.yml</code> </p>\n<pre class=\" language-yml\"><code class=\"language-yml\">permalink_pinyin:\n  enable: true\n  separator: '-' # default: '-'</code></pre>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> <a href=\"https://github.com/willin/hexo-wordcount\" target=\"_blank\" rel=\"noopener\">hexo-wordcount</a></p>\n<p></p>\n<pre class=\" language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> i --save hexo-wordcount</code></pre>\n<p> <code>_config.yml</code> </p>\n<pre class=\" language-yml\"><code class=\"language-yml\">postInfo:\n  date: true\n  update: true\n  wordCount: true #  true.\n  totalCount: true #  true.\n  min2read: true # .\n  readCount: true # .</code></pre>\n<h3 id=\"emoji\"><a href=\"#emoji\" class=\"headerlink\" title=\"emoji\"></a>emoji</h3><p><em>Matery</em> <code>emoji</code> <a href=\"https://npm.taobao.org/package/hexo-filter-github-emojis\" target=\"_blank\" rel=\"noopener\">hexo-filter-github-emojis</a>  Hexo  <code>emoji</code><code>markdown emoji</code><code>::</code>,<code>:smile:</code><code>emoji</code></p>\n<pre class=\" language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> hexo-filter-github-emojis --save</code></pre>\n<p> <em>Hexo</em>  <code>_config.yml</code> </p>\n<pre class=\" language-yml\"><code class=\"language-yml\">githubEmojis:\n  enable: true\n  className: github-emoji\n  inject: true\n  styles:\n  customEmojis:</code></pre>\n<h3 id=\"-RSS-\"><a href=\"#-RSS-\" class=\"headerlink\" title=\" RSS \"></a> RSS </h3><p> <a href=\"https://github.com/hexojs/hexo-generator-feed\" target=\"_blank\" rel=\"noopener\">hexo-generator-feed</a>  Hexo  <code>RSS</code></p>\n<pre><code>npm install hexo-generator-feed --save</code></pre><p> <em>Hexo</em>  <code>_config.yml</code> </p>\n<pre class=\" language-yml\"><code class=\"language-yml\">feed:\n  type: atom\n  path: atom.xml\n  limit: 20\n  hub:\n  content:\n  content_limit: 140\n  content_limit_delim: ' '\n  order_by: -date</code></pre>\n<p> <code>hexo clean &amp;&amp; hexo g</code>  <code>public</code>  <code>atom.xml</code> </p>\n<h3 id=\"-DaoVoice-\"><a href=\"#-DaoVoice-\" class=\"headerlink\" title=\" DaoVoice \"></a> <a href=\"http://www.daovoice.io/\" target=\"_blank\" rel=\"noopener\">DaoVoice</a> </h3><p> <a href=\"http://www.daovoice.io/\" target=\"_blank\" rel=\"noopener\">DaoVoice</a>  <code>app_id</code> <code>app_id</code>  <code>_config.yml</code> </p>\n<h3 id=\"-Tidio-\"><a href=\"#-Tidio-\" class=\"headerlink\" title=\" Tidio \"></a> <a href=\"https://www.tidio.com/\" target=\"_blank\" rel=\"noopener\">Tidio</a> </h3><p> <a href=\"https://www.tidio.com/\" target=\"_blank\" rel=\"noopener\">Tidio</a>  <code>Public Key</code> <code>Public Key</code>  <code>_config.yml</code> </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> <code>_config.yml</code>  <code>QQ</code><code>GitHub</code>  <code>/layout/_partial/social-link.ejs</code> </p>\n<pre><code>&lt;% if (theme.socialLink.github) { %&gt;\n    &lt;a href=\"&lt;%= theme.socialLink.github %&gt;\" class=\"tooltipped\" target=\"_blank\" data-tooltip=\"GitHub\" data-position=\"top\" data-delay=\"50\"&gt;\n        &lt;i class=\"fab fa-github\"&gt;&lt;/i&gt;\n    &lt;/a&gt;\n&lt;% } %&gt;</code></pre><p><code>fa-github</code> <a href=\"https://fontawesome.com/icons\" target=\"_blank\" rel=\"noopener\">Font Awesome</a> </p>\n<ul>\n<li>Facebook: <code>fab fa-facebook</code></li>\n<li>Twitter: <code>fab fa-twitter</code></li>\n<li>Google-plus: <code>fab fa-google-plus</code></li>\n<li>Linkedin: <code>fab fa-linkedin</code></li>\n<li>Tumblr: <code>fab fa-tumblr</code></li>\n<li>Medium: <code>fab fa-medium</code></li>\n<li>Slack: <code>fab fa-slack</code></li>\n<li>Sina Weibo: <code>fab fa-weibo</code></li>\n<li>Wechat: <code>fab fa-weixin</code></li>\n<li>QQ: <code>fab fa-qq</code></li>\n<li>Zhihu: <code>fab fa-zhihu</code></li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> <code>source/medias/reward</code> </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> <code>_config.yml</code> music</p>\n<pre class=\" language-yml\"><code class=\"language-yml\"># \nmusic:\n  enable: true\n  title:             #\n    enable: true\n    show: \n  server: netease   #require music platform: netease, tencent, kugou, xiami, baidu\n  type: playlist    #require song, playlist, album, search, artist\n  id: 503838841     #require song id / playlist id / album id / search keyword\n  fixed: false      # \n  autoplay: false   # \n  theme: '#42b983'\n  loop: 'all'       # , : 'all', 'one', 'none'\n  order: 'random'   # , : 'list', 'random'\n  preload: 'auto'   # : 'none', 'metadata', 'auto'\n  volume: 0.7       # \n  listFolded: true  # </code></pre>\n<blockquote>\n<p><code>server</code><code>netease</code><code>tencent</code>QQ<code>kugou</code><code>xiami</code></p>\n<p><code>baidu</code></p>\n<p><code>type</code><code>song</code><code>playlist</code><code>album</code><code>search</code><code>artist</code></p>\n<p><code>id</code>: </p>\n</blockquote>\n<p></p>\n<blockquote>\n<p><a href=\"http://music.163.com/playlist/4965675848/1548006936/?userid=120124365\" target=\"_blank\" rel=\"noopener\">http://music.163.com/playlist/4965675848/1548006936/?userid=120124365</a> (@)</p>\n</blockquote>\n<p><code>4965675848</code> id</p>\n<p> <em>Aplayer</em>  <em><a href=\"https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js\" target=\"_blank\" rel=\"noopener\">https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js</a></em> <em><a href=\"https://api.i-meto.com/meting/api?server=:server&amp;type=:type&amp;id=:id&amp;r=:r\" target=\"_blank\" rel=\"noopener\">https://api.i-meto.com/meting/api?server=:server&amp;type=:type&amp;id=:id&amp;r=:r</a></em></p>\n<p>id23333</p>\n<h2 id=\"-Front-matter-\"><a href=\"#-Front-matter-\" class=\"headerlink\" title=\" Front-matter \"></a> Front-matter </h2><h3 id=\"Front-matter-\"><a href=\"#Front-matter-\" class=\"headerlink\" title=\"Front-matter \"></a>Front-matter </h3><p><code>Front-matter</code> <strong></strong> <code>title</code>  <code>date</code> </p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>title</td>\n<td><code>Markdown</code> </td>\n<td></td>\n</tr>\n<tr>\n<td>date</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>author</td>\n<td> <code>_config.yml</code>  <code>author</code></td>\n<td></td>\n</tr>\n<tr>\n<td>img</td>\n<td><code>featureImages</code> </td>\n<td>().: <code>http://xxx.com/xxx.jpg</code></td>\n</tr>\n<tr>\n<td>top</td>\n<td><code>true</code></td>\n<td> <code>top</code>  <code>true</code></td>\n</tr>\n<tr>\n<td>cover</td>\n<td><code>false</code></td>\n<td><code>v1.0.2</code></td>\n</tr>\n<tr>\n<td>coverImg</td>\n<td></td>\n<td><code>v1.0.2</code></td>\n</tr>\n<tr>\n<td>password</td>\n<td></td>\n<td> <code>password</code>  <code>SHA256</code>  <code>config.yml</code>  <code>verifyPassword</code> </td>\n</tr>\n<tr>\n<td>toc</td>\n<td><code>true</code></td>\n<td> TOC TOC  <code>config.yml</code>  <code>toc</code> </td>\n</tr>\n<tr>\n<td>mathjax</td>\n<td><code>false</code></td>\n<td>  <code>mathjax</code> <code>_config.yml</code> </td>\n</tr>\n<tr>\n<td>summary</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>categories</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>tags</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>keywords</td>\n<td></td>\n<td>SEO </td>\n</tr>\n<tr>\n<td>reprintPolicy</td>\n<td>cc_by</td>\n<td>  cc_by, cc_by_nd, cc_by_sa, cc_by_nc, cc_by_nc_nd, cc_by_nc_sa, cc0, noreprint  pay </td>\n</tr>\n</tbody></table>\n<blockquote>\n<p><strong></strong>:</p>\n<ol>\n<li> <code>img</code>  <code>hashcode</code> <strong></strong></li>\n<li><code>date</code>  <code>Gitalk</code>  <code>Gitment</code>  <code>id</code>  <code>date</code> </li>\n<li> Front-matter  SHA256  password  <code>_config.yml</code>  SHA256 <a href=\"http://tool.oschina.net/encrypt?type=2\" target=\"_blank\" rel=\"noopener\"></a><a href=\"http://encode.chahuo.com/\" target=\"_blank\" rel=\"noopener\">chahuo</a><a href=\"http://tool.chinaz.com/tools/hash.aspx\" target=\"_blank\" rel=\"noopener\"></a></li>\n<li>md front-matter  reprintPolicy </li>\n</ol>\n</blockquote>\n<p> <code>Front-matter</code> </p>\n<p></p>\n<pre><code>---\ntitle: typora-vue-theme\ndate: 2018-09-07 09:25:00\n---</code></pre><p></p>\n<pre><code>---\ntitle: typora-vue-theme\ndate: 2018-09-07 09:25:00\nauthor: \nimg: /source/images/xxx.jpg\ntop: true\ncover: true\ncoverImg: /images/1.jpg\npassword: 8d969eef6ecad3c29a3a629280e686cf0c3f5d5a86aff3ca12020c923adc6c92\ntoc: false\nmathjax: false\nsummary: \ncategories: Markdown\ntags:\n  - Typora\n  - Markdown\n---</code></pre><p></p>\n<p>valine </p>\n<h2 id=\"Valine-\"><a href=\"#Valine-\" class=\"headerlink\" title=\"Valine \"></a>Valine </h2><p><em><a href=\"https://valine.js.org/\" target=\"_blank\" rel=\"noopener\">https://valine.js.org/</a></em> <a href=\"https://valine.js.org/quickstart.html\" target=\"_blank\" rel=\"noopener\"></a> <code>AppId</code>  <code>AppKey</code> <code>_config.yml</code> <strong></strong></p>\n<pre class=\" language-yml\"><code class=\"language-yml\">valine:\n  enable: true\n  appId: XXX\n  appKey: XXX\n  notify: true\n  verify: false\n  visitor: true\n  avatar: 'retro' # Gravatar style : mm/identicon/monsterid/wavatar/retro/hide\n  pageSize: 10\n  placeholder: 'Comment here' # Comment Box placeholder\n  background: /medias/comment_bg.png</code></pre>\n<p> <code>Valine</code>  ++<a href=\"https://github.com/zhaojun1998/Valine-Admin++\" target=\"_blank\" rel=\"noopener\">https://github.com/zhaojun1998/Valine-Admin++</a>  <code>Valine</code> </p>\n<p></p>\n<p><code>Matery</code> </p>\n<script>\n        document.querySelectorAll('.github-emoji')\n          .forEach(el => {\n            if (!el.dataset.src) { return; }\n            const img = document.createElement('img');\n            img.style = 'display:none !important;';\n            img.src = el.dataset.src;\n            img.addEventListener('error', () => {\n              img.remove();\n              el.style.color = 'inherit';\n              el.style.backgroundImage = 'none';\n              el.style.background = 'none';\n            });\n            img.addEventListener('load', () => {\n              img.remove();\n            });\n            document.body.appendChild(img);\n          });\n      </script>","site":{"data":{"friends":[{"avatar":"http://43.142.191.46:8080/crmebimage/public/operation/2022/08/19/e4c5aacf44c44157ac8381896a4f33bfiwjztayaan.png","name":"","introduction":"","url":"http://43.142.191.46:9527/","title":""},{"avatar":"http://43.142.191.46:8080/crmebimage/public/operation/2022/08/19/e4c5aacf44c44157ac8381896a4f33bfiwjztayaan.png","name":"RabbitMQ","introduction":"","url":"http://43.142.191.46:15672/","title":""}]}},"excerpt":"","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> <code>Hexo</code> + <code>github pages</code> + <code>travis ci</code>  <code>Hexo</code> </p>\n<p> <code>Matery</code> </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"https://hexo.io/themes/\" target=\"_blank\" rel=\"noopener\"></a>  <em>demo</em>  <em>github</em>  <em>github</em> </p>\n<p> <code>Matery</code> <code>git@github.com:blinkfox/hexo-theme-matery.git</code></p>\n<p></p>\n<pre><code class=\"bash\">git clone git@github.com:blinkfox/hexo-theme-matery.git</code></pre>\n<p> <em>themes</em>  <em>matery</em> </p>\n<pre><code class=\"bash\">mkdir breeze-blog/themes/matery\ncp -r hexo-theme-matery/* breeze-blog/themes/matery</code></pre>\n<p> <em>breeze-blog</em> </p>\n<p>(<em>_config.yml</em>) <em>theme</em>  <em>matery</em></p>\n<p></p>\n<pre><code class=\"bash\">cd breeze-blog\nhexo clean &amp;&amp; hexo generate\nhexo server</code></pre>\n<p><code>localhost:4000</code></p>\n<p><img src=\"https://i.loli.net/2020/05/04/YKwFax1NrtVL6Zo.jpg\" alt=\"hexo-theme-1.jpg\"></p>\n<p> <code>Matery</code> </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<p><img src=\"https://i.loli.net/2020/05/04/9o7sjVdBMcm24TP.jpg\" alt=\"hexo-theme-2.jpg\"></p>\n<p> <code>categories</code> <code>categories</code> </p>\n<pre><code class=\"bash\">hexo new page &quot;categories&quot;</code></pre>\n<p> <em>/source/categories/index.md</em></p>\n<pre><code>---\ntitle: categories\ndate: 2020-05-04 10:40:13\ntype: &quot;categories&quot;\nlayout: &quot;categories&quot;\n---</code></pre><p> <code>tags</code> <code>tags</code> </p>\n<pre><code class=\"bash\">hexo new page &quot;tags&quot;</code></pre>\n<p> <em>/source/tags/index.md</em></p>\n<pre><code>---\ntitle: tags\ndate: 2020-05-04 10:40:14\ntype: &quot;tags&quot;\nlayout: &quot;tags&quot;\n---</code></pre><p> <code>about</code> <code>about</code> </p>\n<pre><code class=\"bash\">hexo new page &quot;about&quot;</code></pre>\n<p> <code>/source/about/index.md</code></p>\n<pre><code>---\ntitle: about\ndate: 2020-05-04 10:40:15\ntype: &quot;about&quot;\nlayout: &quot;about&quot;\n---</code></pre><p> <code>contact</code> <code>contact</code> </p>\n<pre><code class=\"bash\">hexo new page &quot;contact&quot;</code></pre>\n<p> <em>/source/contact/index.md</em></p>\n<pre><code>---\ntitle: contact\ndate: 2020-05-04 10:40:16\ntype: &quot;contact&quot;\nlayout: &quot;contact&quot;\n---</code></pre><p></p>\n<p> <code>friends</code> <code>friends</code> </p>\n<pre><code class=\"bash\">hexo new page &quot;friends&quot;</code></pre>\n<p> <em>/source/friends/index.md</em></p>\n<pre><code>---\ntitle: friends\ndate: 2020-05-04 10:40:17\ntype: &quot;friends&quot;\nlayout: &quot;friends&quot;\n---</code></pre><p> <code>source</code>  <em>_data</em>  <em>_data</em>  <em>friends.json</em> </p>\n<pre><code class=\"json\">[{\n  &quot;avatar&quot;: &quot;http://43.142.191.46:8080/crmebimage/public/operation/2022/08/19/e4c5aacf44c44157ac8381896a4f33bfiwjztayaan.png&quot;,\n  &quot;name&quot;: &quot;&quot;,\n  &quot;introduction&quot;: &quot;&quot;,\n  &quot;url&quot;: &quot;http://43.142.191.46:9527/&quot;,\n  &quot;title&quot;: &quot;&quot;\n},{\n  &quot;avatar&quot;: &quot;http://43.142.191.46:8080/crmebimage/public/operation/2022/08/19/e4c5aacf44c44157ac8381896a4f33bfiwjztayaan.png&quot;,\n  &quot;name&quot;: &quot;RabbitMQ&quot;,\n  &quot;introduction&quot;: &quot;&quot;,\n  &quot;url&quot;: &quot;http://43.142.191.46:15672/&quot;,\n  &quot;title&quot;: &quot;&quot;\n}]</code></pre>\n<p></p>\n<p></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"urlicon\"><a href=\"#urlicon\" class=\"headerlink\" title=\"urlicon.\"></a>urlicon.</h4><p>1.(<code>Index</code><code></code>) 2.icon <a href=\"https://fontawesome.com/icons\" target=\"_blank\" rel=\"noopener\">Font Awesome</a> </p>\n<pre><code class=\"yml\">menu:\n  Index:\n    url: /\n    icon: fas fa-home\n  Tags:\n    url: /tags\n    icon: fas fa-tags\n  Categories:\n    url: /categories\n    icon: fas fa-bookmark\n  Archives:\n    url: /archives\n    icon: fas fa-archive\n  About:\n    url: /about\n    icon: fas fa-user-circle\n  Friends:\n    url: /friends\n    icon: fas fa-address-book</code></pre>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><br>1.<code>children</code>(:<code>About</code><code>children</code>)<br>2.<code>children</code> name,urlicon.<br>3. <code>-</code>.<br>4.</p>\n<pre><code class=\"yml\">menu:\n  Index:\n    url: /\n    icon: fas fa-home\n  Tags:\n    url: /tags\n    icon: fas fa-tags\n  Categories:\n    url: /categories\n    icon: fas fa-bookmark\n  Archives:\n    url: /archives\n    icon: fas fa-archive\n  About:\n    url: /about\n    icon: fas fa-user-circle-o\n  Friends:\n    url: /friends\n    icon: fas fa-address-book\n  Medias:\n    icon: fas fa-list\n    children:\n      - name: Musics\n        url: /musics\n        icon: fas fa-music\n      - name: Movies\n        url: /movies\n        icon: fas fa-film\n      - name: Books\n        url: /books\n        icon: fas fa-book\n      - name: Galleries\n        url: /galleries\n        icon: fas fa-image</code></pre>\n<p> <code>hexo clean &amp;&amp; hexo g</code> <code>emoji</code></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> Hexo  <a href=\"https://github.com/ele828/hexo-prism-plugin\" target=\"_blank\" rel=\"noopener\">hexo-prism-plugin</a>  Hexo </p>\n<pre><code class=\"bash\">npm i -S hexo-prism-plugin</code></pre>\n<p> Hexo  <code>_config.yml</code>  <code>highlight.enable</code>  <code>false</code> <code>prism</code> </p>\n<pre><code class=\"yml\">highlight:\n  enable: false\n\nprism_plugin:\n  mode: &#39;preprocess&#39;    # realtime/preprocess\n  theme: &#39;tomorrow&#39;\n  line_number: false    # default false\n  custom_css:</code></pre>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> <a href=\"https://github.com/wzpan/hexo-generator-search\" target=\"_blank\" rel=\"noopener\">hexo-generator-search</a>  Hexo </p>\n<pre><code class=\"bash\">npm install hexo-generator-search --save</code></pre>\n<p> Hexo  <code>_config.yml</code> </p>\n<pre><code class=\"yml\">search:\n  path: search.xml\n  field: post</code></pre>\n<p></p>\n<p><img src=\"https://i.loli.net/2020/05/04/RrE3pQdq9CmtcTP.jpg\" alt=\"hexo-theme-3.jpg\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> <em>Hexo</em>  <code>SEO</code> <code>gitment</code>  <a href=\"https://github.com/viko16/hexo-permalink-pinyin\" target=\"_blank\" rel=\"noopener\">hexo-permalink-pinyin</a> <em>Hexo</em> </p>\n<p></p>\n<pre><code class=\"bash\">npm i hexo-permalink-pinyin --save</code></pre>\n<p> <em>Hexo</em>  <code>_config.yml</code> </p>\n<pre><code class=\"yml\">permalink_pinyin:\n  enable: true\n  separator: &#39;-&#39; # default: &#39;-&#39;</code></pre>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> <a href=\"https://github.com/willin/hexo-wordcount\" target=\"_blank\" rel=\"noopener\">hexo-wordcount</a></p>\n<p></p>\n<pre><code class=\"bash\">npm i --save hexo-wordcount</code></pre>\n<p> <code>_config.yml</code> </p>\n<pre><code class=\"yml\">postInfo:\n  date: true\n  update: true\n  wordCount: true #  true.\n  totalCount: true #  true.\n  min2read: true # .\n  readCount: true # .</code></pre>\n<h3 id=\"emoji\"><a href=\"#emoji\" class=\"headerlink\" title=\"emoji\"></a>emoji</h3><p><em>Matery</em> <code>emoji</code> <a href=\"https://npm.taobao.org/package/hexo-filter-github-emojis\" target=\"_blank\" rel=\"noopener\">hexo-filter-github-emojis</a>  Hexo  <code>emoji</code><code>markdown emoji</code><code>::</code>,<code>:smile:</code><code>emoji</code></p>\n<pre><code class=\"bash\">npm install hexo-filter-github-emojis --save</code></pre>\n<p> <em>Hexo</em>  <code>_config.yml</code> </p>\n<pre><code class=\"yml\">githubEmojis:\n  enable: true\n  className: github-emoji\n  inject: true\n  styles:\n  customEmojis:</code></pre>\n<h3 id=\"-RSS-\"><a href=\"#-RSS-\" class=\"headerlink\" title=\" RSS \"></a> RSS </h3><p> <a href=\"https://github.com/hexojs/hexo-generator-feed\" target=\"_blank\" rel=\"noopener\">hexo-generator-feed</a>  Hexo  <code>RSS</code></p>\n<pre><code>npm install hexo-generator-feed --save</code></pre><p> <em>Hexo</em>  <code>_config.yml</code> </p>\n<pre><code class=\"yml\">feed:\n  type: atom\n  path: atom.xml\n  limit: 20\n  hub:\n  content:\n  content_limit: 140\n  content_limit_delim: &#39; &#39;\n  order_by: -date</code></pre>\n<p> <code>hexo clean &amp;&amp; hexo g</code>  <code>public</code>  <code>atom.xml</code> </p>\n<h3 id=\"-DaoVoice-\"><a href=\"#-DaoVoice-\" class=\"headerlink\" title=\" DaoVoice \"></a> <a href=\"http://www.daovoice.io/\" target=\"_blank\" rel=\"noopener\">DaoVoice</a> </h3><p> <a href=\"http://www.daovoice.io/\" target=\"_blank\" rel=\"noopener\">DaoVoice</a>  <code>app_id</code> <code>app_id</code>  <code>_config.yml</code> </p>\n<h3 id=\"-Tidio-\"><a href=\"#-Tidio-\" class=\"headerlink\" title=\" Tidio \"></a> <a href=\"https://www.tidio.com/\" target=\"_blank\" rel=\"noopener\">Tidio</a> </h3><p> <a href=\"https://www.tidio.com/\" target=\"_blank\" rel=\"noopener\">Tidio</a>  <code>Public Key</code> <code>Public Key</code>  <code>_config.yml</code> </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> <code>_config.yml</code>  <code>QQ</code><code>GitHub</code>  <code>/layout/_partial/social-link.ejs</code> </p>\n<pre><code>&lt;% if (theme.socialLink.github) { %&gt;\n    &lt;a href=&quot;&lt;%= theme.socialLink.github %&gt;&quot; class=&quot;tooltipped&quot; target=&quot;_blank&quot; data-tooltip=&quot;GitHub&quot; data-position=&quot;top&quot; data-delay=&quot;50&quot;&gt;\n        &lt;i class=&quot;fab fa-github&quot;&gt;&lt;/i&gt;\n    &lt;/a&gt;\n&lt;% } %&gt;</code></pre><p><code>fa-github</code> <a href=\"https://fontawesome.com/icons\" target=\"_blank\" rel=\"noopener\">Font Awesome</a> </p>\n<ul>\n<li>Facebook: <code>fab fa-facebook</code></li>\n<li>Twitter: <code>fab fa-twitter</code></li>\n<li>Google-plus: <code>fab fa-google-plus</code></li>\n<li>Linkedin: <code>fab fa-linkedin</code></li>\n<li>Tumblr: <code>fab fa-tumblr</code></li>\n<li>Medium: <code>fab fa-medium</code></li>\n<li>Slack: <code>fab fa-slack</code></li>\n<li>Sina Weibo: <code>fab fa-weibo</code></li>\n<li>Wechat: <code>fab fa-weixin</code></li>\n<li>QQ: <code>fab fa-qq</code></li>\n<li>Zhihu: <code>fab fa-zhihu</code></li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> <code>source/medias/reward</code> </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> <code>_config.yml</code> music</p>\n<pre><code class=\"yml\"># \nmusic:\n  enable: true\n  title:             #\n    enable: true\n    show: \n  server: netease   #require music platform: netease, tencent, kugou, xiami, baidu\n  type: playlist    #require song, playlist, album, search, artist\n  id: 503838841     #require song id / playlist id / album id / search keyword\n  fixed: false      # \n  autoplay: false   # \n  theme: &#39;#42b983&#39;\n  loop: &#39;all&#39;       # , : &#39;all&#39;, &#39;one&#39;, &#39;none&#39;\n  order: &#39;random&#39;   # , : &#39;list&#39;, &#39;random&#39;\n  preload: &#39;auto&#39;   # : &#39;none&#39;, &#39;metadata&#39;, &#39;auto&#39;\n  volume: 0.7       # \n  listFolded: true  # </code></pre>\n<blockquote>\n<p><code>server</code><code>netease</code><code>tencent</code>QQ<code>kugou</code><code>xiami</code></p>\n<p><code>baidu</code></p>\n<p><code>type</code><code>song</code><code>playlist</code><code>album</code><code>search</code><code>artist</code></p>\n<p><code>id</code>: </p>\n</blockquote>\n<p></p>\n<blockquote>\n<p><a href=\"http://music.163.com/playlist/4965675848/1548006936/?userid=120124365\" target=\"_blank\" rel=\"noopener\">http://music.163.com/playlist/4965675848/1548006936/?userid=120124365</a> (@)</p>\n</blockquote>\n<p><code>4965675848</code> id</p>\n<p> <em>Aplayer</em>  <em><a href=\"https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js\" target=\"_blank\" rel=\"noopener\">https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js</a></em> <em><a href=\"https://api.i-meto.com/meting/api?server=:server&amp;type=:type&amp;id=:id&amp;r=:r\" target=\"_blank\" rel=\"noopener\">https://api.i-meto.com/meting/api?server=:server&amp;type=:type&amp;id=:id&amp;r=:r</a></em></p>\n<p>id23333</p>\n<h2 id=\"-Front-matter-\"><a href=\"#-Front-matter-\" class=\"headerlink\" title=\" Front-matter \"></a> Front-matter </h2><h3 id=\"Front-matter-\"><a href=\"#Front-matter-\" class=\"headerlink\" title=\"Front-matter \"></a>Front-matter </h3><p><code>Front-matter</code> <strong></strong> <code>title</code>  <code>date</code> </p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>title</td>\n<td><code>Markdown</code> </td>\n<td></td>\n</tr>\n<tr>\n<td>date</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>author</td>\n<td> <code>_config.yml</code>  <code>author</code></td>\n<td></td>\n</tr>\n<tr>\n<td>img</td>\n<td><code>featureImages</code> </td>\n<td>().: <code>http://xxx.com/xxx.jpg</code></td>\n</tr>\n<tr>\n<td>top</td>\n<td><code>true</code></td>\n<td> <code>top</code>  <code>true</code></td>\n</tr>\n<tr>\n<td>cover</td>\n<td><code>false</code></td>\n<td><code>v1.0.2</code></td>\n</tr>\n<tr>\n<td>coverImg</td>\n<td></td>\n<td><code>v1.0.2</code></td>\n</tr>\n<tr>\n<td>password</td>\n<td></td>\n<td> <code>password</code>  <code>SHA256</code>  <code>config.yml</code>  <code>verifyPassword</code> </td>\n</tr>\n<tr>\n<td>toc</td>\n<td><code>true</code></td>\n<td> TOC TOC  <code>config.yml</code>  <code>toc</code> </td>\n</tr>\n<tr>\n<td>mathjax</td>\n<td><code>false</code></td>\n<td>  <code>mathjax</code> <code>_config.yml</code> </td>\n</tr>\n<tr>\n<td>summary</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>categories</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>tags</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>keywords</td>\n<td></td>\n<td>SEO </td>\n</tr>\n<tr>\n<td>reprintPolicy</td>\n<td>cc_by</td>\n<td>  cc_by, cc_by_nd, cc_by_sa, cc_by_nc, cc_by_nc_nd, cc_by_nc_sa, cc0, noreprint  pay </td>\n</tr>\n</tbody></table>\n<blockquote>\n<p><strong></strong>:</p>\n<ol>\n<li> <code>img</code>  <code>hashcode</code> <strong></strong></li>\n<li><code>date</code>  <code>Gitalk</code>  <code>Gitment</code>  <code>id</code>  <code>date</code> </li>\n<li> Front-matter  SHA256  password  <code>_config.yml</code>  SHA256 <a href=\"http://tool.oschina.net/encrypt?type=2\" target=\"_blank\" rel=\"noopener\"></a><a href=\"http://encode.chahuo.com/\" target=\"_blank\" rel=\"noopener\">chahuo</a><a href=\"http://tool.chinaz.com/tools/hash.aspx\" target=\"_blank\" rel=\"noopener\"></a></li>\n<li>md front-matter  reprintPolicy </li>\n</ol>\n</blockquote>\n<p> <code>Front-matter</code> </p>\n<p></p>\n<pre><code>---\ntitle: typora-vue-theme\ndate: 2018-09-07 09:25:00\n---</code></pre><p></p>\n<pre><code>---\ntitle: typora-vue-theme\ndate: 2018-09-07 09:25:00\nauthor: \nimg: /source/images/xxx.jpg\ntop: true\ncover: true\ncoverImg: /images/1.jpg\npassword: 8d969eef6ecad3c29a3a629280e686cf0c3f5d5a86aff3ca12020c923adc6c92\ntoc: false\nmathjax: false\nsummary: \ncategories: Markdown\ntags:\n  - Typora\n  - Markdown\n---</code></pre><p></p>\n<p>valine </p>\n<h2 id=\"Valine-\"><a href=\"#Valine-\" class=\"headerlink\" title=\"Valine \"></a>Valine </h2><p><em><a href=\"https://valine.js.org/\" target=\"_blank\" rel=\"noopener\">https://valine.js.org/</a></em> <a href=\"https://valine.js.org/quickstart.html\" target=\"_blank\" rel=\"noopener\"></a> <code>AppId</code>  <code>AppKey</code> <code>_config.yml</code> <strong></strong></p>\n<pre><code class=\"yml\">valine:\n  enable: true\n  appId: XXX\n  appKey: XXX\n  notify: true\n  verify: false\n  visitor: true\n  avatar: &#39;retro&#39; # Gravatar style : mm/identicon/monsterid/wavatar/retro/hide\n  pageSize: 10\n  placeholder: &#39;Comment here&#39; # Comment Box placeholder\n  background: /medias/comment_bg.png</code></pre>\n<p> <code>Valine</code>  ++<a href=\"https://github.com/zhaojun1998/Valine-Admin++\" target=\"_blank\" rel=\"noopener\">https://github.com/zhaojun1998/Valine-Admin++</a>  <code>Valine</code> </p>\n<p></p>\n<p><code>Matery</code> </p>\n"},{"title":"HexoHexo+github pages+travis ci","toc":true,"date":"2020-05-02T03:51:35.000Z","_content":"\n## \n\n `Hexo` + `github pages`  `travis ci` \n\n\n\n\n\n## \n\n[//]: # ([ Demo]&#40;https://mfrank2016.github.io/breeze-blog/&#41;)\n\n[//]: # ()\n[//]: # (![hexo-1.jpg]&#40;https://i.loli.net/2020/05/02/j6fIGtNmqB9Vlgi.jpg&#41;)\n\n[//]: # (![hexo-2.jpg]&#40;https://i.loli.net/2020/05/02/Eko6AGPpxIfrUMX.jpg&#41;)\n\n[//]: # (![hexo-3.jpg]&#40;https://i.loli.net/2020/05/02/g8FYkmlAK7dX2qc.jpg&#41;)\n\n[//]: # (![hexo-4.jpg]&#40;https://i.loli.net/2020/05/02/pcWruwXdm3aO7VZ.jpg&#41;)\n\n[//]: # (![hexo-5.jpg]&#40;https://i.loli.net/2020/05/02/OCNwnEh3SdvBUe4.jpg&#41;)\n\n\n\n`hexo` [](https://hexo.io/themes/)\n\n## \n\n\n\n*  `node.js`\n*  `git`\n*  `github` \n*  `github` \n*  `travis ci` \n\n\n\n###  node.js\n\n`windows` [](https://nodejs.org/zh-cn/download/) `installer` \n\n`mac` [](https://nodejs.org/zh-cn/download/) `pkg`  `homebrew` \n\n```bash\nbrew install node\n```\n\n:\n\n```bash\nnode -v\n```\n\n###  git\n\n`windows` [](https://gitforwindows.org/)\n\n`mac` [](https://sourceforge.net/projects/git-osx-installer/)\n\n `homebrew` \n\n```bash\nbrew install git\n```\n\n `git` \n\n```bash\ngit --version\n```\n\n\n\n```bash\ngit config --global user.name \"\"\ngit config --global user.email \"\"\n```\n\n### github \n\n `github` [](https://github.com/join?source=header-home)\n\n `github` \n\n `SSH Key`  `github`  `github` \n\n `RSA` \n\n```bash\nssh-keygen -t rsa -b 4096 -C \"\"\n```\n\n\n\n`windows`  `C:////admin//.ssh` mac  `~/.ssh`  `id_rsa.pub` [](https://github.com/settings/keys) `SSHKEY` \n\n![hexo-10.jpg](https://i.loli.net/2020/05/02/k3uVFawNbvL84eB.jpg)\n\n![hexo-11.jpg](https://i.loli.net/2020/05/02/ijrXcU1ZT96QqsP.jpg)\n\n `key` \n\n### \n\n[](https://github.com/new)\n\n![hexo-5.jpg](https://i.loli.net/2020/05/02/zoDx4HQrACMSYbI.png)\n\n`blog``my-blog`[](https://github.com/MFrank2016/breeze-blog)\n\n `git` \n\n![hexo-12.jpg](https://i.loli.net/2020/05/02/e36Vp8isyRfYvaw.jpg)\n\n\n\n### travis ci \n\n`travis ci`  `github`  `github` [](https://travis-ci.org/signin)\n\n[](https://travis-ci.org/account/repositories)\n\n![hexo-7.jpg](https://i.loli.net/2020/05/02/Th5tdWvNYlXbz3D.jpg)\n\n\n\n![hexo-8.jpg](https://i.loli.net/2020/05/02/vznkDHh9frOMlIX.jpg)\n\n##  Hexo\n\n`hexo` \n\n`hexo` \n\n```bash\nnpm install -g hexo-cli\n```\n\n`hexo` \n\n\n\n```bash\nhexo -v\n```\n\n##  hexo \n\n\n\n```bash\nhexo init breeze-blog\ncd breeze-blog\nnpm install\n```\n\n `breeze-blog`  `hexo` \n\n`breeze-blog` \n\n```bash\n.\n _config.yml\n package.json\n node_modules\n scaffolds\n source\n|    _drafts\n|    _posts\n themes\n```\n\n`_config.yml` \n\n`package.json` \n\n`node_modules`  `node` \n\n`scaffolds`  `md` \n\n`source`  `_posts`  _ () / \n\n`theme` \n\n `breeze-blog` \n\n```bash\nhexo server\n```\n\n `4000`  `-p` \n\n```bash\nhexo server -p 8080\n```\n\n `http://localhost:4000` \n\n![hexo-9.jpg](https://i.loli.net/2020/05/02/ntX31VrhMTjFozQ.jpg)\n\n\n\n##  github pages\n\n`github pages`  ~~gayhub~~ `github`  `https://.github.io//`  `blog` `https://mfrank2016.github.io/breeze-blog/`\n\n `github pages` `github`  ~~~~ \n\n `github`  `git` \n\n>  `github pages` `.github.io`  master  travis ci  `gh-pages` `Hexo`  `master`  `gh-pages` \n\n `github` \n\n `breeze-blog`  `git`  `git`  `gh-pages` \n\n```bash\ncd breeze-blog\ngit init\ngit add .\ngit commit -am\"init blog\"\ngit remote add origin \n```\n\n `git@github.com:MFrank2016/breeze-blog.git` \n\n\n\n```bash\ngit push -u origin master\n```\n\n -f \n\n```bash\ngit push -f -u origin master\n```\n\n `gh-pages`\n\n```bash\ngit checkout -b gh-pages\ngit push -u origin gh-pages\n```\n\n\n\n `settings`  `github pages`\n\n![hexo-13.jpg](https://i.loli.net/2020/05/02/bQWKGwMsAVYk5hp.jpg)\n\n![hexo-14.jpg](https://i.loli.net/2020/05/02/HqpxGos7J9mLRkC.jpg)\n\n `gh-pages`  `master` \n\n `hexo` (`_config.yml`) `root`  `url` \n\n```bash\nurl: https://mfrank2016.github.io/\nroot: /breeze-blog/\n\ndeploy:\n  type: 'git'\n  repo: git@github.com:MFrank2016/breeze-blog\n  branch: gh-pages\n```\n\n `repo` \n\n `hexo-deployer-git`\n\n```bash\ncd breeze-blog\nnpm install hexo-deployer-git --save\n```\n\n\n\n```bash\nhexo clean && hexo generate\nhexo deploy\n```\n\n `github pages` \n\n```bash\nhttps://.github.io//\n```\n\n\n\n```bash\nhexo clean && hexo g -d\n```\n\n `github`  `gh-pages`  `master` \n\n```bash\ngit checkout master\ngit add .\ngit commit -am \"\"\ngit push\n```\n\n##  travis ci \n\n `travis ci`  `github`  `travis ci` \n\n`travis ci` \n\n*_config.yml**repo*`travis ci` \n\n```yml\ndeploy:\n  type: 'git'\n#  repo: git@github.com:MFrank2016/breeze-blog\n  branch: gh-pages\n```\n\n `.travis.yml`  `_config.yml` \n\n\n\n```yml\nsudo: false\nlanguage: node_js\nnode_js:\n  - 12\ncache: npm\nbranches:\n  only:\n    - master # build master branch only\nscript:\n  - hexo generate\ndeploy:\n  provider: pages\n  skip-cleanup: true\n  github-token: $GH_TOKEN\n  keep-history: true\n  on:\n    branch: master\n  local-dir: public\n```\n\n\n\n `travis` `GH_TOKEN` \n\n `travis`  `github` [](https://travis-ci.org/dashboard)\n\n![hexo-15.jpg](https://i.loli.net/2020/05/02/Xc2OGJvDNFbhYPs.jpg)\n\n![hexo-16.jpg](https://i.loli.net/2020/05/02/E7QyHTNMdjJWP26.jpg)\n\n![hexo-17.jpg](https://i.loli.net/2020/05/02/qjJkhAgErKL5tUR.jpg)\n\n `access token`  `github token`[](https://github.com/settings/tokens)\n\n![hexo-18.jpg](https://i.loli.net/2020/05/02/K35fhMCGLJ7xiUw.jpg)\n\n![hexo-19.jpg](https://i.loli.net/2020/05/02/7wNrX19YqGZKLOs.jpg)\n\n `generate`  `access token` `token`  `config` \n\n `token`  `travis ci` \n\n\n\n```bash\ncd breeze-blog\ngit checkout master\nhexo new \"my first blog\"\ngit add .\ngit commit -am\"add a new blog\"\ngit push\n```\n\n `travis ci` \n\n## \n\n\n\n\n\n\n\n[//]: # (![]&#40;https://i.loli.net/2020/05/02/AfHOY5RXge9tlVo.png&#41;)\n","source":"_posts/hexo/hexo-start.md","raw":"---\ntitle: HexoHexo+github pages+travis ci\ntags:\n  - \n  - Hexo\n  - github pages\n  - travis ci\ncategories:\n  - \n  - \ntoc: true\ndate: 2020-05-02 11:51:35\n---\n\n## \n\n `Hexo` + `github pages`  `travis ci` \n\n\n\n\n\n## \n\n[//]: # ([ Demo]&#40;https://mfrank2016.github.io/breeze-blog/&#41;)\n\n[//]: # ()\n[//]: # (![hexo-1.jpg]&#40;https://i.loli.net/2020/05/02/j6fIGtNmqB9Vlgi.jpg&#41;)\n\n[//]: # (![hexo-2.jpg]&#40;https://i.loli.net/2020/05/02/Eko6AGPpxIfrUMX.jpg&#41;)\n\n[//]: # (![hexo-3.jpg]&#40;https://i.loli.net/2020/05/02/g8FYkmlAK7dX2qc.jpg&#41;)\n\n[//]: # (![hexo-4.jpg]&#40;https://i.loli.net/2020/05/02/pcWruwXdm3aO7VZ.jpg&#41;)\n\n[//]: # (![hexo-5.jpg]&#40;https://i.loli.net/2020/05/02/OCNwnEh3SdvBUe4.jpg&#41;)\n\n\n\n`hexo` [](https://hexo.io/themes/)\n\n## \n\n\n\n*  `node.js`\n*  `git`\n*  `github` \n*  `github` \n*  `travis ci` \n\n\n\n###  node.js\n\n`windows` [](https://nodejs.org/zh-cn/download/) `installer` \n\n`mac` [](https://nodejs.org/zh-cn/download/) `pkg`  `homebrew` \n\n```bash\nbrew install node\n```\n\n:\n\n```bash\nnode -v\n```\n\n###  git\n\n`windows` [](https://gitforwindows.org/)\n\n`mac` [](https://sourceforge.net/projects/git-osx-installer/)\n\n `homebrew` \n\n```bash\nbrew install git\n```\n\n `git` \n\n```bash\ngit --version\n```\n\n\n\n```bash\ngit config --global user.name \"\"\ngit config --global user.email \"\"\n```\n\n### github \n\n `github` [](https://github.com/join?source=header-home)\n\n `github` \n\n `SSH Key`  `github`  `github` \n\n `RSA` \n\n```bash\nssh-keygen -t rsa -b 4096 -C \"\"\n```\n\n\n\n`windows`  `C:////admin//.ssh` mac  `~/.ssh`  `id_rsa.pub` [](https://github.com/settings/keys) `SSHKEY` \n\n![hexo-10.jpg](https://i.loli.net/2020/05/02/k3uVFawNbvL84eB.jpg)\n\n![hexo-11.jpg](https://i.loli.net/2020/05/02/ijrXcU1ZT96QqsP.jpg)\n\n `key` \n\n### \n\n[](https://github.com/new)\n\n![hexo-5.jpg](https://i.loli.net/2020/05/02/zoDx4HQrACMSYbI.png)\n\n`blog``my-blog`[](https://github.com/MFrank2016/breeze-blog)\n\n `git` \n\n![hexo-12.jpg](https://i.loli.net/2020/05/02/e36Vp8isyRfYvaw.jpg)\n\n\n\n### travis ci \n\n`travis ci`  `github`  `github` [](https://travis-ci.org/signin)\n\n[](https://travis-ci.org/account/repositories)\n\n![hexo-7.jpg](https://i.loli.net/2020/05/02/Th5tdWvNYlXbz3D.jpg)\n\n\n\n![hexo-8.jpg](https://i.loli.net/2020/05/02/vznkDHh9frOMlIX.jpg)\n\n##  Hexo\n\n`hexo` \n\n`hexo` \n\n```bash\nnpm install -g hexo-cli\n```\n\n`hexo` \n\n\n\n```bash\nhexo -v\n```\n\n##  hexo \n\n\n\n```bash\nhexo init breeze-blog\ncd breeze-blog\nnpm install\n```\n\n `breeze-blog`  `hexo` \n\n`breeze-blog` \n\n```bash\n.\n _config.yml\n package.json\n node_modules\n scaffolds\n source\n|    _drafts\n|    _posts\n themes\n```\n\n`_config.yml` \n\n`package.json` \n\n`node_modules`  `node` \n\n`scaffolds`  `md` \n\n`source`  `_posts`  _ () / \n\n`theme` \n\n `breeze-blog` \n\n```bash\nhexo server\n```\n\n `4000`  `-p` \n\n```bash\nhexo server -p 8080\n```\n\n `http://localhost:4000` \n\n![hexo-9.jpg](https://i.loli.net/2020/05/02/ntX31VrhMTjFozQ.jpg)\n\n\n\n##  github pages\n\n`github pages`  ~~gayhub~~ `github`  `https://.github.io//`  `blog` `https://mfrank2016.github.io/breeze-blog/`\n\n `github pages` `github`  ~~~~ \n\n `github`  `git` \n\n>  `github pages` `.github.io`  master  travis ci  `gh-pages` `Hexo`  `master`  `gh-pages` \n\n `github` \n\n `breeze-blog`  `git`  `git`  `gh-pages` \n\n```bash\ncd breeze-blog\ngit init\ngit add .\ngit commit -am\"init blog\"\ngit remote add origin \n```\n\n `git@github.com:MFrank2016/breeze-blog.git` \n\n\n\n```bash\ngit push -u origin master\n```\n\n -f \n\n```bash\ngit push -f -u origin master\n```\n\n `gh-pages`\n\n```bash\ngit checkout -b gh-pages\ngit push -u origin gh-pages\n```\n\n\n\n `settings`  `github pages`\n\n![hexo-13.jpg](https://i.loli.net/2020/05/02/bQWKGwMsAVYk5hp.jpg)\n\n![hexo-14.jpg](https://i.loli.net/2020/05/02/HqpxGos7J9mLRkC.jpg)\n\n `gh-pages`  `master` \n\n `hexo` (`_config.yml`) `root`  `url` \n\n```bash\nurl: https://mfrank2016.github.io/\nroot: /breeze-blog/\n\ndeploy:\n  type: 'git'\n  repo: git@github.com:MFrank2016/breeze-blog\n  branch: gh-pages\n```\n\n `repo` \n\n `hexo-deployer-git`\n\n```bash\ncd breeze-blog\nnpm install hexo-deployer-git --save\n```\n\n\n\n```bash\nhexo clean && hexo generate\nhexo deploy\n```\n\n `github pages` \n\n```bash\nhttps://.github.io//\n```\n\n\n\n```bash\nhexo clean && hexo g -d\n```\n\n `github`  `gh-pages`  `master` \n\n```bash\ngit checkout master\ngit add .\ngit commit -am \"\"\ngit push\n```\n\n##  travis ci \n\n `travis ci`  `github`  `travis ci` \n\n`travis ci` \n\n*_config.yml**repo*`travis ci` \n\n```yml\ndeploy:\n  type: 'git'\n#  repo: git@github.com:MFrank2016/breeze-blog\n  branch: gh-pages\n```\n\n `.travis.yml`  `_config.yml` \n\n\n\n```yml\nsudo: false\nlanguage: node_js\nnode_js:\n  - 12\ncache: npm\nbranches:\n  only:\n    - master # build master branch only\nscript:\n  - hexo generate\ndeploy:\n  provider: pages\n  skip-cleanup: true\n  github-token: $GH_TOKEN\n  keep-history: true\n  on:\n    branch: master\n  local-dir: public\n```\n\n\n\n `travis` `GH_TOKEN` \n\n `travis`  `github` [](https://travis-ci.org/dashboard)\n\n![hexo-15.jpg](https://i.loli.net/2020/05/02/Xc2OGJvDNFbhYPs.jpg)\n\n![hexo-16.jpg](https://i.loli.net/2020/05/02/E7QyHTNMdjJWP26.jpg)\n\n![hexo-17.jpg](https://i.loli.net/2020/05/02/qjJkhAgErKL5tUR.jpg)\n\n `access token`  `github token`[](https://github.com/settings/tokens)\n\n![hexo-18.jpg](https://i.loli.net/2020/05/02/K35fhMCGLJ7xiUw.jpg)\n\n![hexo-19.jpg](https://i.loli.net/2020/05/02/7wNrX19YqGZKLOs.jpg)\n\n `generate`  `access token` `token`  `config` \n\n `token`  `travis ci` \n\n\n\n```bash\ncd breeze-blog\ngit checkout master\nhexo new \"my first blog\"\ngit add .\ngit commit -am\"add a new blog\"\ngit push\n```\n\n `travis ci` \n\n## \n\n\n\n\n\n\n\n[//]: # (![]&#40;https://i.loli.net/2020/05/02/AfHOY5RXge9tlVo.png&#41;)\n","slug":"hexo/hexo-start","published":1,"updated":"2020-05-02T03:51:35.000Z","_id":"cl70rsfbc000k5ohu16oq97x0","comments":1,"layout":"post","photos":[],"link":"","content":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> <code>Hexo</code> + <code>github pages</code>  <code>travis ci</code> </p>\n<p></p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p><code>hexo</code> <a href=\"https://hexo.io/themes/\" target=\"_blank\" rel=\"noopener\"></a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<ul>\n<li> <code>node.js</code></li>\n<li> <code>git</code></li>\n<li> <code>github</code> </li>\n<li> <code>github</code> </li>\n<li> <code>travis ci</code> </li>\n</ul>\n<p></p>\n<h3 id=\"-node-js\"><a href=\"#-node-js\" class=\"headerlink\" title=\" node.js\"></a> node.js</h3><p><code>windows</code> <a href=\"https://nodejs.org/zh-cn/download/\" target=\"_blank\" rel=\"noopener\"></a> <code>installer</code> </p>\n<p><code>mac</code> <a href=\"https://nodejs.org/zh-cn/download/\" target=\"_blank\" rel=\"noopener\"></a> <code>pkg</code>  <code>homebrew</code> </p>\n<pre class=\" language-bash\"><code class=\"language-bash\">brew <span class=\"token function\">install</span> node</code></pre>\n<p>:</p>\n<pre class=\" language-bash\"><code class=\"language-bash\">node -v</code></pre>\n<h3 id=\"-git\"><a href=\"#-git\" class=\"headerlink\" title=\" git\"></a> git</h3><p><code>windows</code> <a href=\"https://gitforwindows.org/\" target=\"_blank\" rel=\"noopener\"></a></p>\n<p><code>mac</code> <a href=\"https://sourceforge.net/projects/git-osx-installer/\" target=\"_blank\" rel=\"noopener\"></a></p>\n<p> <code>homebrew</code> </p>\n<pre class=\" language-bash\"><code class=\"language-bash\">brew <span class=\"token function\">install</span> <span class=\"token function\">git</span></code></pre>\n<p> <code>git</code> </p>\n<pre class=\" language-bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> --version</code></pre>\n<p></p>\n<pre class=\" language-bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> config --global user.name <span class=\"token string\">\"\"</span>\n<span class=\"token function\">git</span> config --global user.email <span class=\"token string\">\"\"</span></code></pre>\n<h3 id=\"github-\"><a href=\"#github-\" class=\"headerlink\" title=\"github \"></a>github </h3><p> <code>github</code> <a href=\"https://github.com/join?source=header-home\" target=\"_blank\" rel=\"noopener\"></a></p>\n<p> <code>github</code> </p>\n<p> <code>SSH Key</code>  <code>github</code>  <code>github</code> </p>\n<p> <code>RSA</code> </p>\n<pre class=\" language-bash\"><code class=\"language-bash\">ssh-keygen -t rsa -b 4096 -C <span class=\"token string\">\"\"</span></code></pre>\n<p></p>\n<p><code>windows</code>  <code>C:////admin//.ssh</code> mac  <code>~/.ssh</code>  <code>id_rsa.pub</code> <a href=\"https://github.com/settings/keys\" target=\"_blank\" rel=\"noopener\"></a> <code>SSHKEY</code> </p>\n<p><img src=\"https://i.loli.net/2020/05/02/k3uVFawNbvL84eB.jpg\" alt=\"hexo-10.jpg\"></p>\n<p><img src=\"https://i.loli.net/2020/05/02/ijrXcU1ZT96QqsP.jpg\" alt=\"hexo-11.jpg\"></p>\n<p> <code>key</code> </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><a href=\"https://github.com/new\" target=\"_blank\" rel=\"noopener\"></a></p>\n<p><img src=\"https://i.loli.net/2020/05/02/zoDx4HQrACMSYbI.png\" alt=\"hexo-5.jpg\"></p>\n<p><code>blog</code><code>my-blog</code><a href=\"https://github.com/MFrank2016/breeze-blog\" target=\"_blank\" rel=\"noopener\"></a></p>\n<p> <code>git</code> </p>\n<p><img src=\"https://i.loli.net/2020/05/02/e36Vp8isyRfYvaw.jpg\" alt=\"hexo-12.jpg\"></p>\n<p></p>\n<h3 id=\"travis-ci-\"><a href=\"#travis-ci-\" class=\"headerlink\" title=\"travis ci \"></a>travis ci </h3><p><code>travis ci</code>  <code>github</code>  <code>github</code> <a href=\"https://travis-ci.org/signin\" target=\"_blank\" rel=\"noopener\"></a></p>\n<p><a href=\"https://travis-ci.org/account/repositories\" target=\"_blank\" rel=\"noopener\"></a></p>\n<p><img src=\"https://i.loli.net/2020/05/02/Th5tdWvNYlXbz3D.jpg\" alt=\"hexo-7.jpg\"></p>\n<p></p>\n<p><img src=\"https://i.loli.net/2020/05/02/vznkDHh9frOMlIX.jpg\" alt=\"hexo-8.jpg\"></p>\n<h2 id=\"-Hexo\"><a href=\"#-Hexo\" class=\"headerlink\" title=\" Hexo\"></a> Hexo</h2><p><code>hexo</code> </p>\n<p><code>hexo</code> </p>\n<pre class=\" language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> -g hexo-cli</code></pre>\n<p><code>hexo</code> </p>\n<p></p>\n<pre class=\" language-bash\"><code class=\"language-bash\">hexo -v</code></pre>\n<h2 id=\"-hexo-\"><a href=\"#-hexo-\" class=\"headerlink\" title=\" hexo \"></a> hexo </h2><p></p>\n<pre class=\" language-bash\"><code class=\"language-bash\">hexo init breeze-blog\n<span class=\"token function\">cd</span> breeze-blog\n<span class=\"token function\">npm</span> <span class=\"token function\">install</span></code></pre>\n<p> <code>breeze-blog</code>  <code>hexo</code> </p>\n<p><code>breeze-blog</code> </p>\n<pre class=\" language-bash\"><code class=\"language-bash\"><span class=\"token keyword\">.</span>\n _config.yml\n package.json\n node_modules\n scaffolds\n <span class=\"token function\">source</span>\n<span class=\"token operator\">|</span>    _drafts\n<span class=\"token operator\">|</span>    _posts\n themes</code></pre>\n<p><code>_config.yml</code> </p>\n<p><code>package.json</code> </p>\n<p><code>node_modules</code>  <code>node</code> </p>\n<p><code>scaffolds</code>  <code>md</code> </p>\n<p><code>source</code>  <code>_posts</code>  _ () / </p>\n<p><code>theme</code> </p>\n<p> <code>breeze-blog</code> </p>\n<pre class=\" language-bash\"><code class=\"language-bash\">hexo server</code></pre>\n<p> <code>4000</code>  <code>-p</code> </p>\n<pre class=\" language-bash\"><code class=\"language-bash\">hexo server -p 8080</code></pre>\n<p> <code>http://localhost:4000</code> </p>\n<p><img src=\"https://i.loli.net/2020/05/02/ntX31VrhMTjFozQ.jpg\" alt=\"hexo-9.jpg\"></p>\n<p></p>\n<h2 id=\"-github-pages\"><a href=\"#-github-pages\" class=\"headerlink\" title=\" github pages\"></a> github pages</h2><p><code>github pages</code>  <del>gayhub</del> <code>github</code>  <code>https://.github.io//</code>  <code>blog</code> <code>https://mfrank2016.github.io/breeze-blog/</code></p>\n<p> <code>github pages</code> <code>github</code>  <del></del> </p>\n<p> <code>github</code>  <code>git</code> </p>\n<blockquote>\n<p> <code>github pages</code> <code>.github.io</code>  master  travis ci  <code>gh-pages</code> <code>Hexo</code>  <code>master</code>  <code>gh-pages</code> </p>\n</blockquote>\n<p> <code>github</code> </p>\n<p> <code>breeze-blog</code>  <code>git</code>  <code>git</code>  <code>gh-pages</code> </p>\n<pre class=\" language-bash\"><code class=\"language-bash\"><span class=\"token function\">cd</span> breeze-blog\n<span class=\"token function\">git</span> init\n<span class=\"token function\">git</span> add <span class=\"token keyword\">.</span>\n<span class=\"token function\">git</span> commit -am<span class=\"token string\">\"init blog\"</span>\n<span class=\"token function\">git</span> remote add origin </code></pre>\n<p> <code>git@github.com:MFrank2016/breeze-blog.git</code> </p>\n<p></p>\n<pre class=\" language-bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> push -u origin master</code></pre>\n<p> -f </p>\n<pre class=\" language-bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> push -f -u origin master</code></pre>\n<p> <code>gh-pages</code></p>\n<pre class=\" language-bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> checkout -b gh-pages\n<span class=\"token function\">git</span> push -u origin gh-pages</code></pre>\n<p></p>\n<p> <code>settings</code>  <code>github pages</code></p>\n<p><img src=\"https://i.loli.net/2020/05/02/bQWKGwMsAVYk5hp.jpg\" alt=\"hexo-13.jpg\"></p>\n<p><img src=\"https://i.loli.net/2020/05/02/HqpxGos7J9mLRkC.jpg\" alt=\"hexo-14.jpg\"></p>\n<p> <code>gh-pages</code>  <code>master</code> </p>\n<p> <code>hexo</code> (<code>_config.yml</code>) <code>root</code>  <code>url</code> </p>\n<pre class=\" language-bash\"><code class=\"language-bash\">url: https://mfrank2016.github.io/\nroot: /breeze-blog/\n\ndeploy:\n  type: <span class=\"token string\">'git'</span>\n  repo: git@github.com:MFrank2016/breeze-blog\n  branch: gh-pages</code></pre>\n<p> <code>repo</code> </p>\n<p> <code>hexo-deployer-git</code></p>\n<pre class=\" language-bash\"><code class=\"language-bash\"><span class=\"token function\">cd</span> breeze-blog\n<span class=\"token function\">npm</span> <span class=\"token function\">install</span> hexo-deployer-git --save</code></pre>\n<p></p>\n<pre class=\" language-bash\"><code class=\"language-bash\">hexo clean <span class=\"token operator\">&amp;&amp;</span> hexo generate\nhexo deploy</code></pre>\n<p> <code>github pages</code> </p>\n<pre class=\" language-bash\"><code class=\"language-bash\">https://.github.io//</code></pre>\n<p></p>\n<pre class=\" language-bash\"><code class=\"language-bash\">hexo clean <span class=\"token operator\">&amp;&amp;</span> hexo g -d</code></pre>\n<p> <code>github</code>  <code>gh-pages</code>  <code>master</code> </p>\n<pre class=\" language-bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> checkout master\n<span class=\"token function\">git</span> add <span class=\"token keyword\">.</span>\n<span class=\"token function\">git</span> commit -am <span class=\"token string\">\"\"</span>\n<span class=\"token function\">git</span> push</code></pre>\n<h2 id=\"-travis-ci-\"><a href=\"#-travis-ci-\" class=\"headerlink\" title=\" travis ci \"></a> travis ci </h2><p> <code>travis ci</code>  <code>github</code>  <code>travis ci</code> </p>\n<p><code>travis ci</code> </p>\n<p><em>_config.yml</em><em>repo</em><code>travis ci</code> </p>\n<pre class=\" language-yml\"><code class=\"language-yml\">deploy:\n  type: 'git'\n#  repo: git@github.com:MFrank2016/breeze-blog\n  branch: gh-pages</code></pre>\n<p> <code>.travis.yml</code>  <code>_config.yml</code> </p>\n<p></p>\n<pre class=\" language-yml\"><code class=\"language-yml\">sudo: false\nlanguage: node_js\nnode_js:\n  - 12\ncache: npm\nbranches:\n  only:\n    - master # build master branch only\nscript:\n  - hexo generate\ndeploy:\n  provider: pages\n  skip-cleanup: true\n  github-token: $GH_TOKEN\n  keep-history: true\n  on:\n    branch: master\n  local-dir: public</code></pre>\n<p></p>\n<p> <code>travis</code> <code>GH_TOKEN</code> </p>\n<p> <code>travis</code>  <code>github</code> <a href=\"https://travis-ci.org/dashboard\" target=\"_blank\" rel=\"noopener\"></a></p>\n<p><img src=\"https://i.loli.net/2020/05/02/Xc2OGJvDNFbhYPs.jpg\" alt=\"hexo-15.jpg\"></p>\n<p><img src=\"https://i.loli.net/2020/05/02/E7QyHTNMdjJWP26.jpg\" alt=\"hexo-16.jpg\"></p>\n<p><img src=\"https://i.loli.net/2020/05/02/qjJkhAgErKL5tUR.jpg\" alt=\"hexo-17.jpg\"></p>\n<p> <code>access token</code>  <code>github token</code><a href=\"https://github.com/settings/tokens\" target=\"_blank\" rel=\"noopener\"></a></p>\n<p><img src=\"https://i.loli.net/2020/05/02/K35fhMCGLJ7xiUw.jpg\" alt=\"hexo-18.jpg\"></p>\n<p><img src=\"https://i.loli.net/2020/05/02/7wNrX19YqGZKLOs.jpg\" alt=\"hexo-19.jpg\"></p>\n<p> <code>generate</code>  <code>access token</code> <code>token</code>  <code>config</code> </p>\n<p> <code>token</code>  <code>travis ci</code> </p>\n<p></p>\n<pre class=\" language-bash\"><code class=\"language-bash\"><span class=\"token function\">cd</span> breeze-blog\n<span class=\"token function\">git</span> checkout master\nhexo new <span class=\"token string\">\"my first blog\"</span>\n<span class=\"token function\">git</span> add <span class=\"token keyword\">.</span>\n<span class=\"token function\">git</span> commit -am<span class=\"token string\">\"add a new blog\"</span>\n<span class=\"token function\">git</span> push</code></pre>\n<p> <code>travis ci</code> </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p></p>\n<p></p>\n<script>\n        document.querySelectorAll('.github-emoji')\n          .forEach(el => {\n            if (!el.dataset.src) { return; }\n            const img = document.createElement('img');\n            img.style = 'display:none !important;';\n            img.src = el.dataset.src;\n            img.addEventListener('error', () => {\n              img.remove();\n              el.style.color = 'inherit';\n              el.style.backgroundImage = 'none';\n              el.style.background = 'none';\n            });\n            img.addEventListener('load', () => {\n              img.remove();\n            });\n            document.body.appendChild(img);\n          });\n      </script>","site":{"data":{"friends":[{"avatar":"http://43.142.191.46:8080/crmebimage/public/operation/2022/08/19/e4c5aacf44c44157ac8381896a4f33bfiwjztayaan.png","name":"","introduction":"","url":"http://43.142.191.46:9527/","title":""},{"avatar":"http://43.142.191.46:8080/crmebimage/public/operation/2022/08/19/e4c5aacf44c44157ac8381896a4f33bfiwjztayaan.png","name":"RabbitMQ","introduction":"","url":"http://43.142.191.46:15672/","title":""}]}},"excerpt":"","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> <code>Hexo</code> + <code>github pages</code>  <code>travis ci</code> </p>\n<p></p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p><code>hexo</code> <a href=\"https://hexo.io/themes/\" target=\"_blank\" rel=\"noopener\"></a></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<ul>\n<li> <code>node.js</code></li>\n<li> <code>git</code></li>\n<li> <code>github</code> </li>\n<li> <code>github</code> </li>\n<li> <code>travis ci</code> </li>\n</ul>\n<p></p>\n<h3 id=\"-node-js\"><a href=\"#-node-js\" class=\"headerlink\" title=\" node.js\"></a> node.js</h3><p><code>windows</code> <a href=\"https://nodejs.org/zh-cn/download/\" target=\"_blank\" rel=\"noopener\"></a> <code>installer</code> </p>\n<p><code>mac</code> <a href=\"https://nodejs.org/zh-cn/download/\" target=\"_blank\" rel=\"noopener\"></a> <code>pkg</code>  <code>homebrew</code> </p>\n<pre><code class=\"bash\">brew install node</code></pre>\n<p>:</p>\n<pre><code class=\"bash\">node -v</code></pre>\n<h3 id=\"-git\"><a href=\"#-git\" class=\"headerlink\" title=\" git\"></a> git</h3><p><code>windows</code> <a href=\"https://gitforwindows.org/\" target=\"_blank\" rel=\"noopener\"></a></p>\n<p><code>mac</code> <a href=\"https://sourceforge.net/projects/git-osx-installer/\" target=\"_blank\" rel=\"noopener\"></a></p>\n<p> <code>homebrew</code> </p>\n<pre><code class=\"bash\">brew install git</code></pre>\n<p> <code>git</code> </p>\n<pre><code class=\"bash\">git --version</code></pre>\n<p></p>\n<pre><code class=\"bash\">git config --global user.name &quot;&quot;\ngit config --global user.email &quot;&quot;</code></pre>\n<h3 id=\"github-\"><a href=\"#github-\" class=\"headerlink\" title=\"github \"></a>github </h3><p> <code>github</code> <a href=\"https://github.com/join?source=header-home\" target=\"_blank\" rel=\"noopener\"></a></p>\n<p> <code>github</code> </p>\n<p> <code>SSH Key</code>  <code>github</code>  <code>github</code> </p>\n<p> <code>RSA</code> </p>\n<pre><code class=\"bash\">ssh-keygen -t rsa -b 4096 -C &quot;&quot;</code></pre>\n<p></p>\n<p><code>windows</code>  <code>C:////admin//.ssh</code> mac  <code>~/.ssh</code>  <code>id_rsa.pub</code> <a href=\"https://github.com/settings/keys\" target=\"_blank\" rel=\"noopener\"></a> <code>SSHKEY</code> </p>\n<p><img src=\"https://i.loli.net/2020/05/02/k3uVFawNbvL84eB.jpg\" alt=\"hexo-10.jpg\"></p>\n<p><img src=\"https://i.loli.net/2020/05/02/ijrXcU1ZT96QqsP.jpg\" alt=\"hexo-11.jpg\"></p>\n<p> <code>key</code> </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><a href=\"https://github.com/new\" target=\"_blank\" rel=\"noopener\"></a></p>\n<p><img src=\"https://i.loli.net/2020/05/02/zoDx4HQrACMSYbI.png\" alt=\"hexo-5.jpg\"></p>\n<p><code>blog</code><code>my-blog</code><a href=\"https://github.com/MFrank2016/breeze-blog\" target=\"_blank\" rel=\"noopener\"></a></p>\n<p> <code>git</code> </p>\n<p><img src=\"https://i.loli.net/2020/05/02/e36Vp8isyRfYvaw.jpg\" alt=\"hexo-12.jpg\"></p>\n<p></p>\n<h3 id=\"travis-ci-\"><a href=\"#travis-ci-\" class=\"headerlink\" title=\"travis ci \"></a>travis ci </h3><p><code>travis ci</code>  <code>github</code>  <code>github</code> <a href=\"https://travis-ci.org/signin\" target=\"_blank\" rel=\"noopener\"></a></p>\n<p><a href=\"https://travis-ci.org/account/repositories\" target=\"_blank\" rel=\"noopener\"></a></p>\n<p><img src=\"https://i.loli.net/2020/05/02/Th5tdWvNYlXbz3D.jpg\" alt=\"hexo-7.jpg\"></p>\n<p></p>\n<p><img src=\"https://i.loli.net/2020/05/02/vznkDHh9frOMlIX.jpg\" alt=\"hexo-8.jpg\"></p>\n<h2 id=\"-Hexo\"><a href=\"#-Hexo\" class=\"headerlink\" title=\" Hexo\"></a> Hexo</h2><p><code>hexo</code> </p>\n<p><code>hexo</code> </p>\n<pre><code class=\"bash\">npm install -g hexo-cli</code></pre>\n<p><code>hexo</code> </p>\n<p></p>\n<pre><code class=\"bash\">hexo -v</code></pre>\n<h2 id=\"-hexo-\"><a href=\"#-hexo-\" class=\"headerlink\" title=\" hexo \"></a> hexo </h2><p></p>\n<pre><code class=\"bash\">hexo init breeze-blog\ncd breeze-blog\nnpm install</code></pre>\n<p> <code>breeze-blog</code>  <code>hexo</code> </p>\n<p><code>breeze-blog</code> </p>\n<pre><code class=\"bash\">.\n _config.yml\n package.json\n node_modules\n scaffolds\n source\n|    _drafts\n|    _posts\n themes</code></pre>\n<p><code>_config.yml</code> </p>\n<p><code>package.json</code> </p>\n<p><code>node_modules</code>  <code>node</code> </p>\n<p><code>scaffolds</code>  <code>md</code> </p>\n<p><code>source</code>  <code>_posts</code>  _ () / </p>\n<p><code>theme</code> </p>\n<p> <code>breeze-blog</code> </p>\n<pre><code class=\"bash\">hexo server</code></pre>\n<p> <code>4000</code>  <code>-p</code> </p>\n<pre><code class=\"bash\">hexo server -p 8080</code></pre>\n<p> <code>http://localhost:4000</code> </p>\n<p><img src=\"https://i.loli.net/2020/05/02/ntX31VrhMTjFozQ.jpg\" alt=\"hexo-9.jpg\"></p>\n<p></p>\n<h2 id=\"-github-pages\"><a href=\"#-github-pages\" class=\"headerlink\" title=\" github pages\"></a> github pages</h2><p><code>github pages</code>  <del>gayhub</del> <code>github</code>  <code>https://.github.io//</code>  <code>blog</code> <code>https://mfrank2016.github.io/breeze-blog/</code></p>\n<p> <code>github pages</code> <code>github</code>  <del></del> </p>\n<p> <code>github</code>  <code>git</code> </p>\n<blockquote>\n<p> <code>github pages</code> <code>.github.io</code>  master  travis ci  <code>gh-pages</code> <code>Hexo</code>  <code>master</code>  <code>gh-pages</code> </p>\n</blockquote>\n<p> <code>github</code> </p>\n<p> <code>breeze-blog</code>  <code>git</code>  <code>git</code>  <code>gh-pages</code> </p>\n<pre><code class=\"bash\">cd breeze-blog\ngit init\ngit add .\ngit commit -am&quot;init blog&quot;\ngit remote add origin </code></pre>\n<p> <code>git@github.com:MFrank2016/breeze-blog.git</code> </p>\n<p></p>\n<pre><code class=\"bash\">git push -u origin master</code></pre>\n<p> -f </p>\n<pre><code class=\"bash\">git push -f -u origin master</code></pre>\n<p> <code>gh-pages</code></p>\n<pre><code class=\"bash\">git checkout -b gh-pages\ngit push -u origin gh-pages</code></pre>\n<p></p>\n<p> <code>settings</code>  <code>github pages</code></p>\n<p><img src=\"https://i.loli.net/2020/05/02/bQWKGwMsAVYk5hp.jpg\" alt=\"hexo-13.jpg\"></p>\n<p><img src=\"https://i.loli.net/2020/05/02/HqpxGos7J9mLRkC.jpg\" alt=\"hexo-14.jpg\"></p>\n<p> <code>gh-pages</code>  <code>master</code> </p>\n<p> <code>hexo</code> (<code>_config.yml</code>) <code>root</code>  <code>url</code> </p>\n<pre><code class=\"bash\">url: https://mfrank2016.github.io/\nroot: /breeze-blog/\n\ndeploy:\n  type: &#39;git&#39;\n  repo: git@github.com:MFrank2016/breeze-blog\n  branch: gh-pages</code></pre>\n<p> <code>repo</code> </p>\n<p> <code>hexo-deployer-git</code></p>\n<pre><code class=\"bash\">cd breeze-blog\nnpm install hexo-deployer-git --save</code></pre>\n<p></p>\n<pre><code class=\"bash\">hexo clean &amp;&amp; hexo generate\nhexo deploy</code></pre>\n<p> <code>github pages</code> </p>\n<pre><code class=\"bash\">https://.github.io//</code></pre>\n<p></p>\n<pre><code class=\"bash\">hexo clean &amp;&amp; hexo g -d</code></pre>\n<p> <code>github</code>  <code>gh-pages</code>  <code>master</code> </p>\n<pre><code class=\"bash\">git checkout master\ngit add .\ngit commit -am &quot;&quot;\ngit push</code></pre>\n<h2 id=\"-travis-ci-\"><a href=\"#-travis-ci-\" class=\"headerlink\" title=\" travis ci \"></a> travis ci </h2><p> <code>travis ci</code>  <code>github</code>  <code>travis ci</code> </p>\n<p><code>travis ci</code> </p>\n<p><em>_config.yml</em><em>repo</em><code>travis ci</code> </p>\n<pre><code class=\"yml\">deploy:\n  type: &#39;git&#39;\n#  repo: git@github.com:MFrank2016/breeze-blog\n  branch: gh-pages</code></pre>\n<p> <code>.travis.yml</code>  <code>_config.yml</code> </p>\n<p></p>\n<pre><code class=\"yml\">sudo: false\nlanguage: node_js\nnode_js:\n  - 12\ncache: npm\nbranches:\n  only:\n    - master # build master branch only\nscript:\n  - hexo generate\ndeploy:\n  provider: pages\n  skip-cleanup: true\n  github-token: $GH_TOKEN\n  keep-history: true\n  on:\n    branch: master\n  local-dir: public</code></pre>\n<p></p>\n<p> <code>travis</code> <code>GH_TOKEN</code> </p>\n<p> <code>travis</code>  <code>github</code> <a href=\"https://travis-ci.org/dashboard\" target=\"_blank\" rel=\"noopener\"></a></p>\n<p><img src=\"https://i.loli.net/2020/05/02/Xc2OGJvDNFbhYPs.jpg\" alt=\"hexo-15.jpg\"></p>\n<p><img src=\"https://i.loli.net/2020/05/02/E7QyHTNMdjJWP26.jpg\" alt=\"hexo-16.jpg\"></p>\n<p><img src=\"https://i.loli.net/2020/05/02/qjJkhAgErKL5tUR.jpg\" alt=\"hexo-17.jpg\"></p>\n<p> <code>access token</code>  <code>github token</code><a href=\"https://github.com/settings/tokens\" target=\"_blank\" rel=\"noopener\"></a></p>\n<p><img src=\"https://i.loli.net/2020/05/02/K35fhMCGLJ7xiUw.jpg\" alt=\"hexo-18.jpg\"></p>\n<p><img src=\"https://i.loli.net/2020/05/02/7wNrX19YqGZKLOs.jpg\" alt=\"hexo-19.jpg\"></p>\n<p> <code>generate</code>  <code>access token</code> <code>token</code>  <code>config</code> </p>\n<p> <code>token</code>  <code>travis ci</code> </p>\n<p></p>\n<pre><code class=\"bash\">cd breeze-blog\ngit checkout master\nhexo new &quot;my first blog&quot;\ngit add .\ngit commit -am&quot;add a new blog&quot;\ngit push</code></pre>\n<p> <code>travis ci</code> </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p></p>\n<p></p>\n"},{"title":"Go","toc":true,"cover":true,"date":"2020-12-22T14:40:35.000Z","_content":"\ngg`DrawStringAnchored()``DrawStringWrapped()``MeasureMultilineString()``WordWrap()`\n\n## DrawStringAnchored\n\n `DrawString()` \n\n```go\n// DrawString draws the specified text at the specified point.\nfunc (dc *Context) DrawString(s string, x, y float64) {\n\tdc.DrawStringAnchored(s, x, y, 0, 0)\n}\n\n// DrawStringAnchored draws the specified text at the specified anchor point.\n// The anchor point is x - w * ax, y - h * ay, where w, h is the size of the\n// text. Use ax=0.5, ay=0.5 to center the text at the specified point.\nfunc (dc *Context) DrawStringAnchored(s string, x, y, ax, ay float64) {\n\tw, h := dc.MeasureString(s)\n\tx -= ax * w\n\ty += ay * h\n\tif dc.mask == nil {\n\t\tdc.drawString(dc.im, s, x, y)\n\t} else {\n\t\tim := image.NewRGBA(image.Rect(0, 0, dc.width, dc.height))\n\t\tdc.drawString(im, s, x, y)\n\t\tdraw.DrawMask(dc.im, dc.im.Bounds(), im, image.ZP, dc.mask, image.ZP, draw.Over)\n\t}\n}\n```\n\n`DrawStringAnchored()` 5`(x - w * ax, y - h * ay)``ax``ay``0``0.5``1`\n\n\n\n```go\nfunc TestDrawStringAnchored(t *testing.T){\n\tconst S = 1024\n\tdc := gg.NewContext(S, S)\n\tdc.SetRGB(1, 1, 1)\n\tdc.Clear()\n\tdc.SetRGB(0, 0, 0)\n\tif err := dc.LoadFontFace(\"gilmer-heavy.ttf\", 96); err != nil {\n\t\tpanic(err)\n\t}\n\tdc.DrawStringAnchored(\"Hello, world!\", 0, dc.FontHeight(), 0, 0)\n\tdc.DrawStringAnchored(\"Hello, world!\", S/2, S/2, 0.5, 0.5)\n\tdc.DrawStringAnchored(\"Hello, world!\", S, S-dc.FontHeight(), 1, 1)\n\tdc.SavePNG(\"out.png\")\n}\n```\n\n![](1.png)\n\n `(0, dc.FontHeight())`  `(S/2, S/2)` `(S, S-dc.FontHeight())` \n\n## DrawStringWrapped\n\n\n\n\n\n```go\nfunc TestDrawStringWrapped(t *testing.T){\n\tconst S = 1024\n\tdc := gg.NewContext(S, S)\n\tdc.SetRGB(1, 1, 1)\n\tdc.Clear()\n\tdc.SetRGB(0, 0, 0)\n\tif err := dc.LoadFontFace(\"gilmer-heavy.ttf\", 96); err != nil {\n\t\tpanic(err)\n\t}\n\tdc.DrawStringWrapped(\"Hello world! Hello Frank! Hello Alice!\", S/2, S/2, 0.5, 0.5, S, 1, gg.AlignCenter)\n\tdc.SavePNG(\"out.png\")\n}\n```\n\n\n\n![](2.png)\n\n\n\n8\n\n1`Hello world! Hello Frank! Hello Alice!`67\n\n258\n\n```go\n// DrawStringWrapped word-wraps the specified string to the given max width\n// and then draws it at the specified anchor point using the given line\n// spacing and text alignment.\nfunc (dc *Context) DrawStringWrapped(s string, x, y, ax, ay, width, lineSpacing float64, align Align) {\n\tlines := dc.WordWrap(s, width)\n\n\t// sync h formula with MeasureMultilineString\n\th := float64(len(lines)) * dc.fontHeight * lineSpacing\n\th -= (lineSpacing - 1) * dc.fontHeight\n\n\tx -= ax * width\n\ty -= ay * h\n\tswitch align {\n\tcase AlignLeft:\n\t\tax = 0\n\tcase AlignCenter:\n\t\tax = 0.5\n\t\tx += width / 2\n\tcase AlignRight:\n\t\tax = 1\n\t\tx += width\n\t}\n\tay = 1\n\tfor _, line := range lines {\n\t\tdc.DrawStringAnchored(line, x, y, ax, ay)\n\t\ty += dc.fontHeight * lineSpacing\n\t}\n}\n```\n\n `WordWrap()` \n\n```go\nlines := dc.WordWrap(s, width)\n```\n\n `lineSpacing`  `lineSpacing` 101.10.1\n\n```go\nh := float64(len(lines)) * dc.fontHeight * lineSpacing\nh -= (lineSpacing - 1) * dc.fontHeight\n```\n\n\n\n```go\nx -= ax * width\ny -= ay * h\nswitch align {\ncase AlignLeft:\n    ax = 0\ncase AlignCenter:\n    ax = 0.5\n    x += width / 2\ncase AlignRight:\n    ax = 1\n    x += width\n}\nay = 1\nfor _, line := range lines {\n    dc.DrawStringAnchored(line, x, y, ax, ay)\n    y += dc.fontHeight * lineSpacing\n}\n```\n\n `DrawStringAnchored()`  `ay = 1``ax`\n\n```go\nswitch align {\ncase AlignLeft:\n    ax = 0\ncase AlignCenter:\n    ax = 0.5\n    x += width / 2\ncase AlignRight:\n    ax = 1\n    x += width\n}\n```\n\n`ax`  `AlignLeft``AlignCenter``AlignRight``ax`  `ay` `(0,1)``(0.5,1)``(1,1)`\n\n `y` \n\n```go\ny -= ay * h\n```\n\n`y`  `y`  `ay` (y) `(x,y)``0``0.5``1``y` \n\n```go\ny += dc.fontHeight * lineSpacing\n```\n\n `x` `ax`  `0``0.5``1` \n\n```go\nx -= ax * width\n```\n\nx\n\n```go\nswitch align {\ncase AlignLeft:\n    ax = 0\ncase AlignCenter:\n    ax = 0.5\n    x += width / 2\ncase AlignRight:\n    ax = 1\n    x += width\n}\n```\n\n\n\n```go\ndc.DrawStringWrapped(\"HelloWorld!HelloFrank!HelloAlice!\", S/2, S/2, 0.5, 0.5, S, 1, gg.AlignCenter)\n```\n\n![](3.png)\n\n\n\n```go\nif err := dc.LoadFontFace(\"/Users/bytedance/Downloads/font/.ttf\", 96); err != nil {\n    panic(err)\n}\ndc.DrawStringWrapped(\"\", S/2, S/2, 0.5, 0.5, S, 1, gg.AlignCenter)\n```\n\n![](4.png)\n\n\n\n```go\ndc.DrawStringWrapped(\"                \", S/2, S/2, 0.5, 0.5, S, 1, gg.AlignCenter)\n```\n\n![](5.png)\n\n\n\n### MeasureMultilineString\n\n`MeasureMultilineString()` \n\n```go\nfunc (dc *Context) MeasureMultilineString(s string, lineSpacing float64) (width, height float64) {\n\tlines := strings.Split(s, \"\\n\")\n\n\t// sync h formula with DrawStringWrapped\n\theight = float64(len(lines)) * dc.fontHeight * lineSpacing\n\theight -= (lineSpacing - 1) * dc.fontHeight\n\n\td := &font.Drawer{\n\t\tFace: dc.fontFace,\n\t}\n\n\t// max width from lines\n\tfor _, line := range lines {\n\t\tadv := d.MeasureString(line)\n\t\tcurrentWidth := float64(adv >> 6) // from gg.Context.MeasureString\n\t\tif currentWidth > width {\n\t\t\twidth = currentWidth\n\t\t}\n\t}\n\n\treturn width, height\n}\n```\n\n`DrawStringWrapped()`\n\n```go\nh := float64(len(lines)) * dc.fontHeight * lineSpacing\nh -= (lineSpacing - 1) * dc.fontHeight\n```\n\n\n\n### WordWrap\n\n `DrawStringWrapped()` `wordWrap()`\n\n```go\n// WordWrap wraps the specified string to the given max width and current\n// font face.\nfunc (dc *Context) WordWrap(s string, w float64) []string {\n\treturn wordWrap(dc, s, w)\n}\n```\n\n`wordWrap()` \n\n```go\nfunc wordWrap(m measureStringer, s string, width float64) []string {\n\tvar result []string\n\tfor _, line := range strings.Split(s, \"\\n\") {\n\t\tfields := splitOnSpace(line)\n\t\tif len(fields)%2 == 1 {\n\t\t\tfields = append(fields, \"\")\n\t\t}\n\t\tx := \"\"\n\t\tfor i := 0; i < len(fields); i += 2 {\n\t\t\tw, _ := m.MeasureString(x + fields[i])\n\t\t\tif w > width {\n\t\t\t\tif x == \"\" {\n\t\t\t\t\tresult = append(result, fields[i])\n\t\t\t\t\tx = \"\"\n\t\t\t\t\tcontinue\n\t\t\t\t} else {\n\t\t\t\t\tresult = append(result, x)\n\t\t\t\t\tx = \"\"\n\t\t\t\t}\n\t\t\t}\n\t\t\tx += fields[i] + fields[i+1]\n\t\t}\n\t\tif x != \"\" {\n\t\t\tresult = append(result, x)\n\t\t}\n\t}\n\tfor i, line := range result {\n\t\tresult[i] = strings.TrimSpace(line)\n\t}\n\treturn result\n}\n```\n\n## \n\n### otf \n\n `LoadFontFace()`  `ttf`  `true type font` `otf`  `open type font`  `otf` \n\n```go\nfunc getOpenTypeFontFace(fontFilePath string, fontSize, dpi float64)(*font.Face, error){\n\tfontData, fontFileReadErr := ioutil.ReadFile(fontFilePath)\n\tif fontFileReadErr != nil {\n\t\treturn nil, fontFileReadErr\n\t}\n\totfFont, parseErr := opentype.Parse(fontData)\n\tif parseErr != nil {\n\t\treturn nil, parseErr\n\t}\n\totfFace, newFaceErr := opentype.NewFace(otfFont, &opentype.FaceOptions{\n\t\tSize: fontSize,\n\t\tDPI:  dpi,\n\t})\n\tif newFaceErr != nil {\n\t\treturn nil, newFaceErr\n\t}\n\treturn &otfFace, nil\n}\n```\n\n\n\n```go\nfunc TestUseOtfFile(t *testing.T){\n\tfilePath := \"SourceHanSansCN-Bold-2.otf\"\n\tfontFace, err := getOpenTypeFontFace(filePath, 100, 82)\n\tif err != nil {\n\t\tpanic(err)\n\t}\n\n\tconst S = 1024\n\tdc := gg.NewContext(S, S)\n\tdc.SetRGB(0, 1, 1)\n\tdc.Clear()\n\tdc.SetRGB(0, 0, 0)\n\tdc.SetFontFace(*fontFace)\n\tdc.DrawStringWrapped(\"   \", S/2, S/2, 0.5, 0.5, S, 1, gg.AlignCenter)\n\tdc.SavePNG(\"out.png\")\n}\n```\n\n![](6.png)\n\n### \n\n`SetFontFace`  `LoadFontFace`  `fontHeight` \n\n```go\nfunc (dc *Context) SetFontFace(fontFace font.Face) {\n\tdc.fontFace = fontFace\n\tdc.fontHeight = float64(fontFace.Metrics().Height) / 64\n}\n\nfunc (dc *Context) LoadFontFace(path string, points float64) error {\n\tface, err := LoadFontFace(path, points)\n\tif err == nil {\n\t\tdc.fontFace = face\n\t\tdc.fontHeight = points * 72 / 96\n\t}\n\treturn err\n}\n```\n\n\n\n```go\nfunc TestUseOtfFile(t *testing.T){\n\tfilePath := \"/Users/bytedance/Downloads/font/.ttf\"\n\tfontFace1, err := getOpenTypeFontFace(filePath, 100, 82)\n\tif err != nil {\n\t\tpanic(err)\n\t}\n\n\tconst S = 1024\n\tdc := gg.NewContext(S, S)\n\tdc.SetRGB(0, 1, 1)\n\tdc.Clear()\n\tdc.SetRGB(0, 0, 0)\n\tdc.SetFontFace(*fontFace1)\n\tdc.DrawStringWrapped(\"\", S/2, S/2, 0.5, 0.5, S, 1, gg.AlignCenter)\n\tif err := dc.LoadFontFace(\"/Users/bytedance/Downloads/font/.ttf\", 100); err != nil {\n\t\tpanic(err)\n\t}\n\tdc.DrawStringWrapped(\"\", S/2, S/2 + 100, 0.5, 0.5, S, 1, gg.AlignCenter)\n\tdc.SavePNG(\"out.png\")\n}\n```\n\n![](7.png)\n\n\n\n## \n\ngg\n\n","source":"_posts/picture/go-draw-word-in-pic2.md","raw":"---\ntitle: Go\ntags:\n  - go\ncategories:\n  - \ntoc: true\ncover: true\ndate: 2020-12-22 22:40:35\n---\n\ngg`DrawStringAnchored()``DrawStringWrapped()``MeasureMultilineString()``WordWrap()`\n\n## DrawStringAnchored\n\n `DrawString()` \n\n```go\n// DrawString draws the specified text at the specified point.\nfunc (dc *Context) DrawString(s string, x, y float64) {\n\tdc.DrawStringAnchored(s, x, y, 0, 0)\n}\n\n// DrawStringAnchored draws the specified text at the specified anchor point.\n// The anchor point is x - w * ax, y - h * ay, where w, h is the size of the\n// text. Use ax=0.5, ay=0.5 to center the text at the specified point.\nfunc (dc *Context) DrawStringAnchored(s string, x, y, ax, ay float64) {\n\tw, h := dc.MeasureString(s)\n\tx -= ax * w\n\ty += ay * h\n\tif dc.mask == nil {\n\t\tdc.drawString(dc.im, s, x, y)\n\t} else {\n\t\tim := image.NewRGBA(image.Rect(0, 0, dc.width, dc.height))\n\t\tdc.drawString(im, s, x, y)\n\t\tdraw.DrawMask(dc.im, dc.im.Bounds(), im, image.ZP, dc.mask, image.ZP, draw.Over)\n\t}\n}\n```\n\n`DrawStringAnchored()` 5`(x - w * ax, y - h * ay)``ax``ay``0``0.5``1`\n\n\n\n```go\nfunc TestDrawStringAnchored(t *testing.T){\n\tconst S = 1024\n\tdc := gg.NewContext(S, S)\n\tdc.SetRGB(1, 1, 1)\n\tdc.Clear()\n\tdc.SetRGB(0, 0, 0)\n\tif err := dc.LoadFontFace(\"gilmer-heavy.ttf\", 96); err != nil {\n\t\tpanic(err)\n\t}\n\tdc.DrawStringAnchored(\"Hello, world!\", 0, dc.FontHeight(), 0, 0)\n\tdc.DrawStringAnchored(\"Hello, world!\", S/2, S/2, 0.5, 0.5)\n\tdc.DrawStringAnchored(\"Hello, world!\", S, S-dc.FontHeight(), 1, 1)\n\tdc.SavePNG(\"out.png\")\n}\n```\n\n![](1.png)\n\n `(0, dc.FontHeight())`  `(S/2, S/2)` `(S, S-dc.FontHeight())` \n\n## DrawStringWrapped\n\n\n\n\n\n```go\nfunc TestDrawStringWrapped(t *testing.T){\n\tconst S = 1024\n\tdc := gg.NewContext(S, S)\n\tdc.SetRGB(1, 1, 1)\n\tdc.Clear()\n\tdc.SetRGB(0, 0, 0)\n\tif err := dc.LoadFontFace(\"gilmer-heavy.ttf\", 96); err != nil {\n\t\tpanic(err)\n\t}\n\tdc.DrawStringWrapped(\"Hello world! Hello Frank! Hello Alice!\", S/2, S/2, 0.5, 0.5, S, 1, gg.AlignCenter)\n\tdc.SavePNG(\"out.png\")\n}\n```\n\n\n\n![](2.png)\n\n\n\n8\n\n1`Hello world! Hello Frank! Hello Alice!`67\n\n258\n\n```go\n// DrawStringWrapped word-wraps the specified string to the given max width\n// and then draws it at the specified anchor point using the given line\n// spacing and text alignment.\nfunc (dc *Context) DrawStringWrapped(s string, x, y, ax, ay, width, lineSpacing float64, align Align) {\n\tlines := dc.WordWrap(s, width)\n\n\t// sync h formula with MeasureMultilineString\n\th := float64(len(lines)) * dc.fontHeight * lineSpacing\n\th -= (lineSpacing - 1) * dc.fontHeight\n\n\tx -= ax * width\n\ty -= ay * h\n\tswitch align {\n\tcase AlignLeft:\n\t\tax = 0\n\tcase AlignCenter:\n\t\tax = 0.5\n\t\tx += width / 2\n\tcase AlignRight:\n\t\tax = 1\n\t\tx += width\n\t}\n\tay = 1\n\tfor _, line := range lines {\n\t\tdc.DrawStringAnchored(line, x, y, ax, ay)\n\t\ty += dc.fontHeight * lineSpacing\n\t}\n}\n```\n\n `WordWrap()` \n\n```go\nlines := dc.WordWrap(s, width)\n```\n\n `lineSpacing`  `lineSpacing` 101.10.1\n\n```go\nh := float64(len(lines)) * dc.fontHeight * lineSpacing\nh -= (lineSpacing - 1) * dc.fontHeight\n```\n\n\n\n```go\nx -= ax * width\ny -= ay * h\nswitch align {\ncase AlignLeft:\n    ax = 0\ncase AlignCenter:\n    ax = 0.5\n    x += width / 2\ncase AlignRight:\n    ax = 1\n    x += width\n}\nay = 1\nfor _, line := range lines {\n    dc.DrawStringAnchored(line, x, y, ax, ay)\n    y += dc.fontHeight * lineSpacing\n}\n```\n\n `DrawStringAnchored()`  `ay = 1``ax`\n\n```go\nswitch align {\ncase AlignLeft:\n    ax = 0\ncase AlignCenter:\n    ax = 0.5\n    x += width / 2\ncase AlignRight:\n    ax = 1\n    x += width\n}\n```\n\n`ax`  `AlignLeft``AlignCenter``AlignRight``ax`  `ay` `(0,1)``(0.5,1)``(1,1)`\n\n `y` \n\n```go\ny -= ay * h\n```\n\n`y`  `y`  `ay` (y) `(x,y)``0``0.5``1``y` \n\n```go\ny += dc.fontHeight * lineSpacing\n```\n\n `x` `ax`  `0``0.5``1` \n\n```go\nx -= ax * width\n```\n\nx\n\n```go\nswitch align {\ncase AlignLeft:\n    ax = 0\ncase AlignCenter:\n    ax = 0.5\n    x += width / 2\ncase AlignRight:\n    ax = 1\n    x += width\n}\n```\n\n\n\n```go\ndc.DrawStringWrapped(\"HelloWorld!HelloFrank!HelloAlice!\", S/2, S/2, 0.5, 0.5, S, 1, gg.AlignCenter)\n```\n\n![](3.png)\n\n\n\n```go\nif err := dc.LoadFontFace(\"/Users/bytedance/Downloads/font/.ttf\", 96); err != nil {\n    panic(err)\n}\ndc.DrawStringWrapped(\"\", S/2, S/2, 0.5, 0.5, S, 1, gg.AlignCenter)\n```\n\n![](4.png)\n\n\n\n```go\ndc.DrawStringWrapped(\"                \", S/2, S/2, 0.5, 0.5, S, 1, gg.AlignCenter)\n```\n\n![](5.png)\n\n\n\n### MeasureMultilineString\n\n`MeasureMultilineString()` \n\n```go\nfunc (dc *Context) MeasureMultilineString(s string, lineSpacing float64) (width, height float64) {\n\tlines := strings.Split(s, \"\\n\")\n\n\t// sync h formula with DrawStringWrapped\n\theight = float64(len(lines)) * dc.fontHeight * lineSpacing\n\theight -= (lineSpacing - 1) * dc.fontHeight\n\n\td := &font.Drawer{\n\t\tFace: dc.fontFace,\n\t}\n\n\t// max width from lines\n\tfor _, line := range lines {\n\t\tadv := d.MeasureString(line)\n\t\tcurrentWidth := float64(adv >> 6) // from gg.Context.MeasureString\n\t\tif currentWidth > width {\n\t\t\twidth = currentWidth\n\t\t}\n\t}\n\n\treturn width, height\n}\n```\n\n`DrawStringWrapped()`\n\n```go\nh := float64(len(lines)) * dc.fontHeight * lineSpacing\nh -= (lineSpacing - 1) * dc.fontHeight\n```\n\n\n\n### WordWrap\n\n `DrawStringWrapped()` `wordWrap()`\n\n```go\n// WordWrap wraps the specified string to the given max width and current\n// font face.\nfunc (dc *Context) WordWrap(s string, w float64) []string {\n\treturn wordWrap(dc, s, w)\n}\n```\n\n`wordWrap()` \n\n```go\nfunc wordWrap(m measureStringer, s string, width float64) []string {\n\tvar result []string\n\tfor _, line := range strings.Split(s, \"\\n\") {\n\t\tfields := splitOnSpace(line)\n\t\tif len(fields)%2 == 1 {\n\t\t\tfields = append(fields, \"\")\n\t\t}\n\t\tx := \"\"\n\t\tfor i := 0; i < len(fields); i += 2 {\n\t\t\tw, _ := m.MeasureString(x + fields[i])\n\t\t\tif w > width {\n\t\t\t\tif x == \"\" {\n\t\t\t\t\tresult = append(result, fields[i])\n\t\t\t\t\tx = \"\"\n\t\t\t\t\tcontinue\n\t\t\t\t} else {\n\t\t\t\t\tresult = append(result, x)\n\t\t\t\t\tx = \"\"\n\t\t\t\t}\n\t\t\t}\n\t\t\tx += fields[i] + fields[i+1]\n\t\t}\n\t\tif x != \"\" {\n\t\t\tresult = append(result, x)\n\t\t}\n\t}\n\tfor i, line := range result {\n\t\tresult[i] = strings.TrimSpace(line)\n\t}\n\treturn result\n}\n```\n\n## \n\n### otf \n\n `LoadFontFace()`  `ttf`  `true type font` `otf`  `open type font`  `otf` \n\n```go\nfunc getOpenTypeFontFace(fontFilePath string, fontSize, dpi float64)(*font.Face, error){\n\tfontData, fontFileReadErr := ioutil.ReadFile(fontFilePath)\n\tif fontFileReadErr != nil {\n\t\treturn nil, fontFileReadErr\n\t}\n\totfFont, parseErr := opentype.Parse(fontData)\n\tif parseErr != nil {\n\t\treturn nil, parseErr\n\t}\n\totfFace, newFaceErr := opentype.NewFace(otfFont, &opentype.FaceOptions{\n\t\tSize: fontSize,\n\t\tDPI:  dpi,\n\t})\n\tif newFaceErr != nil {\n\t\treturn nil, newFaceErr\n\t}\n\treturn &otfFace, nil\n}\n```\n\n\n\n```go\nfunc TestUseOtfFile(t *testing.T){\n\tfilePath := \"SourceHanSansCN-Bold-2.otf\"\n\tfontFace, err := getOpenTypeFontFace(filePath, 100, 82)\n\tif err != nil {\n\t\tpanic(err)\n\t}\n\n\tconst S = 1024\n\tdc := gg.NewContext(S, S)\n\tdc.SetRGB(0, 1, 1)\n\tdc.Clear()\n\tdc.SetRGB(0, 0, 0)\n\tdc.SetFontFace(*fontFace)\n\tdc.DrawStringWrapped(\"   \", S/2, S/2, 0.5, 0.5, S, 1, gg.AlignCenter)\n\tdc.SavePNG(\"out.png\")\n}\n```\n\n![](6.png)\n\n### \n\n`SetFontFace`  `LoadFontFace`  `fontHeight` \n\n```go\nfunc (dc *Context) SetFontFace(fontFace font.Face) {\n\tdc.fontFace = fontFace\n\tdc.fontHeight = float64(fontFace.Metrics().Height) / 64\n}\n\nfunc (dc *Context) LoadFontFace(path string, points float64) error {\n\tface, err := LoadFontFace(path, points)\n\tif err == nil {\n\t\tdc.fontFace = face\n\t\tdc.fontHeight = points * 72 / 96\n\t}\n\treturn err\n}\n```\n\n\n\n```go\nfunc TestUseOtfFile(t *testing.T){\n\tfilePath := \"/Users/bytedance/Downloads/font/.ttf\"\n\tfontFace1, err := getOpenTypeFontFace(filePath, 100, 82)\n\tif err != nil {\n\t\tpanic(err)\n\t}\n\n\tconst S = 1024\n\tdc := gg.NewContext(S, S)\n\tdc.SetRGB(0, 1, 1)\n\tdc.Clear()\n\tdc.SetRGB(0, 0, 0)\n\tdc.SetFontFace(*fontFace1)\n\tdc.DrawStringWrapped(\"\", S/2, S/2, 0.5, 0.5, S, 1, gg.AlignCenter)\n\tif err := dc.LoadFontFace(\"/Users/bytedance/Downloads/font/.ttf\", 100); err != nil {\n\t\tpanic(err)\n\t}\n\tdc.DrawStringWrapped(\"\", S/2, S/2 + 100, 0.5, 0.5, S, 1, gg.AlignCenter)\n\tdc.SavePNG(\"out.png\")\n}\n```\n\n![](7.png)\n\n\n\n## \n\ngg\n\n","slug":"picture/go-draw-word-in-pic2","published":1,"updated":"2020-12-22T14:40:35.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cl70rsfbd000m5ohu334rbmha","content":"<p>gg<code>DrawStringAnchored()</code><code>DrawStringWrapped()</code><code>MeasureMultilineString()</code><code>WordWrap()</code></p>\n<h2 id=\"DrawStringAnchored\"><a href=\"#DrawStringAnchored\" class=\"headerlink\" title=\"DrawStringAnchored\"></a>DrawStringAnchored</h2><p> <code>DrawString()</code> </p>\n<pre class=\" language-go\"><code class=\"language-go\"><span class=\"token comment\" spellcheck=\"true\">// DrawString draws the specified text at the specified point.</span>\n<span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>dc <span class=\"token operator\">*</span>Context<span class=\"token punctuation\">)</span> <span class=\"token function\">DrawString</span><span class=\"token punctuation\">(</span>s <span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> x<span class=\"token punctuation\">,</span> y <span class=\"token builtin\">float64</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">DrawStringAnchored</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">,</span> x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\" spellcheck=\"true\">// DrawStringAnchored draws the specified text at the specified anchor point.</span>\n<span class=\"token comment\" spellcheck=\"true\">// The anchor point is x - w * ax, y - h * ay, where w, h is the size of the</span>\n<span class=\"token comment\" spellcheck=\"true\">// text. Use ax=0.5, ay=0.5 to center the text at the specified point.</span>\n<span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>dc <span class=\"token operator\">*</span>Context<span class=\"token punctuation\">)</span> <span class=\"token function\">DrawStringAnchored</span><span class=\"token punctuation\">(</span>s <span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">,</span> ax<span class=\"token punctuation\">,</span> ay <span class=\"token builtin\">float64</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    w<span class=\"token punctuation\">,</span> h <span class=\"token operator\">:=</span> dc<span class=\"token punctuation\">.</span><span class=\"token function\">MeasureString</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">)</span>\n    x <span class=\"token operator\">-=</span> ax <span class=\"token operator\">*</span> w\n    y <span class=\"token operator\">+=</span> ay <span class=\"token operator\">*</span> h\n    <span class=\"token keyword\">if</span> dc<span class=\"token punctuation\">.</span>mask <span class=\"token operator\">==</span> <span class=\"token boolean\">nil</span> <span class=\"token punctuation\">{</span>\n        dc<span class=\"token punctuation\">.</span><span class=\"token function\">drawString</span><span class=\"token punctuation\">(</span>dc<span class=\"token punctuation\">.</span>im<span class=\"token punctuation\">,</span> s<span class=\"token punctuation\">,</span> x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n        im <span class=\"token operator\">:=</span> image<span class=\"token punctuation\">.</span><span class=\"token function\">NewRGBA</span><span class=\"token punctuation\">(</span>image<span class=\"token punctuation\">.</span><span class=\"token function\">Rect</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> dc<span class=\"token punctuation\">.</span>width<span class=\"token punctuation\">,</span> dc<span class=\"token punctuation\">.</span>height<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        dc<span class=\"token punctuation\">.</span><span class=\"token function\">drawString</span><span class=\"token punctuation\">(</span>im<span class=\"token punctuation\">,</span> s<span class=\"token punctuation\">,</span> x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">)</span>\n        draw<span class=\"token punctuation\">.</span><span class=\"token function\">DrawMask</span><span class=\"token punctuation\">(</span>dc<span class=\"token punctuation\">.</span>im<span class=\"token punctuation\">,</span> dc<span class=\"token punctuation\">.</span>im<span class=\"token punctuation\">.</span><span class=\"token function\">Bounds</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> im<span class=\"token punctuation\">,</span> image<span class=\"token punctuation\">.</span>ZP<span class=\"token punctuation\">,</span> dc<span class=\"token punctuation\">.</span>mask<span class=\"token punctuation\">,</span> image<span class=\"token punctuation\">.</span>ZP<span class=\"token punctuation\">,</span> draw<span class=\"token punctuation\">.</span>Over<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p><code>DrawStringAnchored()</code> 5<code>(x - w * ax, y - h * ay)</code><code>ax</code><code>ay</code><code>0</code><code>0.5</code><code>1</code></p>\n<p></p>\n<pre class=\" language-go\"><code class=\"language-go\"><span class=\"token keyword\">func</span> <span class=\"token function\">TestDrawStringAnchored</span><span class=\"token punctuation\">(</span>t <span class=\"token operator\">*</span>testing<span class=\"token punctuation\">.</span>T<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> S <span class=\"token operator\">=</span> <span class=\"token number\">1024</span>\n    dc <span class=\"token operator\">:=</span> gg<span class=\"token punctuation\">.</span><span class=\"token function\">NewContext</span><span class=\"token punctuation\">(</span>S<span class=\"token punctuation\">,</span> S<span class=\"token punctuation\">)</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">SetRGB</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">Clear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">SetRGB</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">if</span> err <span class=\"token operator\">:=</span> dc<span class=\"token punctuation\">.</span><span class=\"token function\">LoadFontFace</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"gilmer-heavy.ttf\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">96</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> err <span class=\"token operator\">!=</span> <span class=\"token boolean\">nil</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">panic</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">DrawStringAnchored</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Hello, world!\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> dc<span class=\"token punctuation\">.</span><span class=\"token function\">FontHeight</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">DrawStringAnchored</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Hello, world!\"</span><span class=\"token punctuation\">,</span> S<span class=\"token operator\">/</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> S<span class=\"token operator\">/</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.5</span><span class=\"token punctuation\">)</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">DrawStringAnchored</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Hello, world!\"</span><span class=\"token punctuation\">,</span> S<span class=\"token punctuation\">,</span> S<span class=\"token operator\">-</span>dc<span class=\"token punctuation\">.</span><span class=\"token function\">FontHeight</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">SavePNG</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"out.png\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p><img src=\"1.png\" alt=\"\"></p>\n<p> <code>(0, dc.FontHeight())</code>  <code>(S/2, S/2)</code> <code>(S, S-dc.FontHeight())</code> </p>\n<h2 id=\"DrawStringWrapped\"><a href=\"#DrawStringWrapped\" class=\"headerlink\" title=\"DrawStringWrapped\"></a>DrawStringWrapped</h2><p></p>\n<p></p>\n<pre class=\" language-go\"><code class=\"language-go\"><span class=\"token keyword\">func</span> <span class=\"token function\">TestDrawStringWrapped</span><span class=\"token punctuation\">(</span>t <span class=\"token operator\">*</span>testing<span class=\"token punctuation\">.</span>T<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> S <span class=\"token operator\">=</span> <span class=\"token number\">1024</span>\n    dc <span class=\"token operator\">:=</span> gg<span class=\"token punctuation\">.</span><span class=\"token function\">NewContext</span><span class=\"token punctuation\">(</span>S<span class=\"token punctuation\">,</span> S<span class=\"token punctuation\">)</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">SetRGB</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">Clear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">SetRGB</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">if</span> err <span class=\"token operator\">:=</span> dc<span class=\"token punctuation\">.</span><span class=\"token function\">LoadFontFace</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"gilmer-heavy.ttf\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">96</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> err <span class=\"token operator\">!=</span> <span class=\"token boolean\">nil</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">panic</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">DrawStringWrapped</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Hello world! Hello Frank! Hello Alice!\"</span><span class=\"token punctuation\">,</span> S<span class=\"token operator\">/</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> S<span class=\"token operator\">/</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.5</span><span class=\"token punctuation\">,</span> S<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> gg<span class=\"token punctuation\">.</span>AlignCenter<span class=\"token punctuation\">)</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">SavePNG</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"out.png\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p></p>\n<p><img src=\"2.png\" alt=\"\"></p>\n<p></p>\n<p>8</p>\n<p>1<code>Hello world! Hello Frank! Hello Alice!</code>67</p>\n<p>258</p>\n<pre class=\" language-go\"><code class=\"language-go\"><span class=\"token comment\" spellcheck=\"true\">// DrawStringWrapped word-wraps the specified string to the given max width</span>\n<span class=\"token comment\" spellcheck=\"true\">// and then draws it at the specified anchor point using the given line</span>\n<span class=\"token comment\" spellcheck=\"true\">// spacing and text alignment.</span>\n<span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>dc <span class=\"token operator\">*</span>Context<span class=\"token punctuation\">)</span> <span class=\"token function\">DrawStringWrapped</span><span class=\"token punctuation\">(</span>s <span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">,</span> ax<span class=\"token punctuation\">,</span> ay<span class=\"token punctuation\">,</span> width<span class=\"token punctuation\">,</span> lineSpacing <span class=\"token builtin\">float64</span><span class=\"token punctuation\">,</span> align Align<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    lines <span class=\"token operator\">:=</span> dc<span class=\"token punctuation\">.</span><span class=\"token function\">WordWrap</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">,</span> width<span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\" spellcheck=\"true\">// sync h formula with MeasureMultilineString</span>\n    h <span class=\"token operator\">:=</span> <span class=\"token function\">float64</span><span class=\"token punctuation\">(</span><span class=\"token function\">len</span><span class=\"token punctuation\">(</span>lines<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> dc<span class=\"token punctuation\">.</span>fontHeight <span class=\"token operator\">*</span> lineSpacing\n    h <span class=\"token operator\">-=</span> <span class=\"token punctuation\">(</span>lineSpacing <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> dc<span class=\"token punctuation\">.</span>fontHeight\n\n    x <span class=\"token operator\">-=</span> ax <span class=\"token operator\">*</span> width\n    y <span class=\"token operator\">-=</span> ay <span class=\"token operator\">*</span> h\n    <span class=\"token keyword\">switch</span> align <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">case</span> AlignLeft<span class=\"token punctuation\">:</span>\n        ax <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n    <span class=\"token keyword\">case</span> AlignCenter<span class=\"token punctuation\">:</span>\n        ax <span class=\"token operator\">=</span> <span class=\"token number\">0.5</span>\n        x <span class=\"token operator\">+=</span> width <span class=\"token operator\">/</span> <span class=\"token number\">2</span>\n    <span class=\"token keyword\">case</span> AlignRight<span class=\"token punctuation\">:</span>\n        ax <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n        x <span class=\"token operator\">+=</span> width\n    <span class=\"token punctuation\">}</span>\n    ay <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n    <span class=\"token keyword\">for</span> <span class=\"token boolean\">_</span><span class=\"token punctuation\">,</span> line <span class=\"token operator\">:=</span> <span class=\"token keyword\">range</span> lines <span class=\"token punctuation\">{</span>\n        dc<span class=\"token punctuation\">.</span><span class=\"token function\">DrawStringAnchored</span><span class=\"token punctuation\">(</span>line<span class=\"token punctuation\">,</span> x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">,</span> ax<span class=\"token punctuation\">,</span> ay<span class=\"token punctuation\">)</span>\n        y <span class=\"token operator\">+=</span> dc<span class=\"token punctuation\">.</span>fontHeight <span class=\"token operator\">*</span> lineSpacing\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p> <code>WordWrap()</code> </p>\n<pre class=\" language-go\"><code class=\"language-go\">lines <span class=\"token operator\">:=</span> dc<span class=\"token punctuation\">.</span><span class=\"token function\">WordWrap</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">,</span> width<span class=\"token punctuation\">)</span></code></pre>\n<p> <code>lineSpacing</code>  <code>lineSpacing</code> 101.10.1</p>\n<pre class=\" language-go\"><code class=\"language-go\">h <span class=\"token operator\">:=</span> <span class=\"token function\">float64</span><span class=\"token punctuation\">(</span><span class=\"token function\">len</span><span class=\"token punctuation\">(</span>lines<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> dc<span class=\"token punctuation\">.</span>fontHeight <span class=\"token operator\">*</span> lineSpacing\nh <span class=\"token operator\">-=</span> <span class=\"token punctuation\">(</span>lineSpacing <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> dc<span class=\"token punctuation\">.</span>fontHeight</code></pre>\n<p></p>\n<pre class=\" language-go\"><code class=\"language-go\">x <span class=\"token operator\">-=</span> ax <span class=\"token operator\">*</span> width\ny <span class=\"token operator\">-=</span> ay <span class=\"token operator\">*</span> h\n<span class=\"token keyword\">switch</span> align <span class=\"token punctuation\">{</span>\n<span class=\"token keyword\">case</span> AlignLeft<span class=\"token punctuation\">:</span>\n    ax <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n<span class=\"token keyword\">case</span> AlignCenter<span class=\"token punctuation\">:</span>\n    ax <span class=\"token operator\">=</span> <span class=\"token number\">0.5</span>\n    x <span class=\"token operator\">+=</span> width <span class=\"token operator\">/</span> <span class=\"token number\">2</span>\n<span class=\"token keyword\">case</span> AlignRight<span class=\"token punctuation\">:</span>\n    ax <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n    x <span class=\"token operator\">+=</span> width\n<span class=\"token punctuation\">}</span>\nay <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n<span class=\"token keyword\">for</span> <span class=\"token boolean\">_</span><span class=\"token punctuation\">,</span> line <span class=\"token operator\">:=</span> <span class=\"token keyword\">range</span> lines <span class=\"token punctuation\">{</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">DrawStringAnchored</span><span class=\"token punctuation\">(</span>line<span class=\"token punctuation\">,</span> x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">,</span> ax<span class=\"token punctuation\">,</span> ay<span class=\"token punctuation\">)</span>\n    y <span class=\"token operator\">+=</span> dc<span class=\"token punctuation\">.</span>fontHeight <span class=\"token operator\">*</span> lineSpacing\n<span class=\"token punctuation\">}</span></code></pre>\n<p> <code>DrawStringAnchored()</code>  <code>ay = 1</code><code>ax</code></p>\n<pre class=\" language-go\"><code class=\"language-go\"><span class=\"token keyword\">switch</span> align <span class=\"token punctuation\">{</span>\n<span class=\"token keyword\">case</span> AlignLeft<span class=\"token punctuation\">:</span>\n    ax <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n<span class=\"token keyword\">case</span> AlignCenter<span class=\"token punctuation\">:</span>\n    ax <span class=\"token operator\">=</span> <span class=\"token number\">0.5</span>\n    x <span class=\"token operator\">+=</span> width <span class=\"token operator\">/</span> <span class=\"token number\">2</span>\n<span class=\"token keyword\">case</span> AlignRight<span class=\"token punctuation\">:</span>\n    ax <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n    x <span class=\"token operator\">+=</span> width\n<span class=\"token punctuation\">}</span></code></pre>\n<p><code>ax</code>  <code>AlignLeft</code><code>AlignCenter</code><code>AlignRight</code><code>ax</code>  <code>ay</code> <code>(0,1)</code><code>(0.5,1)</code><code>(1,1)</code></p>\n<p> <code>y</code> </p>\n<pre class=\" language-go\"><code class=\"language-go\">y <span class=\"token operator\">-=</span> ay <span class=\"token operator\">*</span> h</code></pre>\n<p><code>y</code>  <code>y</code>  <code>ay</code> (y) <code>(x,y)</code><code>0</code><code>0.5</code><code>1</code><code>y</code> </p>\n<pre class=\" language-go\"><code class=\"language-go\">y <span class=\"token operator\">+=</span> dc<span class=\"token punctuation\">.</span>fontHeight <span class=\"token operator\">*</span> lineSpacing</code></pre>\n<p> <code>x</code> <code>ax</code>  <code>0</code><code>0.5</code><code>1</code> </p>\n<pre class=\" language-go\"><code class=\"language-go\">x <span class=\"token operator\">-=</span> ax <span class=\"token operator\">*</span> width</code></pre>\n<p>x</p>\n<pre class=\" language-go\"><code class=\"language-go\"><span class=\"token keyword\">switch</span> align <span class=\"token punctuation\">{</span>\n<span class=\"token keyword\">case</span> AlignLeft<span class=\"token punctuation\">:</span>\n    ax <span class=\"token operator\">=</span> <span class=\"token number\">0</span>\n<span class=\"token keyword\">case</span> AlignCenter<span class=\"token punctuation\">:</span>\n    ax <span class=\"token operator\">=</span> <span class=\"token number\">0.5</span>\n    x <span class=\"token operator\">+=</span> width <span class=\"token operator\">/</span> <span class=\"token number\">2</span>\n<span class=\"token keyword\">case</span> AlignRight<span class=\"token punctuation\">:</span>\n    ax <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n    x <span class=\"token operator\">+=</span> width\n<span class=\"token punctuation\">}</span></code></pre>\n<p></p>\n<pre class=\" language-go\"><code class=\"language-go\">dc<span class=\"token punctuation\">.</span><span class=\"token function\">DrawStringWrapped</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"HelloWorld!HelloFrank!HelloAlice!\"</span><span class=\"token punctuation\">,</span> S<span class=\"token operator\">/</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> S<span class=\"token operator\">/</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.5</span><span class=\"token punctuation\">,</span> S<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> gg<span class=\"token punctuation\">.</span>AlignCenter<span class=\"token punctuation\">)</span></code></pre>\n<p><img src=\"3.png\" alt=\"\"></p>\n<p></p>\n<pre class=\" language-go\"><code class=\"language-go\"><span class=\"token keyword\">if</span> err <span class=\"token operator\">:=</span> dc<span class=\"token punctuation\">.</span><span class=\"token function\">LoadFontFace</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/Users/bytedance/Downloads/font/.ttf\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">96</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> err <span class=\"token operator\">!=</span> <span class=\"token boolean\">nil</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">panic</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\ndc<span class=\"token punctuation\">.</span><span class=\"token function\">DrawStringWrapped</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span> S<span class=\"token operator\">/</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> S<span class=\"token operator\">/</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.5</span><span class=\"token punctuation\">,</span> S<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> gg<span class=\"token punctuation\">.</span>AlignCenter<span class=\"token punctuation\">)</span></code></pre>\n<p><img src=\"4.png\" alt=\"\"></p>\n<p></p>\n<pre class=\" language-go\"><code class=\"language-go\">dc<span class=\"token punctuation\">.</span><span class=\"token function\">DrawStringWrapped</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"                \"</span><span class=\"token punctuation\">,</span> S<span class=\"token operator\">/</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> S<span class=\"token operator\">/</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.5</span><span class=\"token punctuation\">,</span> S<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> gg<span class=\"token punctuation\">.</span>AlignCenter<span class=\"token punctuation\">)</span></code></pre>\n<p><img src=\"5.png\" alt=\"\"></p>\n<p></p>\n<h3 id=\"MeasureMultilineString\"><a href=\"#MeasureMultilineString\" class=\"headerlink\" title=\"MeasureMultilineString\"></a>MeasureMultilineString</h3><p><code>MeasureMultilineString()</code> </p>\n<pre class=\" language-go\"><code class=\"language-go\"><span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>dc <span class=\"token operator\">*</span>Context<span class=\"token punctuation\">)</span> <span class=\"token function\">MeasureMultilineString</span><span class=\"token punctuation\">(</span>s <span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> lineSpacing <span class=\"token builtin\">float64</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">(</span>width<span class=\"token punctuation\">,</span> height <span class=\"token builtin\">float64</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    lines <span class=\"token operator\">:=</span> strings<span class=\"token punctuation\">.</span><span class=\"token function\">Split</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">,</span> <span class=\"token string\">\"\\n\"</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\" spellcheck=\"true\">// sync h formula with DrawStringWrapped</span>\n    height <span class=\"token operator\">=</span> <span class=\"token function\">float64</span><span class=\"token punctuation\">(</span><span class=\"token function\">len</span><span class=\"token punctuation\">(</span>lines<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> dc<span class=\"token punctuation\">.</span>fontHeight <span class=\"token operator\">*</span> lineSpacing\n    height <span class=\"token operator\">-=</span> <span class=\"token punctuation\">(</span>lineSpacing <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> dc<span class=\"token punctuation\">.</span>fontHeight\n\n    d <span class=\"token operator\">:=</span> <span class=\"token operator\">&amp;</span>font<span class=\"token punctuation\">.</span>Drawer<span class=\"token punctuation\">{</span>\n        Face<span class=\"token punctuation\">:</span> dc<span class=\"token punctuation\">.</span>fontFace<span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\" spellcheck=\"true\">// max width from lines</span>\n    <span class=\"token keyword\">for</span> <span class=\"token boolean\">_</span><span class=\"token punctuation\">,</span> line <span class=\"token operator\">:=</span> <span class=\"token keyword\">range</span> lines <span class=\"token punctuation\">{</span>\n        adv <span class=\"token operator\">:=</span> d<span class=\"token punctuation\">.</span><span class=\"token function\">MeasureString</span><span class=\"token punctuation\">(</span>line<span class=\"token punctuation\">)</span>\n        currentWidth <span class=\"token operator\">:=</span> <span class=\"token function\">float64</span><span class=\"token punctuation\">(</span>adv <span class=\"token operator\">>></span> <span class=\"token number\">6</span><span class=\"token punctuation\">)</span> <span class=\"token comment\" spellcheck=\"true\">// from gg.Context.MeasureString</span>\n        <span class=\"token keyword\">if</span> currentWidth <span class=\"token operator\">></span> width <span class=\"token punctuation\">{</span>\n            width <span class=\"token operator\">=</span> currentWidth\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">return</span> width<span class=\"token punctuation\">,</span> height\n<span class=\"token punctuation\">}</span></code></pre>\n<p><code>DrawStringWrapped()</code></p>\n<pre class=\" language-go\"><code class=\"language-go\">h <span class=\"token operator\">:=</span> <span class=\"token function\">float64</span><span class=\"token punctuation\">(</span><span class=\"token function\">len</span><span class=\"token punctuation\">(</span>lines<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> dc<span class=\"token punctuation\">.</span>fontHeight <span class=\"token operator\">*</span> lineSpacing\nh <span class=\"token operator\">-=</span> <span class=\"token punctuation\">(</span>lineSpacing <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">*</span> dc<span class=\"token punctuation\">.</span>fontHeight</code></pre>\n<p></p>\n<h3 id=\"WordWrap\"><a href=\"#WordWrap\" class=\"headerlink\" title=\"WordWrap\"></a>WordWrap</h3><p> <code>DrawStringWrapped()</code> <code>wordWrap()</code></p>\n<pre class=\" language-go\"><code class=\"language-go\"><span class=\"token comment\" spellcheck=\"true\">// WordWrap wraps the specified string to the given max width and current</span>\n<span class=\"token comment\" spellcheck=\"true\">// font face.</span>\n<span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>dc <span class=\"token operator\">*</span>Context<span class=\"token punctuation\">)</span> <span class=\"token function\">WordWrap</span><span class=\"token punctuation\">(</span>s <span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> w <span class=\"token builtin\">float64</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token builtin\">string</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token function\">wordWrap</span><span class=\"token punctuation\">(</span>dc<span class=\"token punctuation\">,</span> s<span class=\"token punctuation\">,</span> w<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p><code>wordWrap()</code> </p>\n<pre class=\" language-go\"><code class=\"language-go\"><span class=\"token keyword\">func</span> <span class=\"token function\">wordWrap</span><span class=\"token punctuation\">(</span>m measureStringer<span class=\"token punctuation\">,</span> s <span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> width <span class=\"token builtin\">float64</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token builtin\">string</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">var</span> result <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token builtin\">string</span>\n    <span class=\"token keyword\">for</span> <span class=\"token boolean\">_</span><span class=\"token punctuation\">,</span> line <span class=\"token operator\">:=</span> <span class=\"token keyword\">range</span> strings<span class=\"token punctuation\">.</span><span class=\"token function\">Split</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">,</span> <span class=\"token string\">\"\\n\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        fields <span class=\"token operator\">:=</span> <span class=\"token function\">splitOnSpace</span><span class=\"token punctuation\">(</span>line<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">if</span> <span class=\"token function\">len</span><span class=\"token punctuation\">(</span>fields<span class=\"token punctuation\">)</span><span class=\"token operator\">%</span><span class=\"token number\">2</span> <span class=\"token operator\">==</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">{</span>\n            fields <span class=\"token operator\">=</span> <span class=\"token function\">append</span><span class=\"token punctuation\">(</span>fields<span class=\"token punctuation\">,</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span>\n        x <span class=\"token operator\">:=</span> <span class=\"token string\">\"\"</span>\n        <span class=\"token keyword\">for</span> i <span class=\"token operator\">:=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> <span class=\"token function\">len</span><span class=\"token punctuation\">(</span>fields<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">+=</span> <span class=\"token number\">2</span> <span class=\"token punctuation\">{</span>\n            w<span class=\"token punctuation\">,</span> <span class=\"token boolean\">_</span> <span class=\"token operator\">:=</span> m<span class=\"token punctuation\">.</span><span class=\"token function\">MeasureString</span><span class=\"token punctuation\">(</span>x <span class=\"token operator\">+</span> fields<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">if</span> w <span class=\"token operator\">></span> width <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">if</span> x <span class=\"token operator\">==</span> <span class=\"token string\">\"\"</span> <span class=\"token punctuation\">{</span>\n                    result <span class=\"token operator\">=</span> <span class=\"token function\">append</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">,</span> fields<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n                    x <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span>\n                    <span class=\"token keyword\">continue</span>\n                <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n                    result <span class=\"token operator\">=</span> <span class=\"token function\">append</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">,</span> x<span class=\"token punctuation\">)</span>\n                    x <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>\n            x <span class=\"token operator\">+=</span> fields<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">+</span> fields<span class=\"token punctuation\">[</span>i<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">if</span> x <span class=\"token operator\">!=</span> <span class=\"token string\">\"\"</span> <span class=\"token punctuation\">{</span>\n            result <span class=\"token operator\">=</span> <span class=\"token function\">append</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">,</span> x<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">for</span> i<span class=\"token punctuation\">,</span> line <span class=\"token operator\">:=</span> <span class=\"token keyword\">range</span> result <span class=\"token punctuation\">{</span>\n        result<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> strings<span class=\"token punctuation\">.</span><span class=\"token function\">TrimSpace</span><span class=\"token punctuation\">(</span>line<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">return</span> result\n<span class=\"token punctuation\">}</span></code></pre>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"otf-\"><a href=\"#otf-\" class=\"headerlink\" title=\"otf \"></a>otf </h3><p> <code>LoadFontFace()</code>  <code>ttf</code>  <code>true type font</code> <code>otf</code>  <code>open type font</code>  <code>otf</code> </p>\n<pre class=\" language-go\"><code class=\"language-go\"><span class=\"token keyword\">func</span> <span class=\"token function\">getOpenTypeFontFace</span><span class=\"token punctuation\">(</span>fontFilePath <span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> fontSize<span class=\"token punctuation\">,</span> dpi <span class=\"token builtin\">float64</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token operator\">*</span>font<span class=\"token punctuation\">.</span>Face<span class=\"token punctuation\">,</span> <span class=\"token builtin\">error</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    fontData<span class=\"token punctuation\">,</span> fontFileReadErr <span class=\"token operator\">:=</span> ioutil<span class=\"token punctuation\">.</span><span class=\"token function\">ReadFile</span><span class=\"token punctuation\">(</span>fontFilePath<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">if</span> fontFileReadErr <span class=\"token operator\">!=</span> <span class=\"token boolean\">nil</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token boolean\">nil</span><span class=\"token punctuation\">,</span> fontFileReadErr\n    <span class=\"token punctuation\">}</span>\n    otfFont<span class=\"token punctuation\">,</span> parseErr <span class=\"token operator\">:=</span> opentype<span class=\"token punctuation\">.</span><span class=\"token function\">Parse</span><span class=\"token punctuation\">(</span>fontData<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">if</span> parseErr <span class=\"token operator\">!=</span> <span class=\"token boolean\">nil</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token boolean\">nil</span><span class=\"token punctuation\">,</span> parseErr\n    <span class=\"token punctuation\">}</span>\n    otfFace<span class=\"token punctuation\">,</span> newFaceErr <span class=\"token operator\">:=</span> opentype<span class=\"token punctuation\">.</span><span class=\"token function\">NewFace</span><span class=\"token punctuation\">(</span>otfFont<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span>opentype<span class=\"token punctuation\">.</span>FaceOptions<span class=\"token punctuation\">{</span>\n        Size<span class=\"token punctuation\">:</span> fontSize<span class=\"token punctuation\">,</span>\n        DPI<span class=\"token punctuation\">:</span>  dpi<span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">if</span> newFaceErr <span class=\"token operator\">!=</span> <span class=\"token boolean\">nil</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token boolean\">nil</span><span class=\"token punctuation\">,</span> newFaceErr\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">return</span> <span class=\"token operator\">&amp;</span>otfFace<span class=\"token punctuation\">,</span> <span class=\"token boolean\">nil</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p></p>\n<pre class=\" language-go\"><code class=\"language-go\"><span class=\"token keyword\">func</span> <span class=\"token function\">TestUseOtfFile</span><span class=\"token punctuation\">(</span>t <span class=\"token operator\">*</span>testing<span class=\"token punctuation\">.</span>T<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    filePath <span class=\"token operator\">:=</span> <span class=\"token string\">\"SourceHanSansCN-Bold-2.otf\"</span>\n    fontFace<span class=\"token punctuation\">,</span> err <span class=\"token operator\">:=</span> <span class=\"token function\">getOpenTypeFontFace</span><span class=\"token punctuation\">(</span>filePath<span class=\"token punctuation\">,</span> <span class=\"token number\">100</span><span class=\"token punctuation\">,</span> <span class=\"token number\">82</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">if</span> err <span class=\"token operator\">!=</span> <span class=\"token boolean\">nil</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">panic</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">const</span> S <span class=\"token operator\">=</span> <span class=\"token number\">1024</span>\n    dc <span class=\"token operator\">:=</span> gg<span class=\"token punctuation\">.</span><span class=\"token function\">NewContext</span><span class=\"token punctuation\">(</span>S<span class=\"token punctuation\">,</span> S<span class=\"token punctuation\">)</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">SetRGB</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">Clear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">SetRGB</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">SetFontFace</span><span class=\"token punctuation\">(</span><span class=\"token operator\">*</span>fontFace<span class=\"token punctuation\">)</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">DrawStringWrapped</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"   \"</span><span class=\"token punctuation\">,</span> S<span class=\"token operator\">/</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> S<span class=\"token operator\">/</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.5</span><span class=\"token punctuation\">,</span> S<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> gg<span class=\"token punctuation\">.</span>AlignCenter<span class=\"token punctuation\">)</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">SavePNG</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"out.png\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p><img src=\"6.png\" alt=\"\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><code>SetFontFace</code>  <code>LoadFontFace</code>  <code>fontHeight</code> </p>\n<pre class=\" language-go\"><code class=\"language-go\"><span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>dc <span class=\"token operator\">*</span>Context<span class=\"token punctuation\">)</span> <span class=\"token function\">SetFontFace</span><span class=\"token punctuation\">(</span>fontFace font<span class=\"token punctuation\">.</span>Face<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    dc<span class=\"token punctuation\">.</span>fontFace <span class=\"token operator\">=</span> fontFace\n    dc<span class=\"token punctuation\">.</span>fontHeight <span class=\"token operator\">=</span> <span class=\"token function\">float64</span><span class=\"token punctuation\">(</span>fontFace<span class=\"token punctuation\">.</span><span class=\"token function\">Metrics</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>Height<span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token number\">64</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>dc <span class=\"token operator\">*</span>Context<span class=\"token punctuation\">)</span> <span class=\"token function\">LoadFontFace</span><span class=\"token punctuation\">(</span>path <span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> points <span class=\"token builtin\">float64</span><span class=\"token punctuation\">)</span> <span class=\"token builtin\">error</span> <span class=\"token punctuation\">{</span>\n    face<span class=\"token punctuation\">,</span> err <span class=\"token operator\">:=</span> <span class=\"token function\">LoadFontFace</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">,</span> points<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">if</span> err <span class=\"token operator\">==</span> <span class=\"token boolean\">nil</span> <span class=\"token punctuation\">{</span>\n        dc<span class=\"token punctuation\">.</span>fontFace <span class=\"token operator\">=</span> face\n        dc<span class=\"token punctuation\">.</span>fontHeight <span class=\"token operator\">=</span> points <span class=\"token operator\">*</span> <span class=\"token number\">72</span> <span class=\"token operator\">/</span> <span class=\"token number\">96</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">return</span> err\n<span class=\"token punctuation\">}</span></code></pre>\n<p></p>\n<pre class=\" language-go\"><code class=\"language-go\"><span class=\"token keyword\">func</span> <span class=\"token function\">TestUseOtfFile</span><span class=\"token punctuation\">(</span>t <span class=\"token operator\">*</span>testing<span class=\"token punctuation\">.</span>T<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    filePath <span class=\"token operator\">:=</span> <span class=\"token string\">\"/Users/bytedance/Downloads/font/.ttf\"</span>\n    fontFace1<span class=\"token punctuation\">,</span> err <span class=\"token operator\">:=</span> <span class=\"token function\">getOpenTypeFontFace</span><span class=\"token punctuation\">(</span>filePath<span class=\"token punctuation\">,</span> <span class=\"token number\">100</span><span class=\"token punctuation\">,</span> <span class=\"token number\">82</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">if</span> err <span class=\"token operator\">!=</span> <span class=\"token boolean\">nil</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">panic</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">const</span> S <span class=\"token operator\">=</span> <span class=\"token number\">1024</span>\n    dc <span class=\"token operator\">:=</span> gg<span class=\"token punctuation\">.</span><span class=\"token function\">NewContext</span><span class=\"token punctuation\">(</span>S<span class=\"token punctuation\">,</span> S<span class=\"token punctuation\">)</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">SetRGB</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">Clear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">SetRGB</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">SetFontFace</span><span class=\"token punctuation\">(</span><span class=\"token operator\">*</span>fontFace1<span class=\"token punctuation\">)</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">DrawStringWrapped</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span> S<span class=\"token operator\">/</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> S<span class=\"token operator\">/</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.5</span><span class=\"token punctuation\">,</span> S<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> gg<span class=\"token punctuation\">.</span>AlignCenter<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">if</span> err <span class=\"token operator\">:=</span> dc<span class=\"token punctuation\">.</span><span class=\"token function\">LoadFontFace</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/Users/bytedance/Downloads/font/.ttf\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">100</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> err <span class=\"token operator\">!=</span> <span class=\"token boolean\">nil</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">panic</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">DrawStringWrapped</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span> S<span class=\"token operator\">/</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> S<span class=\"token operator\">/</span><span class=\"token number\">2</span> <span class=\"token operator\">+</span> <span class=\"token number\">100</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.5</span><span class=\"token punctuation\">,</span> S<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> gg<span class=\"token punctuation\">.</span>AlignCenter<span class=\"token punctuation\">)</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">SavePNG</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"out.png\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p><img src=\"7.png\" alt=\"\"></p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>gg</p>\n<p></p>\n<script>\n        document.querySelectorAll('.github-emoji')\n          .forEach(el => {\n            if (!el.dataset.src) { return; }\n            const img = document.createElement('img');\n            img.style = 'display:none !important;';\n            img.src = el.dataset.src;\n            img.addEventListener('error', () => {\n              img.remove();\n              el.style.color = 'inherit';\n              el.style.backgroundImage = 'none';\n              el.style.background = 'none';\n            });\n            img.addEventListener('load', () => {\n              img.remove();\n            });\n            document.body.appendChild(img);\n          });\n      </script>","site":{"data":{"friends":[{"avatar":"https://draveness.me/images/draven-logo.png","name":"","introduction":"","url":"https://draveness.me/","title":""}]}},"excerpt":"","more":"<p>gg<code>DrawStringAnchored()</code><code>DrawStringWrapped()</code><code>MeasureMultilineString()</code><code>WordWrap()</code></p>\n<h2 id=\"DrawStringAnchored\"><a href=\"#DrawStringAnchored\" class=\"headerlink\" title=\"DrawStringAnchored\"></a>DrawStringAnchored</h2><p> <code>DrawString()</code> </p>\n<pre><code class=\"go\">// DrawString draws the specified text at the specified point.\nfunc (dc *Context) DrawString(s string, x, y float64) {\n    dc.DrawStringAnchored(s, x, y, 0, 0)\n}\n\n// DrawStringAnchored draws the specified text at the specified anchor point.\n// The anchor point is x - w * ax, y - h * ay, where w, h is the size of the\n// text. Use ax=0.5, ay=0.5 to center the text at the specified point.\nfunc (dc *Context) DrawStringAnchored(s string, x, y, ax, ay float64) {\n    w, h := dc.MeasureString(s)\n    x -= ax * w\n    y += ay * h\n    if dc.mask == nil {\n        dc.drawString(dc.im, s, x, y)\n    } else {\n        im := image.NewRGBA(image.Rect(0, 0, dc.width, dc.height))\n        dc.drawString(im, s, x, y)\n        draw.DrawMask(dc.im, dc.im.Bounds(), im, image.ZP, dc.mask, image.ZP, draw.Over)\n    }\n}</code></pre>\n<p><code>DrawStringAnchored()</code> 5<code>(x - w * ax, y - h * ay)</code><code>ax</code><code>ay</code><code>0</code><code>0.5</code><code>1</code></p>\n<p></p>\n<pre><code class=\"go\">func TestDrawStringAnchored(t *testing.T){\n    const S = 1024\n    dc := gg.NewContext(S, S)\n    dc.SetRGB(1, 1, 1)\n    dc.Clear()\n    dc.SetRGB(0, 0, 0)\n    if err := dc.LoadFontFace(&quot;gilmer-heavy.ttf&quot;, 96); err != nil {\n        panic(err)\n    }\n    dc.DrawStringAnchored(&quot;Hello, world!&quot;, 0, dc.FontHeight(), 0, 0)\n    dc.DrawStringAnchored(&quot;Hello, world!&quot;, S/2, S/2, 0.5, 0.5)\n    dc.DrawStringAnchored(&quot;Hello, world!&quot;, S, S-dc.FontHeight(), 1, 1)\n    dc.SavePNG(&quot;out.png&quot;)\n}</code></pre>\n<p><img src=\"1.png\" alt=\"\"></p>\n<p> <code>(0, dc.FontHeight())</code>  <code>(S/2, S/2)</code> <code>(S, S-dc.FontHeight())</code> </p>\n<h2 id=\"DrawStringWrapped\"><a href=\"#DrawStringWrapped\" class=\"headerlink\" title=\"DrawStringWrapped\"></a>DrawStringWrapped</h2><p></p>\n<p></p>\n<pre><code class=\"go\">func TestDrawStringWrapped(t *testing.T){\n    const S = 1024\n    dc := gg.NewContext(S, S)\n    dc.SetRGB(1, 1, 1)\n    dc.Clear()\n    dc.SetRGB(0, 0, 0)\n    if err := dc.LoadFontFace(&quot;gilmer-heavy.ttf&quot;, 96); err != nil {\n        panic(err)\n    }\n    dc.DrawStringWrapped(&quot;Hello world! Hello Frank! Hello Alice!&quot;, S/2, S/2, 0.5, 0.5, S, 1, gg.AlignCenter)\n    dc.SavePNG(&quot;out.png&quot;)\n}</code></pre>\n<p></p>\n<p><img src=\"2.png\" alt=\"\"></p>\n<p></p>\n<p>8</p>\n<p>1<code>Hello world! Hello Frank! Hello Alice!</code>67</p>\n<p>258</p>\n<pre><code class=\"go\">// DrawStringWrapped word-wraps the specified string to the given max width\n// and then draws it at the specified anchor point using the given line\n// spacing and text alignment.\nfunc (dc *Context) DrawStringWrapped(s string, x, y, ax, ay, width, lineSpacing float64, align Align) {\n    lines := dc.WordWrap(s, width)\n\n    // sync h formula with MeasureMultilineString\n    h := float64(len(lines)) * dc.fontHeight * lineSpacing\n    h -= (lineSpacing - 1) * dc.fontHeight\n\n    x -= ax * width\n    y -= ay * h\n    switch align {\n    case AlignLeft:\n        ax = 0\n    case AlignCenter:\n        ax = 0.5\n        x += width / 2\n    case AlignRight:\n        ax = 1\n        x += width\n    }\n    ay = 1\n    for _, line := range lines {\n        dc.DrawStringAnchored(line, x, y, ax, ay)\n        y += dc.fontHeight * lineSpacing\n    }\n}</code></pre>\n<p> <code>WordWrap()</code> </p>\n<pre><code class=\"go\">lines := dc.WordWrap(s, width)</code></pre>\n<p> <code>lineSpacing</code>  <code>lineSpacing</code> 101.10.1</p>\n<pre><code class=\"go\">h := float64(len(lines)) * dc.fontHeight * lineSpacing\nh -= (lineSpacing - 1) * dc.fontHeight</code></pre>\n<p></p>\n<pre><code class=\"go\">x -= ax * width\ny -= ay * h\nswitch align {\ncase AlignLeft:\n    ax = 0\ncase AlignCenter:\n    ax = 0.5\n    x += width / 2\ncase AlignRight:\n    ax = 1\n    x += width\n}\nay = 1\nfor _, line := range lines {\n    dc.DrawStringAnchored(line, x, y, ax, ay)\n    y += dc.fontHeight * lineSpacing\n}</code></pre>\n<p> <code>DrawStringAnchored()</code>  <code>ay = 1</code><code>ax</code></p>\n<pre><code class=\"go\">switch align {\ncase AlignLeft:\n    ax = 0\ncase AlignCenter:\n    ax = 0.5\n    x += width / 2\ncase AlignRight:\n    ax = 1\n    x += width\n}</code></pre>\n<p><code>ax</code>  <code>AlignLeft</code><code>AlignCenter</code><code>AlignRight</code><code>ax</code>  <code>ay</code> <code>(0,1)</code><code>(0.5,1)</code><code>(1,1)</code></p>\n<p> <code>y</code> </p>\n<pre><code class=\"go\">y -= ay * h</code></pre>\n<p><code>y</code>  <code>y</code>  <code>ay</code> (y) <code>(x,y)</code><code>0</code><code>0.5</code><code>1</code><code>y</code> </p>\n<pre><code class=\"go\">y += dc.fontHeight * lineSpacing</code></pre>\n<p> <code>x</code> <code>ax</code>  <code>0</code><code>0.5</code><code>1</code> </p>\n<pre><code class=\"go\">x -= ax * width</code></pre>\n<p>x</p>\n<pre><code class=\"go\">switch align {\ncase AlignLeft:\n    ax = 0\ncase AlignCenter:\n    ax = 0.5\n    x += width / 2\ncase AlignRight:\n    ax = 1\n    x += width\n}</code></pre>\n<p></p>\n<pre><code class=\"go\">dc.DrawStringWrapped(&quot;HelloWorld!HelloFrank!HelloAlice!&quot;, S/2, S/2, 0.5, 0.5, S, 1, gg.AlignCenter)</code></pre>\n<p><img src=\"3.png\" alt=\"\"></p>\n<p></p>\n<pre><code class=\"go\">if err := dc.LoadFontFace(&quot;/Users/bytedance/Downloads/font/.ttf&quot;, 96); err != nil {\n    panic(err)\n}\ndc.DrawStringWrapped(&quot;&quot;, S/2, S/2, 0.5, 0.5, S, 1, gg.AlignCenter)</code></pre>\n<p><img src=\"4.png\" alt=\"\"></p>\n<p></p>\n<pre><code class=\"go\">dc.DrawStringWrapped(&quot;                &quot;, S/2, S/2, 0.5, 0.5, S, 1, gg.AlignCenter)</code></pre>\n<p><img src=\"5.png\" alt=\"\"></p>\n<p></p>\n<h3 id=\"MeasureMultilineString\"><a href=\"#MeasureMultilineString\" class=\"headerlink\" title=\"MeasureMultilineString\"></a>MeasureMultilineString</h3><p><code>MeasureMultilineString()</code> </p>\n<pre><code class=\"go\">func (dc *Context) MeasureMultilineString(s string, lineSpacing float64) (width, height float64) {\n    lines := strings.Split(s, &quot;\\n&quot;)\n\n    // sync h formula with DrawStringWrapped\n    height = float64(len(lines)) * dc.fontHeight * lineSpacing\n    height -= (lineSpacing - 1) * dc.fontHeight\n\n    d := &amp;font.Drawer{\n        Face: dc.fontFace,\n    }\n\n    // max width from lines\n    for _, line := range lines {\n        adv := d.MeasureString(line)\n        currentWidth := float64(adv &gt;&gt; 6) // from gg.Context.MeasureString\n        if currentWidth &gt; width {\n            width = currentWidth\n        }\n    }\n\n    return width, height\n}</code></pre>\n<p><code>DrawStringWrapped()</code></p>\n<pre><code class=\"go\">h := float64(len(lines)) * dc.fontHeight * lineSpacing\nh -= (lineSpacing - 1) * dc.fontHeight</code></pre>\n<p></p>\n<h3 id=\"WordWrap\"><a href=\"#WordWrap\" class=\"headerlink\" title=\"WordWrap\"></a>WordWrap</h3><p> <code>DrawStringWrapped()</code> <code>wordWrap()</code></p>\n<pre><code class=\"go\">// WordWrap wraps the specified string to the given max width and current\n// font face.\nfunc (dc *Context) WordWrap(s string, w float64) []string {\n    return wordWrap(dc, s, w)\n}</code></pre>\n<p><code>wordWrap()</code> </p>\n<pre><code class=\"go\">func wordWrap(m measureStringer, s string, width float64) []string {\n    var result []string\n    for _, line := range strings.Split(s, &quot;\\n&quot;) {\n        fields := splitOnSpace(line)\n        if len(fields)%2 == 1 {\n            fields = append(fields, &quot;&quot;)\n        }\n        x := &quot;&quot;\n        for i := 0; i &lt; len(fields); i += 2 {\n            w, _ := m.MeasureString(x + fields[i])\n            if w &gt; width {\n                if x == &quot;&quot; {\n                    result = append(result, fields[i])\n                    x = &quot;&quot;\n                    continue\n                } else {\n                    result = append(result, x)\n                    x = &quot;&quot;\n                }\n            }\n            x += fields[i] + fields[i+1]\n        }\n        if x != &quot;&quot; {\n            result = append(result, x)\n        }\n    }\n    for i, line := range result {\n        result[i] = strings.TrimSpace(line)\n    }\n    return result\n}</code></pre>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"otf-\"><a href=\"#otf-\" class=\"headerlink\" title=\"otf \"></a>otf </h3><p> <code>LoadFontFace()</code>  <code>ttf</code>  <code>true type font</code> <code>otf</code>  <code>open type font</code>  <code>otf</code> </p>\n<pre><code class=\"go\">func getOpenTypeFontFace(fontFilePath string, fontSize, dpi float64)(*font.Face, error){\n    fontData, fontFileReadErr := ioutil.ReadFile(fontFilePath)\n    if fontFileReadErr != nil {\n        return nil, fontFileReadErr\n    }\n    otfFont, parseErr := opentype.Parse(fontData)\n    if parseErr != nil {\n        return nil, parseErr\n    }\n    otfFace, newFaceErr := opentype.NewFace(otfFont, &amp;opentype.FaceOptions{\n        Size: fontSize,\n        DPI:  dpi,\n    })\n    if newFaceErr != nil {\n        return nil, newFaceErr\n    }\n    return &amp;otfFace, nil\n}</code></pre>\n<p></p>\n<pre><code class=\"go\">func TestUseOtfFile(t *testing.T){\n    filePath := &quot;SourceHanSansCN-Bold-2.otf&quot;\n    fontFace, err := getOpenTypeFontFace(filePath, 100, 82)\n    if err != nil {\n        panic(err)\n    }\n\n    const S = 1024\n    dc := gg.NewContext(S, S)\n    dc.SetRGB(0, 1, 1)\n    dc.Clear()\n    dc.SetRGB(0, 0, 0)\n    dc.SetFontFace(*fontFace)\n    dc.DrawStringWrapped(&quot;   &quot;, S/2, S/2, 0.5, 0.5, S, 1, gg.AlignCenter)\n    dc.SavePNG(&quot;out.png&quot;)\n}</code></pre>\n<p><img src=\"6.png\" alt=\"\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><code>SetFontFace</code>  <code>LoadFontFace</code>  <code>fontHeight</code> </p>\n<pre><code class=\"go\">func (dc *Context) SetFontFace(fontFace font.Face) {\n    dc.fontFace = fontFace\n    dc.fontHeight = float64(fontFace.Metrics().Height) / 64\n}\n\nfunc (dc *Context) LoadFontFace(path string, points float64) error {\n    face, err := LoadFontFace(path, points)\n    if err == nil {\n        dc.fontFace = face\n        dc.fontHeight = points * 72 / 96\n    }\n    return err\n}</code></pre>\n<p></p>\n<pre><code class=\"go\">func TestUseOtfFile(t *testing.T){\n    filePath := &quot;/Users/bytedance/Downloads/font/.ttf&quot;\n    fontFace1, err := getOpenTypeFontFace(filePath, 100, 82)\n    if err != nil {\n        panic(err)\n    }\n\n    const S = 1024\n    dc := gg.NewContext(S, S)\n    dc.SetRGB(0, 1, 1)\n    dc.Clear()\n    dc.SetRGB(0, 0, 0)\n    dc.SetFontFace(*fontFace1)\n    dc.DrawStringWrapped(&quot;&quot;, S/2, S/2, 0.5, 0.5, S, 1, gg.AlignCenter)\n    if err := dc.LoadFontFace(&quot;/Users/bytedance/Downloads/font/.ttf&quot;, 100); err != nil {\n        panic(err)\n    }\n    dc.DrawStringWrapped(&quot;&quot;, S/2, S/2 + 100, 0.5, 0.5, S, 1, gg.AlignCenter)\n    dc.SavePNG(&quot;out.png&quot;)\n}</code></pre>\n<p><img src=\"7.png\" alt=\"\"></p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>gg</p>\n<p></p>\n"},{"title":"Go","toc":true,"cover":true,"date":"2020-12-20T14:45:35.000Z","_content":"\ngg\n\n## \n\n\n\n```go\npackage main\n\nimport \"github.com/fogleman/gg\"\n\nfunc main() {\n\tconst S = 1024\n\tdc := gg.NewContext(S, S)\n\tdc.SetRGB(0, 1, 1)\n\tdc.Clear()\n\tdc.SavePNG(\"out.png\")\n}\n```\n\n\n\n![](1.png)\n\n\n\n```go\nfunc TestRotateImage(t *testing.T) {\n\twidth := 1000\n\theight := 1000\n\n\tdc := gg.NewContext(width, height)\n\tdc.DrawRectangle(0, 0, float64(width), float64(width))\n\tdc.SetRGB255(255, 255, 0)\n\tdc.Fill()\n\tdc.SavePNG(\"test.png\")\n}\n```\n\n `Clear()` \n\n `Clear()`  `draw.Draw()` go `image` `Clear()` `draw.Draw()` \n\n```go\n// Clear fills the entire image with the current color.\nfunc (dc *Context) Clear() {\n\tsrc := image.NewUniform(dc.color)\n\tdraw.Draw(dc.im, dc.im.Bounds(), src, image.ZP, draw.Src)\n}\n```\n\n## \n\n\n\n```go\npackage main\n\nimport \"github.com/fogleman/gg\"\n\nfunc main() {\n\tconst S = 1024\n\tdc := gg.NewContext(S, S)\n\tdc.SetRGB(0, 1, 1)\n\tdc.Clear()\n\tdc.SetRGB(0, 0, 0)\n\tif err := dc.LoadFontFace(\"gilmer-heavy.ttf\", 120); err != nil {\n\t\tpanic(err)\n\t}\n\tdc.DrawString(\"Hello, world!\", 0, S/2)\n\tdc.SavePNG(\"out.png\")\n}\n```\n\nHello, World!\n\n![](2.png)\n\n\n\n```go\ndc.SetRGB(0, 0, 0)\n```\n\n `LoadFontFace()`  `ttf`  `true type font`\n\n```go\nif err := dc.LoadFontFace(\"gilmer-heavy.ttf\", 120); err != nil {\n    panic(err)\n}\n```\n\n\n\n```go\nfunc (dc *Context) LoadFontFace(path string, points float64) error {\n\tface, err := LoadFontFace(path, points)\n\tif err == nil {\n\t\tdc.fontFace = face\n\t\tdc.fontHeight = points * 72 / 96\n\t}\n\treturn err\n}\n```\n\n `LoadFontFace()`  `freetype` `Parse()` `NewFace()`  `font.Face` `LoadFontFace()` `fontFace` `point`\n\n`72``96`(`points`) `1/72``96DPI`96`72/96`=`0.75`\n\n```go\nfunc LoadFontFace(path string, points float64) (font.Face, error) {\n\tfontBytes, err := ioutil.ReadFile(path)\n\tif err != nil {\n\t\treturn nil, err\n\t}\n\tf, err := truetype.Parse(fontBytes)\n\tif err != nil {\n\t\treturn nil, err\n\t}\n\tface := truetype.NewFace(f, &truetype.Options{\n\t\tSize: points,\n\t\t// Hinting: font.HintingFull,\n\t})\n\treturn face, nil\n}\n```\n\n### \n\n`LoadFontFace()` \n\n```go\nif err := dc.LoadFontFace(\"gilmer-heavy.ttf\", 240); err != nil {\n    panic(err)\n}\n```\n\n![](3.png)\n\n`dc.DrawString(\"Hello, world!\", 0, S/2)` `(0, S/2)` ****\n\n### \n\n `Hello,World!` \n\n```go\nif err := dc.LoadFontFace(\"gilmer-heavy.ttf\", 120); err != nil {\n    panic(err)\n}\ndc.DrawString(\"Hello, world!\", 130, S/2)\n```\n\n![](4.png)\n\n`120``x``130`\n\n`MeasureString()`  `points * 72 / 96` `((S-sWidth)/2, (S+sHeight)/2)`y`(S+sHeight)/2`y`(S-sHeight)/2`\n\n```go\ns := \"Hello, world!\"\nsWidth, sHeight := dc.MeasureString(s)\ndc.DrawString(s, (S-sWidth)/2, (S+sHeight)/2)\n```\n\n![](5.png)\n\n\n\n```go\ns := \"Hello,world! Hello,ByteDancer!\"\n```\n\n![](6.png)\n\n\n\n### \n\n\n\n\n\n`0.75`\n\n```go\nmaxTextWidth := S * 0.75\n```\n\n\n\n```go\nfunc TruncateText(dc *gg.Context, originalText string, maxTextWidth float64) string {\n\ttmpStr := \"\"\n\tfor i := 0; i < len(originalText); i++ {\n\t\ttmpStr = tmpStr + string(originalText[i])\n\t\tw, _ := dc.MeasureString(tmpStr)\n\t\tif w > maxTextWidth {\n\t\t\treturn tmpStr[0 : i-1]\n\t\t}\n\t}\n\treturn tmpStr\n}\n```\n\n\n\n```go\nfunc main() {\n\tconst S = 1024\n\tdc := gg.NewContext(S, S)\n\tdc.SetRGB(0, 1, 1)\n\tdc.Clear()\n\tdc.SetRGB(0, 0, 0)\n\tif err := dc.LoadFontFace(\"gilmer-heavy.ttf\", 120); err != nil {\n\t\tpanic(err)\n\t}\n\ts := \"Hello,world! Hello,ByteDancer!\"\n\tellipsisWidth, _ := dc.MeasureString(\"...\")\n\tmaxTextWidth := S * 0.75\n\ts = TruncateText(dc, s, maxTextWidth - ellipsisWidth) + \"...\"\n\tfmt.Println(s)\n\tsWidth, sHeight := dc.MeasureString(s)\n\n\tdc.DrawString(s, (S-sWidth)/2, (S+sHeight)/2)\n\tdc.SavePNG(\"out.png\")\n}\n```\n\n\n\n![](7.png)\n\n\n\n```go\nif err := dc.LoadFontFace(\".ttf\", 120); err != nil {\n    panic(err)\n}\ns := \"\"\n```\n\n\n\n![](8.png)\n\n`rune` `for range` \n\n```go\nfunc TruncateText(dc *gg.Context, originalText string, maxTextWidth float64) string {\n\ttmpStr := \"\"\n\tresult := make([]rune, 0)\n\tfor _, r := range originalText {\n\t\ttmpStr = tmpStr + string(r)\n\t\tw, _ := dc.MeasureString(tmpStr)\n\t\tif w > maxTextWidth {\n\t\t\tif len(tmpStr) <= 1 {\n\t\t\t\treturn \"\"\n\t\t\t} else {\n\t\t\t\tbreak\n\t\t\t}\n\t\t} else {\n\t\t\tresult = append(result, r)\n\t\t}\n\t}\n\treturn string(result)\n}\n```\n\n\n\n![](9.png)\n\n### \n\n\n\n```go\npackage main\n\nimport (\n\t\"github.com/fogleman/gg\"\n\t\"strings\"\n)\n\nfunc main() {\n\tconst S = 1024\n\tdc := gg.NewContext(S, S)\n\tdc.SetRGB(0, 1, 1)\n\tdc.Clear()\n\tdc.SetRGB(0, 0, 0)\n\tif err := dc.LoadFontFace(\"/Users/bytedance/Downloads/.ttf\", 120); err != nil {\n\t\tpanic(err)\n\t}\n\ts := \"        --\"\n\tellipsisWidth, _ := dc.MeasureString(\"...\")\n\n\tmaxTextWidth := S * 0.9\n\tlineSpace := 25.0\n\tmaxLine := int(S / (dc.FontHeight() + lineSpace))\n\n\tline := 0\n\tlineTexts := make([]string, 0)\n\tfor len(s) > 0 {\n\t\tline++\n\t\tif line > maxLine {\n\t\t\tbreak\n\t\t}\n\t\tif line == maxLine {\n\t\t\tsw, _ := dc.MeasureString(s)\n\t\t\tif sw > maxTextWidth {\n\t\t\t\tmaxTextWidth -= ellipsisWidth\n\t\t\t}\n\t\t}\n\t\tlineText := TruncateText(dc, s, maxTextWidth)\n\t\tif line == maxLine && len(lineText) < len(s) {\n\t\t\tlineText += \"...\"\n\t\t}\n\t\tlineTexts = append(lineTexts, lineText)\n\t\tif len(lineText) >= len(s) {\n\t\t\tbreak\n\t\t}\n\t\ts = s[len(lineText):]\n\t}\n\n\tlineY := (S - dc.FontHeight()*float64(len(lineTexts)) - lineSpace*float64(len(lineTexts)-1)) / 2\n\tlineY += dc.FontHeight()\n\tfor _, text := range lineTexts {\n\t\tsWidth, _ := dc.MeasureString(text)\n\t\tlineX := (S - sWidth) / 2\n\t\tdc.DrawString(text, lineX, lineY)\n\t\tlineY += dc.FontHeight() + lineSpace\n\t}\n\n\tdc.SavePNG(\"out.png\")\n}\n\nfunc TruncateText(dc *gg.Context, originalText string, maxTextWidth float64) string {\n\ttmpStr := \"\"\n\tresult := make([]rune, 0)\n\tfor _, r := range originalText {\n\t\ttmpStr = tmpStr + string(r)\n\t\tw, _ := dc.MeasureString(tmpStr)\n\t\tif w > maxTextWidth {\n\t\t\tif len(tmpStr) <= 1 {\n\t\t\t\treturn \"\"\n\t\t\t} else {\n\t\t\t\tbreak\n\t\t\t}\n\t\t} else {\n\t\t\tresult = append(result, r)\n\t\t}\n\t}\n\treturn string(result)\n}\n```\n\n\n\n\n\n```go\n//\nif line == maxLine {\n    sw, _ := dc.MeasureString(s)\n    // \n    if sw > maxTextWidth {\n        maxTextWidth -= ellipsisWidth\n    }\n}\nlineText := TruncateText(dc, s, maxTextWidth)\n// \nif line == maxLine && len(lineText) < len(s) {\n    lineText += \"...\"\n}\n```\n\nXY`dc.FontHeight()*float64(len(lineTexts)) - lineSpace*float64(len(lineTexts)-1))` 2\n\n```go\nlineY := (S - dc.FontHeight()*float64(len(lineTexts)) - lineSpace*float64(len(lineTexts)-1)) / 2\n```\n\nXY\n\n```go\nlineY += dc.FontHeight()\nfor _, text := range lineTexts {\n    sWidth, _ := dc.MeasureString(text)\n    lineX := (S - sWidth) / 2\n    dc.DrawString(text, lineX, lineY)\n    lineY += dc.FontHeight() + lineSpace\n}\n```\n\n\n\n![](10.png)\n\n\n\ngg`DrawStringAnchored()`  `DrawStringWrapped()`\n\n\n\n## \n\n `DrawString()`  `MeasureString()` \n\n\n","source":"_posts/picture/go-draw-word-in-pic.md","raw":"---\ntitle: Go\ntags:\n  - go\ncategories:\n  - \ntoc: true\ncover: true\ndate: 2020-12-20 22:45:35\n---\n\ngg\n\n## \n\n\n\n```go\npackage main\n\nimport \"github.com/fogleman/gg\"\n\nfunc main() {\n\tconst S = 1024\n\tdc := gg.NewContext(S, S)\n\tdc.SetRGB(0, 1, 1)\n\tdc.Clear()\n\tdc.SavePNG(\"out.png\")\n}\n```\n\n\n\n![](1.png)\n\n\n\n```go\nfunc TestRotateImage(t *testing.T) {\n\twidth := 1000\n\theight := 1000\n\n\tdc := gg.NewContext(width, height)\n\tdc.DrawRectangle(0, 0, float64(width), float64(width))\n\tdc.SetRGB255(255, 255, 0)\n\tdc.Fill()\n\tdc.SavePNG(\"test.png\")\n}\n```\n\n `Clear()` \n\n `Clear()`  `draw.Draw()` go `image` `Clear()` `draw.Draw()` \n\n```go\n// Clear fills the entire image with the current color.\nfunc (dc *Context) Clear() {\n\tsrc := image.NewUniform(dc.color)\n\tdraw.Draw(dc.im, dc.im.Bounds(), src, image.ZP, draw.Src)\n}\n```\n\n## \n\n\n\n```go\npackage main\n\nimport \"github.com/fogleman/gg\"\n\nfunc main() {\n\tconst S = 1024\n\tdc := gg.NewContext(S, S)\n\tdc.SetRGB(0, 1, 1)\n\tdc.Clear()\n\tdc.SetRGB(0, 0, 0)\n\tif err := dc.LoadFontFace(\"gilmer-heavy.ttf\", 120); err != nil {\n\t\tpanic(err)\n\t}\n\tdc.DrawString(\"Hello, world!\", 0, S/2)\n\tdc.SavePNG(\"out.png\")\n}\n```\n\nHello, World!\n\n![](2.png)\n\n\n\n```go\ndc.SetRGB(0, 0, 0)\n```\n\n `LoadFontFace()`  `ttf`  `true type font`\n\n```go\nif err := dc.LoadFontFace(\"gilmer-heavy.ttf\", 120); err != nil {\n    panic(err)\n}\n```\n\n\n\n```go\nfunc (dc *Context) LoadFontFace(path string, points float64) error {\n\tface, err := LoadFontFace(path, points)\n\tif err == nil {\n\t\tdc.fontFace = face\n\t\tdc.fontHeight = points * 72 / 96\n\t}\n\treturn err\n}\n```\n\n `LoadFontFace()`  `freetype` `Parse()` `NewFace()`  `font.Face` `LoadFontFace()` `fontFace` `point`\n\n`72``96`(`points`) `1/72``96DPI`96`72/96`=`0.75`\n\n```go\nfunc LoadFontFace(path string, points float64) (font.Face, error) {\n\tfontBytes, err := ioutil.ReadFile(path)\n\tif err != nil {\n\t\treturn nil, err\n\t}\n\tf, err := truetype.Parse(fontBytes)\n\tif err != nil {\n\t\treturn nil, err\n\t}\n\tface := truetype.NewFace(f, &truetype.Options{\n\t\tSize: points,\n\t\t// Hinting: font.HintingFull,\n\t})\n\treturn face, nil\n}\n```\n\n### \n\n`LoadFontFace()` \n\n```go\nif err := dc.LoadFontFace(\"gilmer-heavy.ttf\", 240); err != nil {\n    panic(err)\n}\n```\n\n![](3.png)\n\n`dc.DrawString(\"Hello, world!\", 0, S/2)` `(0, S/2)` ****\n\n### \n\n `Hello,World!` \n\n```go\nif err := dc.LoadFontFace(\"gilmer-heavy.ttf\", 120); err != nil {\n    panic(err)\n}\ndc.DrawString(\"Hello, world!\", 130, S/2)\n```\n\n![](4.png)\n\n`120``x``130`\n\n`MeasureString()`  `points * 72 / 96` `((S-sWidth)/2, (S+sHeight)/2)`y`(S+sHeight)/2`y`(S-sHeight)/2`\n\n```go\ns := \"Hello, world!\"\nsWidth, sHeight := dc.MeasureString(s)\ndc.DrawString(s, (S-sWidth)/2, (S+sHeight)/2)\n```\n\n![](5.png)\n\n\n\n```go\ns := \"Hello,world! Hello,ByteDancer!\"\n```\n\n![](6.png)\n\n\n\n### \n\n\n\n\n\n`0.75`\n\n```go\nmaxTextWidth := S * 0.75\n```\n\n\n\n```go\nfunc TruncateText(dc *gg.Context, originalText string, maxTextWidth float64) string {\n\ttmpStr := \"\"\n\tfor i := 0; i < len(originalText); i++ {\n\t\ttmpStr = tmpStr + string(originalText[i])\n\t\tw, _ := dc.MeasureString(tmpStr)\n\t\tif w > maxTextWidth {\n\t\t\treturn tmpStr[0 : i-1]\n\t\t}\n\t}\n\treturn tmpStr\n}\n```\n\n\n\n```go\nfunc main() {\n\tconst S = 1024\n\tdc := gg.NewContext(S, S)\n\tdc.SetRGB(0, 1, 1)\n\tdc.Clear()\n\tdc.SetRGB(0, 0, 0)\n\tif err := dc.LoadFontFace(\"gilmer-heavy.ttf\", 120); err != nil {\n\t\tpanic(err)\n\t}\n\ts := \"Hello,world! Hello,ByteDancer!\"\n\tellipsisWidth, _ := dc.MeasureString(\"...\")\n\tmaxTextWidth := S * 0.75\n\ts = TruncateText(dc, s, maxTextWidth - ellipsisWidth) + \"...\"\n\tfmt.Println(s)\n\tsWidth, sHeight := dc.MeasureString(s)\n\n\tdc.DrawString(s, (S-sWidth)/2, (S+sHeight)/2)\n\tdc.SavePNG(\"out.png\")\n}\n```\n\n\n\n![](7.png)\n\n\n\n```go\nif err := dc.LoadFontFace(\".ttf\", 120); err != nil {\n    panic(err)\n}\ns := \"\"\n```\n\n\n\n![](8.png)\n\n`rune` `for range` \n\n```go\nfunc TruncateText(dc *gg.Context, originalText string, maxTextWidth float64) string {\n\ttmpStr := \"\"\n\tresult := make([]rune, 0)\n\tfor _, r := range originalText {\n\t\ttmpStr = tmpStr + string(r)\n\t\tw, _ := dc.MeasureString(tmpStr)\n\t\tif w > maxTextWidth {\n\t\t\tif len(tmpStr) <= 1 {\n\t\t\t\treturn \"\"\n\t\t\t} else {\n\t\t\t\tbreak\n\t\t\t}\n\t\t} else {\n\t\t\tresult = append(result, r)\n\t\t}\n\t}\n\treturn string(result)\n}\n```\n\n\n\n![](9.png)\n\n### \n\n\n\n```go\npackage main\n\nimport (\n\t\"github.com/fogleman/gg\"\n\t\"strings\"\n)\n\nfunc main() {\n\tconst S = 1024\n\tdc := gg.NewContext(S, S)\n\tdc.SetRGB(0, 1, 1)\n\tdc.Clear()\n\tdc.SetRGB(0, 0, 0)\n\tif err := dc.LoadFontFace(\"/Users/bytedance/Downloads/.ttf\", 120); err != nil {\n\t\tpanic(err)\n\t}\n\ts := \"        --\"\n\tellipsisWidth, _ := dc.MeasureString(\"...\")\n\n\tmaxTextWidth := S * 0.9\n\tlineSpace := 25.0\n\tmaxLine := int(S / (dc.FontHeight() + lineSpace))\n\n\tline := 0\n\tlineTexts := make([]string, 0)\n\tfor len(s) > 0 {\n\t\tline++\n\t\tif line > maxLine {\n\t\t\tbreak\n\t\t}\n\t\tif line == maxLine {\n\t\t\tsw, _ := dc.MeasureString(s)\n\t\t\tif sw > maxTextWidth {\n\t\t\t\tmaxTextWidth -= ellipsisWidth\n\t\t\t}\n\t\t}\n\t\tlineText := TruncateText(dc, s, maxTextWidth)\n\t\tif line == maxLine && len(lineText) < len(s) {\n\t\t\tlineText += \"...\"\n\t\t}\n\t\tlineTexts = append(lineTexts, lineText)\n\t\tif len(lineText) >= len(s) {\n\t\t\tbreak\n\t\t}\n\t\ts = s[len(lineText):]\n\t}\n\n\tlineY := (S - dc.FontHeight()*float64(len(lineTexts)) - lineSpace*float64(len(lineTexts)-1)) / 2\n\tlineY += dc.FontHeight()\n\tfor _, text := range lineTexts {\n\t\tsWidth, _ := dc.MeasureString(text)\n\t\tlineX := (S - sWidth) / 2\n\t\tdc.DrawString(text, lineX, lineY)\n\t\tlineY += dc.FontHeight() + lineSpace\n\t}\n\n\tdc.SavePNG(\"out.png\")\n}\n\nfunc TruncateText(dc *gg.Context, originalText string, maxTextWidth float64) string {\n\ttmpStr := \"\"\n\tresult := make([]rune, 0)\n\tfor _, r := range originalText {\n\t\ttmpStr = tmpStr + string(r)\n\t\tw, _ := dc.MeasureString(tmpStr)\n\t\tif w > maxTextWidth {\n\t\t\tif len(tmpStr) <= 1 {\n\t\t\t\treturn \"\"\n\t\t\t} else {\n\t\t\t\tbreak\n\t\t\t}\n\t\t} else {\n\t\t\tresult = append(result, r)\n\t\t}\n\t}\n\treturn string(result)\n}\n```\n\n\n\n\n\n```go\n//\nif line == maxLine {\n    sw, _ := dc.MeasureString(s)\n    // \n    if sw > maxTextWidth {\n        maxTextWidth -= ellipsisWidth\n    }\n}\nlineText := TruncateText(dc, s, maxTextWidth)\n// \nif line == maxLine && len(lineText) < len(s) {\n    lineText += \"...\"\n}\n```\n\nXY`dc.FontHeight()*float64(len(lineTexts)) - lineSpace*float64(len(lineTexts)-1))` 2\n\n```go\nlineY := (S - dc.FontHeight()*float64(len(lineTexts)) - lineSpace*float64(len(lineTexts)-1)) / 2\n```\n\nXY\n\n```go\nlineY += dc.FontHeight()\nfor _, text := range lineTexts {\n    sWidth, _ := dc.MeasureString(text)\n    lineX := (S - sWidth) / 2\n    dc.DrawString(text, lineX, lineY)\n    lineY += dc.FontHeight() + lineSpace\n}\n```\n\n\n\n![](10.png)\n\n\n\ngg`DrawStringAnchored()`  `DrawStringWrapped()`\n\n\n\n## \n\n `DrawString()`  `MeasureString()` \n\n\n","slug":"picture/go-draw-word-in-pic","published":1,"updated":"2020-12-20T14:45:35.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cl70rsfbf000q5ohu7jjx94bs","content":"<p>gg</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<pre class=\" language-go\"><code class=\"language-go\"><span class=\"token keyword\">package</span> main\n\n<span class=\"token keyword\">import</span> <span class=\"token string\">\"github.com/fogleman/gg\"</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> S <span class=\"token operator\">=</span> <span class=\"token number\">1024</span>\n    dc <span class=\"token operator\">:=</span> gg<span class=\"token punctuation\">.</span><span class=\"token function\">NewContext</span><span class=\"token punctuation\">(</span>S<span class=\"token punctuation\">,</span> S<span class=\"token punctuation\">)</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">SetRGB</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">Clear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">SavePNG</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"out.png\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p></p>\n<p><img src=\"1.png\" alt=\"\"></p>\n<p></p>\n<pre class=\" language-go\"><code class=\"language-go\"><span class=\"token keyword\">func</span> <span class=\"token function\">TestRotateImage</span><span class=\"token punctuation\">(</span>t <span class=\"token operator\">*</span>testing<span class=\"token punctuation\">.</span>T<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    width <span class=\"token operator\">:=</span> <span class=\"token number\">1000</span>\n    height <span class=\"token operator\">:=</span> <span class=\"token number\">1000</span>\n\n    dc <span class=\"token operator\">:=</span> gg<span class=\"token punctuation\">.</span><span class=\"token function\">NewContext</span><span class=\"token punctuation\">(</span>width<span class=\"token punctuation\">,</span> height<span class=\"token punctuation\">)</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">DrawRectangle</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token function\">float64</span><span class=\"token punctuation\">(</span>width<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token function\">float64</span><span class=\"token punctuation\">(</span>width<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">SetRGB255</span><span class=\"token punctuation\">(</span><span class=\"token number\">255</span><span class=\"token punctuation\">,</span> <span class=\"token number\">255</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">Fill</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">SavePNG</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"test.png\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p> <code>Clear()</code> </p>\n<p> <code>Clear()</code>  <code>draw.Draw()</code> go <code>image</code> <code>Clear()</code> <code>draw.Draw()</code> </p>\n<pre class=\" language-go\"><code class=\"language-go\"><span class=\"token comment\" spellcheck=\"true\">// Clear fills the entire image with the current color.</span>\n<span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>dc <span class=\"token operator\">*</span>Context<span class=\"token punctuation\">)</span> <span class=\"token function\">Clear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    src <span class=\"token operator\">:=</span> image<span class=\"token punctuation\">.</span><span class=\"token function\">NewUniform</span><span class=\"token punctuation\">(</span>dc<span class=\"token punctuation\">.</span>color<span class=\"token punctuation\">)</span>\n    draw<span class=\"token punctuation\">.</span><span class=\"token function\">Draw</span><span class=\"token punctuation\">(</span>dc<span class=\"token punctuation\">.</span>im<span class=\"token punctuation\">,</span> dc<span class=\"token punctuation\">.</span>im<span class=\"token punctuation\">.</span><span class=\"token function\">Bounds</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> src<span class=\"token punctuation\">,</span> image<span class=\"token punctuation\">.</span>ZP<span class=\"token punctuation\">,</span> draw<span class=\"token punctuation\">.</span>Src<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<pre class=\" language-go\"><code class=\"language-go\"><span class=\"token keyword\">package</span> main\n\n<span class=\"token keyword\">import</span> <span class=\"token string\">\"github.com/fogleman/gg\"</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> S <span class=\"token operator\">=</span> <span class=\"token number\">1024</span>\n    dc <span class=\"token operator\">:=</span> gg<span class=\"token punctuation\">.</span><span class=\"token function\">NewContext</span><span class=\"token punctuation\">(</span>S<span class=\"token punctuation\">,</span> S<span class=\"token punctuation\">)</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">SetRGB</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">Clear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">SetRGB</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">if</span> err <span class=\"token operator\">:=</span> dc<span class=\"token punctuation\">.</span><span class=\"token function\">LoadFontFace</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"gilmer-heavy.ttf\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">120</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> err <span class=\"token operator\">!=</span> <span class=\"token boolean\">nil</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">panic</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">DrawString</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Hello, world!\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> S<span class=\"token operator\">/</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">SavePNG</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"out.png\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p>Hello, World!</p>\n<p><img src=\"2.png\" alt=\"\"></p>\n<p></p>\n<pre class=\" language-go\"><code class=\"language-go\">dc<span class=\"token punctuation\">.</span><span class=\"token function\">SetRGB</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span></code></pre>\n<p> <code>LoadFontFace()</code>  <code>ttf</code>  <code>true type font</code></p>\n<pre class=\" language-go\"><code class=\"language-go\"><span class=\"token keyword\">if</span> err <span class=\"token operator\">:=</span> dc<span class=\"token punctuation\">.</span><span class=\"token function\">LoadFontFace</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"gilmer-heavy.ttf\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">120</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> err <span class=\"token operator\">!=</span> <span class=\"token boolean\">nil</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">panic</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p></p>\n<pre class=\" language-go\"><code class=\"language-go\"><span class=\"token keyword\">func</span> <span class=\"token punctuation\">(</span>dc <span class=\"token operator\">*</span>Context<span class=\"token punctuation\">)</span> <span class=\"token function\">LoadFontFace</span><span class=\"token punctuation\">(</span>path <span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> points <span class=\"token builtin\">float64</span><span class=\"token punctuation\">)</span> <span class=\"token builtin\">error</span> <span class=\"token punctuation\">{</span>\n    face<span class=\"token punctuation\">,</span> err <span class=\"token operator\">:=</span> <span class=\"token function\">LoadFontFace</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">,</span> points<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">if</span> err <span class=\"token operator\">==</span> <span class=\"token boolean\">nil</span> <span class=\"token punctuation\">{</span>\n        dc<span class=\"token punctuation\">.</span>fontFace <span class=\"token operator\">=</span> face\n        dc<span class=\"token punctuation\">.</span>fontHeight <span class=\"token operator\">=</span> points <span class=\"token operator\">*</span> <span class=\"token number\">72</span> <span class=\"token operator\">/</span> <span class=\"token number\">96</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">return</span> err\n<span class=\"token punctuation\">}</span></code></pre>\n<p> <code>LoadFontFace()</code>  <code>freetype</code> <code>Parse()</code> <code>NewFace()</code>  <code>font.Face</code> <code>LoadFontFace()</code> <code>fontFace</code> <code>point</code></p>\n<p><code>72</code><code>96</code>(<code>points</code>) <code>1/72</code><code>96DPI</code>96<code>72/96</code>=<code>0.75</code></p>\n<pre class=\" language-go\"><code class=\"language-go\"><span class=\"token keyword\">func</span> <span class=\"token function\">LoadFontFace</span><span class=\"token punctuation\">(</span>path <span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> points <span class=\"token builtin\">float64</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">(</span>font<span class=\"token punctuation\">.</span>Face<span class=\"token punctuation\">,</span> <span class=\"token builtin\">error</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    fontBytes<span class=\"token punctuation\">,</span> err <span class=\"token operator\">:=</span> ioutil<span class=\"token punctuation\">.</span><span class=\"token function\">ReadFile</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">if</span> err <span class=\"token operator\">!=</span> <span class=\"token boolean\">nil</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token boolean\">nil</span><span class=\"token punctuation\">,</span> err\n    <span class=\"token punctuation\">}</span>\n    f<span class=\"token punctuation\">,</span> err <span class=\"token operator\">:=</span> truetype<span class=\"token punctuation\">.</span><span class=\"token function\">Parse</span><span class=\"token punctuation\">(</span>fontBytes<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">if</span> err <span class=\"token operator\">!=</span> <span class=\"token boolean\">nil</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token boolean\">nil</span><span class=\"token punctuation\">,</span> err\n    <span class=\"token punctuation\">}</span>\n    face <span class=\"token operator\">:=</span> truetype<span class=\"token punctuation\">.</span><span class=\"token function\">NewFace</span><span class=\"token punctuation\">(</span>f<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span>truetype<span class=\"token punctuation\">.</span>Options<span class=\"token punctuation\">{</span>\n        Size<span class=\"token punctuation\">:</span> points<span class=\"token punctuation\">,</span>\n        <span class=\"token comment\" spellcheck=\"true\">// Hinting: font.HintingFull,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">return</span> face<span class=\"token punctuation\">,</span> <span class=\"token boolean\">nil</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><code>LoadFontFace()</code> </p>\n<pre class=\" language-go\"><code class=\"language-go\"><span class=\"token keyword\">if</span> err <span class=\"token operator\">:=</span> dc<span class=\"token punctuation\">.</span><span class=\"token function\">LoadFontFace</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"gilmer-heavy.ttf\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">240</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> err <span class=\"token operator\">!=</span> <span class=\"token boolean\">nil</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">panic</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p><img src=\"3.png\" alt=\"\"></p>\n<p><code>dc.DrawString(\"Hello, world!\", 0, S/2)</code> <code>(0, S/2)</code> <strong></strong></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> <code>Hello,World!</code> </p>\n<pre class=\" language-go\"><code class=\"language-go\"><span class=\"token keyword\">if</span> err <span class=\"token operator\">:=</span> dc<span class=\"token punctuation\">.</span><span class=\"token function\">LoadFontFace</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"gilmer-heavy.ttf\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">120</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> err <span class=\"token operator\">!=</span> <span class=\"token boolean\">nil</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">panic</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\ndc<span class=\"token punctuation\">.</span><span class=\"token function\">DrawString</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Hello, world!\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">130</span><span class=\"token punctuation\">,</span> S<span class=\"token operator\">/</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span></code></pre>\n<p><img src=\"4.png\" alt=\"\"></p>\n<p><code>120</code><code>x</code><code>130</code></p>\n<p><code>MeasureString()</code>  <code>points * 72 / 96</code> <code>((S-sWidth)/2, (S+sHeight)/2)</code>y<code>(S+sHeight)/2</code>y<code>(S-sHeight)/2</code></p>\n<pre class=\" language-go\"><code class=\"language-go\">s <span class=\"token operator\">:=</span> <span class=\"token string\">\"Hello, world!\"</span>\nsWidth<span class=\"token punctuation\">,</span> sHeight <span class=\"token operator\">:=</span> dc<span class=\"token punctuation\">.</span><span class=\"token function\">MeasureString</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">)</span>\ndc<span class=\"token punctuation\">.</span><span class=\"token function\">DrawString</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span>S<span class=\"token operator\">-</span>sWidth<span class=\"token punctuation\">)</span><span class=\"token operator\">/</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span>S<span class=\"token operator\">+</span>sHeight<span class=\"token punctuation\">)</span><span class=\"token operator\">/</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span></code></pre>\n<p><img src=\"5.png\" alt=\"\"></p>\n<p></p>\n<pre class=\" language-go\"><code class=\"language-go\">s <span class=\"token operator\">:=</span> <span class=\"token string\">\"Hello,world! Hello,ByteDancer!\"</span></code></pre>\n<p><img src=\"6.png\" alt=\"\"></p>\n<p></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<p></p>\n<p><code>0.75</code></p>\n<pre class=\" language-go\"><code class=\"language-go\">maxTextWidth <span class=\"token operator\">:=</span> S <span class=\"token operator\">*</span> <span class=\"token number\">0.75</span></code></pre>\n<p></p>\n<pre class=\" language-go\"><code class=\"language-go\"><span class=\"token keyword\">func</span> <span class=\"token function\">TruncateText</span><span class=\"token punctuation\">(</span>dc <span class=\"token operator\">*</span>gg<span class=\"token punctuation\">.</span>Context<span class=\"token punctuation\">,</span> originalText <span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> maxTextWidth <span class=\"token builtin\">float64</span><span class=\"token punctuation\">)</span> <span class=\"token builtin\">string</span> <span class=\"token punctuation\">{</span>\n    tmpStr <span class=\"token operator\">:=</span> <span class=\"token string\">\"\"</span>\n    <span class=\"token keyword\">for</span> i <span class=\"token operator\">:=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> <span class=\"token function\">len</span><span class=\"token punctuation\">(</span>originalText<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span> <span class=\"token punctuation\">{</span>\n        tmpStr <span class=\"token operator\">=</span> tmpStr <span class=\"token operator\">+</span> <span class=\"token function\">string</span><span class=\"token punctuation\">(</span>originalText<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n        w<span class=\"token punctuation\">,</span> <span class=\"token boolean\">_</span> <span class=\"token operator\">:=</span> dc<span class=\"token punctuation\">.</span><span class=\"token function\">MeasureString</span><span class=\"token punctuation\">(</span>tmpStr<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">if</span> w <span class=\"token operator\">></span> maxTextWidth <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">return</span> tmpStr<span class=\"token punctuation\">[</span><span class=\"token number\">0</span> <span class=\"token punctuation\">:</span> i<span class=\"token number\">-1</span><span class=\"token punctuation\">]</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">return</span> tmpStr\n<span class=\"token punctuation\">}</span></code></pre>\n<p></p>\n<pre class=\" language-go\"><code class=\"language-go\"><span class=\"token keyword\">func</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> S <span class=\"token operator\">=</span> <span class=\"token number\">1024</span>\n    dc <span class=\"token operator\">:=</span> gg<span class=\"token punctuation\">.</span><span class=\"token function\">NewContext</span><span class=\"token punctuation\">(</span>S<span class=\"token punctuation\">,</span> S<span class=\"token punctuation\">)</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">SetRGB</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">Clear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">SetRGB</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">if</span> err <span class=\"token operator\">:=</span> dc<span class=\"token punctuation\">.</span><span class=\"token function\">LoadFontFace</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"gilmer-heavy.ttf\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">120</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> err <span class=\"token operator\">!=</span> <span class=\"token boolean\">nil</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">panic</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n    s <span class=\"token operator\">:=</span> <span class=\"token string\">\"Hello,world! Hello,ByteDancer!\"</span>\n    ellipsisWidth<span class=\"token punctuation\">,</span> <span class=\"token boolean\">_</span> <span class=\"token operator\">:=</span> dc<span class=\"token punctuation\">.</span><span class=\"token function\">MeasureString</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"...\"</span><span class=\"token punctuation\">)</span>\n    maxTextWidth <span class=\"token operator\">:=</span> S <span class=\"token operator\">*</span> <span class=\"token number\">0.75</span>\n    s <span class=\"token operator\">=</span> <span class=\"token function\">TruncateText</span><span class=\"token punctuation\">(</span>dc<span class=\"token punctuation\">,</span> s<span class=\"token punctuation\">,</span> maxTextWidth <span class=\"token operator\">-</span> ellipsisWidth<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">\"...\"</span>\n    fmt<span class=\"token punctuation\">.</span><span class=\"token function\">Println</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">)</span>\n    sWidth<span class=\"token punctuation\">,</span> sHeight <span class=\"token operator\">:=</span> dc<span class=\"token punctuation\">.</span><span class=\"token function\">MeasureString</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">)</span>\n\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">DrawString</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span>S<span class=\"token operator\">-</span>sWidth<span class=\"token punctuation\">)</span><span class=\"token operator\">/</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span>S<span class=\"token operator\">+</span>sHeight<span class=\"token punctuation\">)</span><span class=\"token operator\">/</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">SavePNG</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"out.png\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p></p>\n<p><img src=\"7.png\" alt=\"\"></p>\n<p></p>\n<pre class=\" language-go\"><code class=\"language-go\"><span class=\"token keyword\">if</span> err <span class=\"token operator\">:=</span> dc<span class=\"token punctuation\">.</span><span class=\"token function\">LoadFontFace</span><span class=\"token punctuation\">(</span><span class=\"token string\">\".ttf\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">120</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> err <span class=\"token operator\">!=</span> <span class=\"token boolean\">nil</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">panic</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\ns <span class=\"token operator\">:=</span> <span class=\"token string\">\"\"</span></code></pre>\n<p></p>\n<p><img src=\"8.png\" alt=\"\"></p>\n<p><code>rune</code> <code>for range</code> </p>\n<pre class=\" language-go\"><code class=\"language-go\"><span class=\"token keyword\">func</span> <span class=\"token function\">TruncateText</span><span class=\"token punctuation\">(</span>dc <span class=\"token operator\">*</span>gg<span class=\"token punctuation\">.</span>Context<span class=\"token punctuation\">,</span> originalText <span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> maxTextWidth <span class=\"token builtin\">float64</span><span class=\"token punctuation\">)</span> <span class=\"token builtin\">string</span> <span class=\"token punctuation\">{</span>\n    tmpStr <span class=\"token operator\">:=</span> <span class=\"token string\">\"\"</span>\n    result <span class=\"token operator\">:=</span> <span class=\"token function\">make</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token builtin\">rune</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">for</span> <span class=\"token boolean\">_</span><span class=\"token punctuation\">,</span> r <span class=\"token operator\">:=</span> <span class=\"token keyword\">range</span> originalText <span class=\"token punctuation\">{</span>\n        tmpStr <span class=\"token operator\">=</span> tmpStr <span class=\"token operator\">+</span> <span class=\"token function\">string</span><span class=\"token punctuation\">(</span>r<span class=\"token punctuation\">)</span>\n        w<span class=\"token punctuation\">,</span> <span class=\"token boolean\">_</span> <span class=\"token operator\">:=</span> dc<span class=\"token punctuation\">.</span><span class=\"token function\">MeasureString</span><span class=\"token punctuation\">(</span>tmpStr<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">if</span> w <span class=\"token operator\">></span> maxTextWidth <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">if</span> <span class=\"token function\">len</span><span class=\"token punctuation\">(</span>tmpStr<span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;=</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">return</span> <span class=\"token string\">\"\"</span>\n            <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">break</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n            result <span class=\"token operator\">=</span> <span class=\"token function\">append</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">,</span> r<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">return</span> <span class=\"token function\">string</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p></p>\n<p><img src=\"9.png\" alt=\"\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<pre class=\" language-go\"><code class=\"language-go\"><span class=\"token keyword\">package</span> main\n\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token string\">\"github.com/fogleman/gg\"</span>\n    <span class=\"token string\">\"strings\"</span>\n<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> S <span class=\"token operator\">=</span> <span class=\"token number\">1024</span>\n    dc <span class=\"token operator\">:=</span> gg<span class=\"token punctuation\">.</span><span class=\"token function\">NewContext</span><span class=\"token punctuation\">(</span>S<span class=\"token punctuation\">,</span> S<span class=\"token punctuation\">)</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">SetRGB</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">Clear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">SetRGB</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">if</span> err <span class=\"token operator\">:=</span> dc<span class=\"token punctuation\">.</span><span class=\"token function\">LoadFontFace</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/Users/bytedance/Downloads/.ttf\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">120</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> err <span class=\"token operator\">!=</span> <span class=\"token boolean\">nil</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">panic</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n    s <span class=\"token operator\">:=</span> <span class=\"token string\">\"        --\"</span>\n    ellipsisWidth<span class=\"token punctuation\">,</span> <span class=\"token boolean\">_</span> <span class=\"token operator\">:=</span> dc<span class=\"token punctuation\">.</span><span class=\"token function\">MeasureString</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"...\"</span><span class=\"token punctuation\">)</span>\n\n    maxTextWidth <span class=\"token operator\">:=</span> S <span class=\"token operator\">*</span> <span class=\"token number\">0.9</span>\n    lineSpace <span class=\"token operator\">:=</span> <span class=\"token number\">25.0</span>\n    maxLine <span class=\"token operator\">:=</span> <span class=\"token function\">int</span><span class=\"token punctuation\">(</span>S <span class=\"token operator\">/</span> <span class=\"token punctuation\">(</span>dc<span class=\"token punctuation\">.</span><span class=\"token function\">FontHeight</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> lineSpace<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n\n    line <span class=\"token operator\">:=</span> <span class=\"token number\">0</span>\n    lineTexts <span class=\"token operator\">:=</span> <span class=\"token function\">make</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">for</span> <span class=\"token function\">len</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">)</span> <span class=\"token operator\">></span> <span class=\"token number\">0</span> <span class=\"token punctuation\">{</span>\n        line<span class=\"token operator\">++</span>\n        <span class=\"token keyword\">if</span> line <span class=\"token operator\">></span> maxLine <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">break</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">if</span> line <span class=\"token operator\">==</span> maxLine <span class=\"token punctuation\">{</span>\n            sw<span class=\"token punctuation\">,</span> <span class=\"token boolean\">_</span> <span class=\"token operator\">:=</span> dc<span class=\"token punctuation\">.</span><span class=\"token function\">MeasureString</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">if</span> sw <span class=\"token operator\">></span> maxTextWidth <span class=\"token punctuation\">{</span>\n                maxTextWidth <span class=\"token operator\">-=</span> ellipsisWidth\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n        lineText <span class=\"token operator\">:=</span> <span class=\"token function\">TruncateText</span><span class=\"token punctuation\">(</span>dc<span class=\"token punctuation\">,</span> s<span class=\"token punctuation\">,</span> maxTextWidth<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">if</span> line <span class=\"token operator\">==</span> maxLine <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">len</span><span class=\"token punctuation\">(</span>lineText<span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;</span> <span class=\"token function\">len</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            lineText <span class=\"token operator\">+=</span> <span class=\"token string\">\"...\"</span>\n        <span class=\"token punctuation\">}</span>\n        lineTexts <span class=\"token operator\">=</span> <span class=\"token function\">append</span><span class=\"token punctuation\">(</span>lineTexts<span class=\"token punctuation\">,</span> lineText<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">if</span> <span class=\"token function\">len</span><span class=\"token punctuation\">(</span>lineText<span class=\"token punctuation\">)</span> <span class=\"token operator\">>=</span> <span class=\"token function\">len</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">break</span>\n        <span class=\"token punctuation\">}</span>\n        s <span class=\"token operator\">=</span> s<span class=\"token punctuation\">[</span><span class=\"token function\">len</span><span class=\"token punctuation\">(</span>lineText<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">]</span>\n    <span class=\"token punctuation\">}</span>\n\n    lineY <span class=\"token operator\">:=</span> <span class=\"token punctuation\">(</span>S <span class=\"token operator\">-</span> dc<span class=\"token punctuation\">.</span><span class=\"token function\">FontHeight</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">*</span><span class=\"token function\">float64</span><span class=\"token punctuation\">(</span><span class=\"token function\">len</span><span class=\"token punctuation\">(</span>lineTexts<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> lineSpace<span class=\"token operator\">*</span><span class=\"token function\">float64</span><span class=\"token punctuation\">(</span><span class=\"token function\">len</span><span class=\"token punctuation\">(</span>lineTexts<span class=\"token punctuation\">)</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token number\">2</span>\n    lineY <span class=\"token operator\">+=</span> dc<span class=\"token punctuation\">.</span><span class=\"token function\">FontHeight</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">for</span> <span class=\"token boolean\">_</span><span class=\"token punctuation\">,</span> text <span class=\"token operator\">:=</span> <span class=\"token keyword\">range</span> lineTexts <span class=\"token punctuation\">{</span>\n        sWidth<span class=\"token punctuation\">,</span> <span class=\"token boolean\">_</span> <span class=\"token operator\">:=</span> dc<span class=\"token punctuation\">.</span><span class=\"token function\">MeasureString</span><span class=\"token punctuation\">(</span>text<span class=\"token punctuation\">)</span>\n        lineX <span class=\"token operator\">:=</span> <span class=\"token punctuation\">(</span>S <span class=\"token operator\">-</span> sWidth<span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token number\">2</span>\n        dc<span class=\"token punctuation\">.</span><span class=\"token function\">DrawString</span><span class=\"token punctuation\">(</span>text<span class=\"token punctuation\">,</span> lineX<span class=\"token punctuation\">,</span> lineY<span class=\"token punctuation\">)</span>\n        lineY <span class=\"token operator\">+=</span> dc<span class=\"token punctuation\">.</span><span class=\"token function\">FontHeight</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> lineSpace\n    <span class=\"token punctuation\">}</span>\n\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">SavePNG</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"out.png\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token function\">TruncateText</span><span class=\"token punctuation\">(</span>dc <span class=\"token operator\">*</span>gg<span class=\"token punctuation\">.</span>Context<span class=\"token punctuation\">,</span> originalText <span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> maxTextWidth <span class=\"token builtin\">float64</span><span class=\"token punctuation\">)</span> <span class=\"token builtin\">string</span> <span class=\"token punctuation\">{</span>\n    tmpStr <span class=\"token operator\">:=</span> <span class=\"token string\">\"\"</span>\n    result <span class=\"token operator\">:=</span> <span class=\"token function\">make</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token builtin\">rune</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">for</span> <span class=\"token boolean\">_</span><span class=\"token punctuation\">,</span> r <span class=\"token operator\">:=</span> <span class=\"token keyword\">range</span> originalText <span class=\"token punctuation\">{</span>\n        tmpStr <span class=\"token operator\">=</span> tmpStr <span class=\"token operator\">+</span> <span class=\"token function\">string</span><span class=\"token punctuation\">(</span>r<span class=\"token punctuation\">)</span>\n        w<span class=\"token punctuation\">,</span> <span class=\"token boolean\">_</span> <span class=\"token operator\">:=</span> dc<span class=\"token punctuation\">.</span><span class=\"token function\">MeasureString</span><span class=\"token punctuation\">(</span>tmpStr<span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">if</span> w <span class=\"token operator\">></span> maxTextWidth <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">if</span> <span class=\"token function\">len</span><span class=\"token punctuation\">(</span>tmpStr<span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;=</span> <span class=\"token number\">1</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">return</span> <span class=\"token string\">\"\"</span>\n            <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">break</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n            result <span class=\"token operator\">=</span> <span class=\"token function\">append</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">,</span> r<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">return</span> <span class=\"token function\">string</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p></p>\n<p></p>\n<pre class=\" language-go\"><code class=\"language-go\"><span class=\"token comment\" spellcheck=\"true\">//</span>\n<span class=\"token keyword\">if</span> line <span class=\"token operator\">==</span> maxLine <span class=\"token punctuation\">{</span>\n    sw<span class=\"token punctuation\">,</span> <span class=\"token boolean\">_</span> <span class=\"token operator\">:=</span> dc<span class=\"token punctuation\">.</span><span class=\"token function\">MeasureString</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">)</span>\n    <span class=\"token comment\" spellcheck=\"true\">// </span>\n    <span class=\"token keyword\">if</span> sw <span class=\"token operator\">></span> maxTextWidth <span class=\"token punctuation\">{</span>\n        maxTextWidth <span class=\"token operator\">-=</span> ellipsisWidth\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\nlineText <span class=\"token operator\">:=</span> <span class=\"token function\">TruncateText</span><span class=\"token punctuation\">(</span>dc<span class=\"token punctuation\">,</span> s<span class=\"token punctuation\">,</span> maxTextWidth<span class=\"token punctuation\">)</span>\n<span class=\"token comment\" spellcheck=\"true\">// </span>\n<span class=\"token keyword\">if</span> line <span class=\"token operator\">==</span> maxLine <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">len</span><span class=\"token punctuation\">(</span>lineText<span class=\"token punctuation\">)</span> <span class=\"token operator\">&lt;</span> <span class=\"token function\">len</span><span class=\"token punctuation\">(</span>s<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    lineText <span class=\"token operator\">+=</span> <span class=\"token string\">\"...\"</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p>XY<code>dc.FontHeight()*float64(len(lineTexts)) - lineSpace*float64(len(lineTexts)-1))</code> 2</p>\n<pre class=\" language-go\"><code class=\"language-go\">lineY <span class=\"token operator\">:=</span> <span class=\"token punctuation\">(</span>S <span class=\"token operator\">-</span> dc<span class=\"token punctuation\">.</span><span class=\"token function\">FontHeight</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">*</span><span class=\"token function\">float64</span><span class=\"token punctuation\">(</span><span class=\"token function\">len</span><span class=\"token punctuation\">(</span>lineTexts<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> lineSpace<span class=\"token operator\">*</span><span class=\"token function\">float64</span><span class=\"token punctuation\">(</span><span class=\"token function\">len</span><span class=\"token punctuation\">(</span>lineTexts<span class=\"token punctuation\">)</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token number\">2</span></code></pre>\n<p>XY</p>\n<pre class=\" language-go\"><code class=\"language-go\">lineY <span class=\"token operator\">+=</span> dc<span class=\"token punctuation\">.</span><span class=\"token function\">FontHeight</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">for</span> <span class=\"token boolean\">_</span><span class=\"token punctuation\">,</span> text <span class=\"token operator\">:=</span> <span class=\"token keyword\">range</span> lineTexts <span class=\"token punctuation\">{</span>\n    sWidth<span class=\"token punctuation\">,</span> <span class=\"token boolean\">_</span> <span class=\"token operator\">:=</span> dc<span class=\"token punctuation\">.</span><span class=\"token function\">MeasureString</span><span class=\"token punctuation\">(</span>text<span class=\"token punctuation\">)</span>\n    lineX <span class=\"token operator\">:=</span> <span class=\"token punctuation\">(</span>S <span class=\"token operator\">-</span> sWidth<span class=\"token punctuation\">)</span> <span class=\"token operator\">/</span> <span class=\"token number\">2</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">DrawString</span><span class=\"token punctuation\">(</span>text<span class=\"token punctuation\">,</span> lineX<span class=\"token punctuation\">,</span> lineY<span class=\"token punctuation\">)</span>\n    lineY <span class=\"token operator\">+=</span> dc<span class=\"token punctuation\">.</span><span class=\"token function\">FontHeight</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> lineSpace\n<span class=\"token punctuation\">}</span></code></pre>\n<p></p>\n<p><img src=\"10.png\" alt=\"\"></p>\n<p></p>\n<p>gg<code>DrawStringAnchored()</code>  <code>DrawStringWrapped()</code></p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> <code>DrawString()</code>  <code>MeasureString()</code> </p>\n<p></p>\n<script>\n        document.querySelectorAll('.github-emoji')\n          .forEach(el => {\n            if (!el.dataset.src) { return; }\n            const img = document.createElement('img');\n            img.style = 'display:none !important;';\n            img.src = el.dataset.src;\n            img.addEventListener('error', () => {\n              img.remove();\n              el.style.color = 'inherit';\n              el.style.backgroundImage = 'none';\n              el.style.background = 'none';\n            });\n            img.addEventListener('load', () => {\n              img.remove();\n            });\n            document.body.appendChild(img);\n          });\n      </script>","site":{"data":{"friends":[{"avatar":"https://draveness.me/images/draven-logo.png","name":"","introduction":"","url":"https://draveness.me/","title":""}]}},"excerpt":"","more":"<p>gg</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<pre><code class=\"go\">package main\n\nimport &quot;github.com/fogleman/gg&quot;\n\nfunc main() {\n    const S = 1024\n    dc := gg.NewContext(S, S)\n    dc.SetRGB(0, 1, 1)\n    dc.Clear()\n    dc.SavePNG(&quot;out.png&quot;)\n}</code></pre>\n<p></p>\n<p><img src=\"1.png\" alt=\"\"></p>\n<p></p>\n<pre><code class=\"go\">func TestRotateImage(t *testing.T) {\n    width := 1000\n    height := 1000\n\n    dc := gg.NewContext(width, height)\n    dc.DrawRectangle(0, 0, float64(width), float64(width))\n    dc.SetRGB255(255, 255, 0)\n    dc.Fill()\n    dc.SavePNG(&quot;test.png&quot;)\n}</code></pre>\n<p> <code>Clear()</code> </p>\n<p> <code>Clear()</code>  <code>draw.Draw()</code> go <code>image</code> <code>Clear()</code> <code>draw.Draw()</code> </p>\n<pre><code class=\"go\">// Clear fills the entire image with the current color.\nfunc (dc *Context) Clear() {\n    src := image.NewUniform(dc.color)\n    draw.Draw(dc.im, dc.im.Bounds(), src, image.ZP, draw.Src)\n}</code></pre>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<pre><code class=\"go\">package main\n\nimport &quot;github.com/fogleman/gg&quot;\n\nfunc main() {\n    const S = 1024\n    dc := gg.NewContext(S, S)\n    dc.SetRGB(0, 1, 1)\n    dc.Clear()\n    dc.SetRGB(0, 0, 0)\n    if err := dc.LoadFontFace(&quot;gilmer-heavy.ttf&quot;, 120); err != nil {\n        panic(err)\n    }\n    dc.DrawString(&quot;Hello, world!&quot;, 0, S/2)\n    dc.SavePNG(&quot;out.png&quot;)\n}</code></pre>\n<p>Hello, World!</p>\n<p><img src=\"2.png\" alt=\"\"></p>\n<p></p>\n<pre><code class=\"go\">dc.SetRGB(0, 0, 0)</code></pre>\n<p> <code>LoadFontFace()</code>  <code>ttf</code>  <code>true type font</code></p>\n<pre><code class=\"go\">if err := dc.LoadFontFace(&quot;gilmer-heavy.ttf&quot;, 120); err != nil {\n    panic(err)\n}</code></pre>\n<p></p>\n<pre><code class=\"go\">func (dc *Context) LoadFontFace(path string, points float64) error {\n    face, err := LoadFontFace(path, points)\n    if err == nil {\n        dc.fontFace = face\n        dc.fontHeight = points * 72 / 96\n    }\n    return err\n}</code></pre>\n<p> <code>LoadFontFace()</code>  <code>freetype</code> <code>Parse()</code> <code>NewFace()</code>  <code>font.Face</code> <code>LoadFontFace()</code> <code>fontFace</code> <code>point</code></p>\n<p><code>72</code><code>96</code>(<code>points</code>) <code>1/72</code><code>96DPI</code>96<code>72/96</code>=<code>0.75</code></p>\n<pre><code class=\"go\">func LoadFontFace(path string, points float64) (font.Face, error) {\n    fontBytes, err := ioutil.ReadFile(path)\n    if err != nil {\n        return nil, err\n    }\n    f, err := truetype.Parse(fontBytes)\n    if err != nil {\n        return nil, err\n    }\n    face := truetype.NewFace(f, &amp;truetype.Options{\n        Size: points,\n        // Hinting: font.HintingFull,\n    })\n    return face, nil\n}</code></pre>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><code>LoadFontFace()</code> </p>\n<pre><code class=\"go\">if err := dc.LoadFontFace(&quot;gilmer-heavy.ttf&quot;, 240); err != nil {\n    panic(err)\n}</code></pre>\n<p><img src=\"3.png\" alt=\"\"></p>\n<p><code>dc.DrawString(&quot;Hello, world!&quot;, 0, S/2)</code> <code>(0, S/2)</code> <strong></strong></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> <code>Hello,World!</code> </p>\n<pre><code class=\"go\">if err := dc.LoadFontFace(&quot;gilmer-heavy.ttf&quot;, 120); err != nil {\n    panic(err)\n}\ndc.DrawString(&quot;Hello, world!&quot;, 130, S/2)</code></pre>\n<p><img src=\"4.png\" alt=\"\"></p>\n<p><code>120</code><code>x</code><code>130</code></p>\n<p><code>MeasureString()</code>  <code>points * 72 / 96</code> <code>((S-sWidth)/2, (S+sHeight)/2)</code>y<code>(S+sHeight)/2</code>y<code>(S-sHeight)/2</code></p>\n<pre><code class=\"go\">s := &quot;Hello, world!&quot;\nsWidth, sHeight := dc.MeasureString(s)\ndc.DrawString(s, (S-sWidth)/2, (S+sHeight)/2)</code></pre>\n<p><img src=\"5.png\" alt=\"\"></p>\n<p></p>\n<pre><code class=\"go\">s := &quot;Hello,world! Hello,ByteDancer!&quot;</code></pre>\n<p><img src=\"6.png\" alt=\"\"></p>\n<p></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<p></p>\n<p><code>0.75</code></p>\n<pre><code class=\"go\">maxTextWidth := S * 0.75</code></pre>\n<p></p>\n<pre><code class=\"go\">func TruncateText(dc *gg.Context, originalText string, maxTextWidth float64) string {\n    tmpStr := &quot;&quot;\n    for i := 0; i &lt; len(originalText); i++ {\n        tmpStr = tmpStr + string(originalText[i])\n        w, _ := dc.MeasureString(tmpStr)\n        if w &gt; maxTextWidth {\n            return tmpStr[0 : i-1]\n        }\n    }\n    return tmpStr\n}</code></pre>\n<p></p>\n<pre><code class=\"go\">func main() {\n    const S = 1024\n    dc := gg.NewContext(S, S)\n    dc.SetRGB(0, 1, 1)\n    dc.Clear()\n    dc.SetRGB(0, 0, 0)\n    if err := dc.LoadFontFace(&quot;gilmer-heavy.ttf&quot;, 120); err != nil {\n        panic(err)\n    }\n    s := &quot;Hello,world! Hello,ByteDancer!&quot;\n    ellipsisWidth, _ := dc.MeasureString(&quot;...&quot;)\n    maxTextWidth := S * 0.75\n    s = TruncateText(dc, s, maxTextWidth - ellipsisWidth) + &quot;...&quot;\n    fmt.Println(s)\n    sWidth, sHeight := dc.MeasureString(s)\n\n    dc.DrawString(s, (S-sWidth)/2, (S+sHeight)/2)\n    dc.SavePNG(&quot;out.png&quot;)\n}</code></pre>\n<p></p>\n<p><img src=\"7.png\" alt=\"\"></p>\n<p></p>\n<pre><code class=\"go\">if err := dc.LoadFontFace(&quot;.ttf&quot;, 120); err != nil {\n    panic(err)\n}\ns := &quot;&quot;</code></pre>\n<p></p>\n<p><img src=\"8.png\" alt=\"\"></p>\n<p><code>rune</code> <code>for range</code> </p>\n<pre><code class=\"go\">func TruncateText(dc *gg.Context, originalText string, maxTextWidth float64) string {\n    tmpStr := &quot;&quot;\n    result := make([]rune, 0)\n    for _, r := range originalText {\n        tmpStr = tmpStr + string(r)\n        w, _ := dc.MeasureString(tmpStr)\n        if w &gt; maxTextWidth {\n            if len(tmpStr) &lt;= 1 {\n                return &quot;&quot;\n            } else {\n                break\n            }\n        } else {\n            result = append(result, r)\n        }\n    }\n    return string(result)\n}</code></pre>\n<p></p>\n<p><img src=\"9.png\" alt=\"\"></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<pre><code class=\"go\">package main\n\nimport (\n    &quot;github.com/fogleman/gg&quot;\n    &quot;strings&quot;\n)\n\nfunc main() {\n    const S = 1024\n    dc := gg.NewContext(S, S)\n    dc.SetRGB(0, 1, 1)\n    dc.Clear()\n    dc.SetRGB(0, 0, 0)\n    if err := dc.LoadFontFace(&quot;/Users/bytedance/Downloads/.ttf&quot;, 120); err != nil {\n        panic(err)\n    }\n    s := &quot;        --&quot;\n    ellipsisWidth, _ := dc.MeasureString(&quot;...&quot;)\n\n    maxTextWidth := S * 0.9\n    lineSpace := 25.0\n    maxLine := int(S / (dc.FontHeight() + lineSpace))\n\n    line := 0\n    lineTexts := make([]string, 0)\n    for len(s) &gt; 0 {\n        line++\n        if line &gt; maxLine {\n            break\n        }\n        if line == maxLine {\n            sw, _ := dc.MeasureString(s)\n            if sw &gt; maxTextWidth {\n                maxTextWidth -= ellipsisWidth\n            }\n        }\n        lineText := TruncateText(dc, s, maxTextWidth)\n        if line == maxLine &amp;&amp; len(lineText) &lt; len(s) {\n            lineText += &quot;...&quot;\n        }\n        lineTexts = append(lineTexts, lineText)\n        if len(lineText) &gt;= len(s) {\n            break\n        }\n        s = s[len(lineText):]\n    }\n\n    lineY := (S - dc.FontHeight()*float64(len(lineTexts)) - lineSpace*float64(len(lineTexts)-1)) / 2\n    lineY += dc.FontHeight()\n    for _, text := range lineTexts {\n        sWidth, _ := dc.MeasureString(text)\n        lineX := (S - sWidth) / 2\n        dc.DrawString(text, lineX, lineY)\n        lineY += dc.FontHeight() + lineSpace\n    }\n\n    dc.SavePNG(&quot;out.png&quot;)\n}\n\nfunc TruncateText(dc *gg.Context, originalText string, maxTextWidth float64) string {\n    tmpStr := &quot;&quot;\n    result := make([]rune, 0)\n    for _, r := range originalText {\n        tmpStr = tmpStr + string(r)\n        w, _ := dc.MeasureString(tmpStr)\n        if w &gt; maxTextWidth {\n            if len(tmpStr) &lt;= 1 {\n                return &quot;&quot;\n            } else {\n                break\n            }\n        } else {\n            result = append(result, r)\n        }\n    }\n    return string(result)\n}</code></pre>\n<p></p>\n<p></p>\n<pre><code class=\"go\">//\nif line == maxLine {\n    sw, _ := dc.MeasureString(s)\n    // \n    if sw &gt; maxTextWidth {\n        maxTextWidth -= ellipsisWidth\n    }\n}\nlineText := TruncateText(dc, s, maxTextWidth)\n// \nif line == maxLine &amp;&amp; len(lineText) &lt; len(s) {\n    lineText += &quot;...&quot;\n}</code></pre>\n<p>XY<code>dc.FontHeight()*float64(len(lineTexts)) - lineSpace*float64(len(lineTexts)-1))</code> 2</p>\n<pre><code class=\"go\">lineY := (S - dc.FontHeight()*float64(len(lineTexts)) - lineSpace*float64(len(lineTexts)-1)) / 2</code></pre>\n<p>XY</p>\n<pre><code class=\"go\">lineY += dc.FontHeight()\nfor _, text := range lineTexts {\n    sWidth, _ := dc.MeasureString(text)\n    lineX := (S - sWidth) / 2\n    dc.DrawString(text, lineX, lineY)\n    lineY += dc.FontHeight() + lineSpace\n}</code></pre>\n<p></p>\n<p><img src=\"10.png\" alt=\"\"></p>\n<p></p>\n<p>gg<code>DrawStringAnchored()</code>  <code>DrawStringWrapped()</code></p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> <code>DrawString()</code>  <code>MeasureString()</code> </p>\n<p></p>\n"},{"title":"Go","toc":true,"top":true,"cover":true,"date":"2020-12-16T14:50:00.000Z","_content":"\ngg\n\n## \n\n\n\n```go\nfunc TestRotateImage(t *testing.T) {\n\twidth := 1000\n\theight := 1000\n\n\tdc := gg.NewContext(width, height)\n\tdc.DrawRectangle(0, 0, float64(width), float64(width))\n\tdc.SetRGB255(255, 255, 0)\n\tdc.Fill()\n\tdc.SavePNG(\"test.png\")\n}\n```\n\n![](1.png)\n\n\n\n![](2.png)\n\n```go\nfunc TestRotateImage(t *testing.T) {\n\tim, err := gg.LoadImage(\"/Users/bytedance/Desktop/test.png\")\n\tif err != nil {\n\t\tpanic(err)\n\t}\n\tw := im.Bounds().Size().X\n\th := im.Bounds().Size().Y\n\n\twidth := 2 * w\n\theight := 2 * h\n\n\tdc := gg.NewContext(width, height)\n\tdc.DrawRectangle(0, 0, float64(width), float64(width))\n\tdc.SetRGB255(255, 255, 0)\n\tdc.Fill()\n\n\tdc.DrawImage(im, width/4, height/4)\n\tdc.SavePNG(\"test.png\")\n}\n```\n\n2\n\n```go\nwidth := 2 * w\nheight := 2 * h\n\ndc := gg.NewContext(width, height)\n```\n\n\n\n```go\ndc.DrawRectangle(0, 0, float64(2*h), float64(2*w))\ndc.SetRGB255(255, 255, 0)\ndc.Fill()\n```\n\n `setRGB()` RGB `SetRGB255()` RGB\n\n`(w/4,h/4)` \n\n```go\ndc.DrawImage(im, width/4, height/4)\n```\n\n\n\n![](3.png)\n\n## \n\n\n\n```go\nfunc TestRotateImage(t *testing.T) {\n\tim, err := gg.LoadImage(\"/Users/bytedance/Desktop/test.png\")\n\tif err != nil {\n\t\tpanic(err)\n\t}\n\tw := im.Bounds().Size().X\n\th := im.Bounds().Size().Y\n\n\twidth := 2 * w\n\theight := 2 * h\n\n\tdc := gg.NewContext(width, height)\n\tdc.DrawRectangle(0, 0, float64(width), float64(width))\n\tdc.SetRGB255(255, 255, 0)\n\tdc.Fill()\n\n\tdc.Rotate(45)\n\tdc.DrawImage(im, width/4, height/4)\n\tdc.SavePNG(\"test.png\")\n}\n```\n\n `Rotate()` 45\n\n![](4.png)\n\n`RotateAbout()` \n\n```go\nfunc TestRotateImage(t *testing.T) {\n\tim, err := gg.LoadImage(\"/Users/bytedance/Desktop/test.png\")\n\tif err != nil {\n\t\tpanic(err)\n\t}\n\tw := im.Bounds().Size().X\n\th := im.Bounds().Size().Y\n\n\twidth := 2 * w\n\theight := 2 * h\n\n\tdc := gg.NewContext(width, height)\n\tdc.DrawRectangle(0, 0, float64(width), float64(width))\n\tdc.SetRGB255(255, 255, 0)\n\tdc.Fill()\n\n\tdc.RotateAbout(45, float64(width/2), float64(height/2))\n\tdc.DrawImage(im, width/4, height/4)\n\tdc.SavePNG(\"test.png\")\n}\n```\n\n![](5.png)\n\n45\n\n```\n// RotateAbout updates the current matrix with a clockwise rotation.\n// Rotation occurs about the specified point. Angle is specified in radians.\n```\n\n45\n\n```go\nfunc TestRotateImage(t *testing.T) {\n\tim, err := gg.LoadImage(\"/Users/bytedance/Desktop/test.png\")\n\tif err != nil {\n\t\tpanic(err)\n\t}\n\tw := im.Bounds().Size().X\n\th := im.Bounds().Size().Y\n\n\twidth := 2 * w\n\theight := 2 * h\n\n\tdc := gg.NewContext(width, height)\n\tdc.DrawRectangle(0, 0, float64(width), float64(width))\n\tdc.SetRGB255(255, 255, 0)\n\tdc.Fill()\n\n\tdc.RotateAbout(gg.Radians(45), float64(width/2), float64(height/2))\n\tdc.DrawImage(im, width/4, height/4)\n\tdc.SavePNG(\"test.png\")\n}\n```\n\n![](6.png)\n\n\n\n## \n\n `Rotate()`  `RotateAbout()` \n\n1. \n2. `Rotate` \n3. \n\n\n\n![](7.png)\n","source":"_posts/picture/go-pic-rotate-use-gg-package.md","raw":"---\ntitle: Go\ntags:\n  - go\ncategories:\n  - \ntoc: true\ntop: true\ncover: true\ndate: 2020-12-16 22:50:00\n---\n\ngg\n\n## \n\n\n\n```go\nfunc TestRotateImage(t *testing.T) {\n\twidth := 1000\n\theight := 1000\n\n\tdc := gg.NewContext(width, height)\n\tdc.DrawRectangle(0, 0, float64(width), float64(width))\n\tdc.SetRGB255(255, 255, 0)\n\tdc.Fill()\n\tdc.SavePNG(\"test.png\")\n}\n```\n\n![](1.png)\n\n\n\n![](2.png)\n\n```go\nfunc TestRotateImage(t *testing.T) {\n\tim, err := gg.LoadImage(\"/Users/bytedance/Desktop/test.png\")\n\tif err != nil {\n\t\tpanic(err)\n\t}\n\tw := im.Bounds().Size().X\n\th := im.Bounds().Size().Y\n\n\twidth := 2 * w\n\theight := 2 * h\n\n\tdc := gg.NewContext(width, height)\n\tdc.DrawRectangle(0, 0, float64(width), float64(width))\n\tdc.SetRGB255(255, 255, 0)\n\tdc.Fill()\n\n\tdc.DrawImage(im, width/4, height/4)\n\tdc.SavePNG(\"test.png\")\n}\n```\n\n2\n\n```go\nwidth := 2 * w\nheight := 2 * h\n\ndc := gg.NewContext(width, height)\n```\n\n\n\n```go\ndc.DrawRectangle(0, 0, float64(2*h), float64(2*w))\ndc.SetRGB255(255, 255, 0)\ndc.Fill()\n```\n\n `setRGB()` RGB `SetRGB255()` RGB\n\n`(w/4,h/4)` \n\n```go\ndc.DrawImage(im, width/4, height/4)\n```\n\n\n\n![](3.png)\n\n## \n\n\n\n```go\nfunc TestRotateImage(t *testing.T) {\n\tim, err := gg.LoadImage(\"/Users/bytedance/Desktop/test.png\")\n\tif err != nil {\n\t\tpanic(err)\n\t}\n\tw := im.Bounds().Size().X\n\th := im.Bounds().Size().Y\n\n\twidth := 2 * w\n\theight := 2 * h\n\n\tdc := gg.NewContext(width, height)\n\tdc.DrawRectangle(0, 0, float64(width), float64(width))\n\tdc.SetRGB255(255, 255, 0)\n\tdc.Fill()\n\n\tdc.Rotate(45)\n\tdc.DrawImage(im, width/4, height/4)\n\tdc.SavePNG(\"test.png\")\n}\n```\n\n `Rotate()` 45\n\n![](4.png)\n\n`RotateAbout()` \n\n```go\nfunc TestRotateImage(t *testing.T) {\n\tim, err := gg.LoadImage(\"/Users/bytedance/Desktop/test.png\")\n\tif err != nil {\n\t\tpanic(err)\n\t}\n\tw := im.Bounds().Size().X\n\th := im.Bounds().Size().Y\n\n\twidth := 2 * w\n\theight := 2 * h\n\n\tdc := gg.NewContext(width, height)\n\tdc.DrawRectangle(0, 0, float64(width), float64(width))\n\tdc.SetRGB255(255, 255, 0)\n\tdc.Fill()\n\n\tdc.RotateAbout(45, float64(width/2), float64(height/2))\n\tdc.DrawImage(im, width/4, height/4)\n\tdc.SavePNG(\"test.png\")\n}\n```\n\n![](5.png)\n\n45\n\n```\n// RotateAbout updates the current matrix with a clockwise rotation.\n// Rotation occurs about the specified point. Angle is specified in radians.\n```\n\n45\n\n```go\nfunc TestRotateImage(t *testing.T) {\n\tim, err := gg.LoadImage(\"/Users/bytedance/Desktop/test.png\")\n\tif err != nil {\n\t\tpanic(err)\n\t}\n\tw := im.Bounds().Size().X\n\th := im.Bounds().Size().Y\n\n\twidth := 2 * w\n\theight := 2 * h\n\n\tdc := gg.NewContext(width, height)\n\tdc.DrawRectangle(0, 0, float64(width), float64(width))\n\tdc.SetRGB255(255, 255, 0)\n\tdc.Fill()\n\n\tdc.RotateAbout(gg.Radians(45), float64(width/2), float64(height/2))\n\tdc.DrawImage(im, width/4, height/4)\n\tdc.SavePNG(\"test.png\")\n}\n```\n\n![](6.png)\n\n\n\n## \n\n `Rotate()`  `RotateAbout()` \n\n1. \n2. `Rotate` \n3. \n\n\n\n![](7.png)\n","slug":"picture/go-pic-rotate-use-gg-package","published":1,"updated":"2020-12-16T14:50:00.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cl70rsfbh000t5ohubzf01mj3","content":"<p>gg</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<pre class=\" language-go\"><code class=\"language-go\"><span class=\"token keyword\">func</span> <span class=\"token function\">TestRotateImage</span><span class=\"token punctuation\">(</span>t <span class=\"token operator\">*</span>testing<span class=\"token punctuation\">.</span>T<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    width <span class=\"token operator\">:=</span> <span class=\"token number\">1000</span>\n    height <span class=\"token operator\">:=</span> <span class=\"token number\">1000</span>\n\n    dc <span class=\"token operator\">:=</span> gg<span class=\"token punctuation\">.</span><span class=\"token function\">NewContext</span><span class=\"token punctuation\">(</span>width<span class=\"token punctuation\">,</span> height<span class=\"token punctuation\">)</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">DrawRectangle</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token function\">float64</span><span class=\"token punctuation\">(</span>width<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token function\">float64</span><span class=\"token punctuation\">(</span>width<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">SetRGB255</span><span class=\"token punctuation\">(</span><span class=\"token number\">255</span><span class=\"token punctuation\">,</span> <span class=\"token number\">255</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">Fill</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">SavePNG</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"test.png\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p><img src=\"1.png\" alt=\"\"></p>\n<p></p>\n<p><img src=\"2.png\" alt=\"\"></p>\n<pre class=\" language-go\"><code class=\"language-go\"><span class=\"token keyword\">func</span> <span class=\"token function\">TestRotateImage</span><span class=\"token punctuation\">(</span>t <span class=\"token operator\">*</span>testing<span class=\"token punctuation\">.</span>T<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    im<span class=\"token punctuation\">,</span> err <span class=\"token operator\">:=</span> gg<span class=\"token punctuation\">.</span><span class=\"token function\">LoadImage</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/Users/bytedance/Desktop/test.png\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">if</span> err <span class=\"token operator\">!=</span> <span class=\"token boolean\">nil</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">panic</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n    w <span class=\"token operator\">:=</span> im<span class=\"token punctuation\">.</span><span class=\"token function\">Bounds</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">Size</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>X\n    h <span class=\"token operator\">:=</span> im<span class=\"token punctuation\">.</span><span class=\"token function\">Bounds</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">Size</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>Y\n\n    width <span class=\"token operator\">:=</span> <span class=\"token number\">2</span> <span class=\"token operator\">*</span> w\n    height <span class=\"token operator\">:=</span> <span class=\"token number\">2</span> <span class=\"token operator\">*</span> h\n\n    dc <span class=\"token operator\">:=</span> gg<span class=\"token punctuation\">.</span><span class=\"token function\">NewContext</span><span class=\"token punctuation\">(</span>width<span class=\"token punctuation\">,</span> height<span class=\"token punctuation\">)</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">DrawRectangle</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token function\">float64</span><span class=\"token punctuation\">(</span>width<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token function\">float64</span><span class=\"token punctuation\">(</span>width<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">SetRGB255</span><span class=\"token punctuation\">(</span><span class=\"token number\">255</span><span class=\"token punctuation\">,</span> <span class=\"token number\">255</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">Fill</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">DrawImage</span><span class=\"token punctuation\">(</span>im<span class=\"token punctuation\">,</span> width<span class=\"token operator\">/</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span> height<span class=\"token operator\">/</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">SavePNG</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"test.png\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p>2</p>\n<pre class=\" language-go\"><code class=\"language-go\">width <span class=\"token operator\">:=</span> <span class=\"token number\">2</span> <span class=\"token operator\">*</span> w\nheight <span class=\"token operator\">:=</span> <span class=\"token number\">2</span> <span class=\"token operator\">*</span> h\n\ndc <span class=\"token operator\">:=</span> gg<span class=\"token punctuation\">.</span><span class=\"token function\">NewContext</span><span class=\"token punctuation\">(</span>width<span class=\"token punctuation\">,</span> height<span class=\"token punctuation\">)</span></code></pre>\n<p></p>\n<pre class=\" language-go\"><code class=\"language-go\">dc<span class=\"token punctuation\">.</span><span class=\"token function\">DrawRectangle</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token function\">float64</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token operator\">*</span>h<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token function\">float64</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token operator\">*</span>w<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\ndc<span class=\"token punctuation\">.</span><span class=\"token function\">SetRGB255</span><span class=\"token punctuation\">(</span><span class=\"token number\">255</span><span class=\"token punctuation\">,</span> <span class=\"token number\">255</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\ndc<span class=\"token punctuation\">.</span><span class=\"token function\">Fill</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></code></pre>\n<p> <code>setRGB()</code> RGB <code>SetRGB255()</code> RGB</p>\n<p><code>(w/4,h/4)</code> </p>\n<pre class=\" language-go\"><code class=\"language-go\">dc<span class=\"token punctuation\">.</span><span class=\"token function\">DrawImage</span><span class=\"token punctuation\">(</span>im<span class=\"token punctuation\">,</span> width<span class=\"token operator\">/</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span> height<span class=\"token operator\">/</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span></code></pre>\n<p></p>\n<p><img src=\"3.png\" alt=\"\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<pre class=\" language-go\"><code class=\"language-go\"><span class=\"token keyword\">func</span> <span class=\"token function\">TestRotateImage</span><span class=\"token punctuation\">(</span>t <span class=\"token operator\">*</span>testing<span class=\"token punctuation\">.</span>T<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    im<span class=\"token punctuation\">,</span> err <span class=\"token operator\">:=</span> gg<span class=\"token punctuation\">.</span><span class=\"token function\">LoadImage</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/Users/bytedance/Desktop/test.png\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">if</span> err <span class=\"token operator\">!=</span> <span class=\"token boolean\">nil</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">panic</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n    w <span class=\"token operator\">:=</span> im<span class=\"token punctuation\">.</span><span class=\"token function\">Bounds</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">Size</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>X\n    h <span class=\"token operator\">:=</span> im<span class=\"token punctuation\">.</span><span class=\"token function\">Bounds</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">Size</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>Y\n\n    width <span class=\"token operator\">:=</span> <span class=\"token number\">2</span> <span class=\"token operator\">*</span> w\n    height <span class=\"token operator\">:=</span> <span class=\"token number\">2</span> <span class=\"token operator\">*</span> h\n\n    dc <span class=\"token operator\">:=</span> gg<span class=\"token punctuation\">.</span><span class=\"token function\">NewContext</span><span class=\"token punctuation\">(</span>width<span class=\"token punctuation\">,</span> height<span class=\"token punctuation\">)</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">DrawRectangle</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token function\">float64</span><span class=\"token punctuation\">(</span>width<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token function\">float64</span><span class=\"token punctuation\">(</span>width<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">SetRGB255</span><span class=\"token punctuation\">(</span><span class=\"token number\">255</span><span class=\"token punctuation\">,</span> <span class=\"token number\">255</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">Fill</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">Rotate</span><span class=\"token punctuation\">(</span><span class=\"token number\">45</span><span class=\"token punctuation\">)</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">DrawImage</span><span class=\"token punctuation\">(</span>im<span class=\"token punctuation\">,</span> width<span class=\"token operator\">/</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span> height<span class=\"token operator\">/</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">SavePNG</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"test.png\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p> <code>Rotate()</code> 45</p>\n<p><img src=\"4.png\" alt=\"\"></p>\n<p><code>RotateAbout()</code> </p>\n<pre class=\" language-go\"><code class=\"language-go\"><span class=\"token keyword\">func</span> <span class=\"token function\">TestRotateImage</span><span class=\"token punctuation\">(</span>t <span class=\"token operator\">*</span>testing<span class=\"token punctuation\">.</span>T<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    im<span class=\"token punctuation\">,</span> err <span class=\"token operator\">:=</span> gg<span class=\"token punctuation\">.</span><span class=\"token function\">LoadImage</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/Users/bytedance/Desktop/test.png\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">if</span> err <span class=\"token operator\">!=</span> <span class=\"token boolean\">nil</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">panic</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n    w <span class=\"token operator\">:=</span> im<span class=\"token punctuation\">.</span><span class=\"token function\">Bounds</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">Size</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>X\n    h <span class=\"token operator\">:=</span> im<span class=\"token punctuation\">.</span><span class=\"token function\">Bounds</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">Size</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>Y\n\n    width <span class=\"token operator\">:=</span> <span class=\"token number\">2</span> <span class=\"token operator\">*</span> w\n    height <span class=\"token operator\">:=</span> <span class=\"token number\">2</span> <span class=\"token operator\">*</span> h\n\n    dc <span class=\"token operator\">:=</span> gg<span class=\"token punctuation\">.</span><span class=\"token function\">NewContext</span><span class=\"token punctuation\">(</span>width<span class=\"token punctuation\">,</span> height<span class=\"token punctuation\">)</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">DrawRectangle</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token function\">float64</span><span class=\"token punctuation\">(</span>width<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token function\">float64</span><span class=\"token punctuation\">(</span>width<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">SetRGB255</span><span class=\"token punctuation\">(</span><span class=\"token number\">255</span><span class=\"token punctuation\">,</span> <span class=\"token number\">255</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">Fill</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">RotateAbout</span><span class=\"token punctuation\">(</span><span class=\"token number\">45</span><span class=\"token punctuation\">,</span> <span class=\"token function\">float64</span><span class=\"token punctuation\">(</span>width<span class=\"token operator\">/</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token function\">float64</span><span class=\"token punctuation\">(</span>height<span class=\"token operator\">/</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">DrawImage</span><span class=\"token punctuation\">(</span>im<span class=\"token punctuation\">,</span> width<span class=\"token operator\">/</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span> height<span class=\"token operator\">/</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">SavePNG</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"test.png\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p><img src=\"5.png\" alt=\"\"></p>\n<p>45</p>\n<pre><code>// RotateAbout updates the current matrix with a clockwise rotation.\n// Rotation occurs about the specified point. Angle is specified in radians.</code></pre><p>45</p>\n<pre class=\" language-go\"><code class=\"language-go\"><span class=\"token keyword\">func</span> <span class=\"token function\">TestRotateImage</span><span class=\"token punctuation\">(</span>t <span class=\"token operator\">*</span>testing<span class=\"token punctuation\">.</span>T<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    im<span class=\"token punctuation\">,</span> err <span class=\"token operator\">:=</span> gg<span class=\"token punctuation\">.</span><span class=\"token function\">LoadImage</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/Users/bytedance/Desktop/test.png\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">if</span> err <span class=\"token operator\">!=</span> <span class=\"token boolean\">nil</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">panic</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n    w <span class=\"token operator\">:=</span> im<span class=\"token punctuation\">.</span><span class=\"token function\">Bounds</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">Size</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>X\n    h <span class=\"token operator\">:=</span> im<span class=\"token punctuation\">.</span><span class=\"token function\">Bounds</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">Size</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>Y\n\n    width <span class=\"token operator\">:=</span> <span class=\"token number\">2</span> <span class=\"token operator\">*</span> w\n    height <span class=\"token operator\">:=</span> <span class=\"token number\">2</span> <span class=\"token operator\">*</span> h\n\n    dc <span class=\"token operator\">:=</span> gg<span class=\"token punctuation\">.</span><span class=\"token function\">NewContext</span><span class=\"token punctuation\">(</span>width<span class=\"token punctuation\">,</span> height<span class=\"token punctuation\">)</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">DrawRectangle</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token function\">float64</span><span class=\"token punctuation\">(</span>width<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token function\">float64</span><span class=\"token punctuation\">(</span>width<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">SetRGB255</span><span class=\"token punctuation\">(</span><span class=\"token number\">255</span><span class=\"token punctuation\">,</span> <span class=\"token number\">255</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">Fill</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">RotateAbout</span><span class=\"token punctuation\">(</span>gg<span class=\"token punctuation\">.</span><span class=\"token function\">Radians</span><span class=\"token punctuation\">(</span><span class=\"token number\">45</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token function\">float64</span><span class=\"token punctuation\">(</span>width<span class=\"token operator\">/</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token function\">float64</span><span class=\"token punctuation\">(</span>height<span class=\"token operator\">/</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">DrawImage</span><span class=\"token punctuation\">(</span>im<span class=\"token punctuation\">,</span> width<span class=\"token operator\">/</span><span class=\"token number\">4</span><span class=\"token punctuation\">,</span> height<span class=\"token operator\">/</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">SavePNG</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"test.png\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p><img src=\"6.png\" alt=\"\"></p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> <code>Rotate()</code>  <code>RotateAbout()</code> </p>\n<ol>\n<li></li>\n<li><code>Rotate</code> </li>\n<li></li>\n</ol>\n<p></p>\n<p><img src=\"7.png\" alt=\"\"></p>\n<script>\n        document.querySelectorAll('.github-emoji')\n          .forEach(el => {\n            if (!el.dataset.src) { return; }\n            const img = document.createElement('img');\n            img.style = 'display:none !important;';\n            img.src = el.dataset.src;\n            img.addEventListener('error', () => {\n              img.remove();\n              el.style.color = 'inherit';\n              el.style.backgroundImage = 'none';\n              el.style.background = 'none';\n            });\n            img.addEventListener('load', () => {\n              img.remove();\n            });\n            document.body.appendChild(img);\n          });\n      </script>","site":{"data":{"friends":[{"avatar":"https://draveness.me/images/draven-logo.png","name":"","introduction":"","url":"https://draveness.me/","title":""}]}},"excerpt":"","more":"<p>gg</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<pre><code class=\"go\">func TestRotateImage(t *testing.T) {\n    width := 1000\n    height := 1000\n\n    dc := gg.NewContext(width, height)\n    dc.DrawRectangle(0, 0, float64(width), float64(width))\n    dc.SetRGB255(255, 255, 0)\n    dc.Fill()\n    dc.SavePNG(&quot;test.png&quot;)\n}</code></pre>\n<p><img src=\"1.png\" alt=\"\"></p>\n<p></p>\n<p><img src=\"2.png\" alt=\"\"></p>\n<pre><code class=\"go\">func TestRotateImage(t *testing.T) {\n    im, err := gg.LoadImage(&quot;/Users/bytedance/Desktop/test.png&quot;)\n    if err != nil {\n        panic(err)\n    }\n    w := im.Bounds().Size().X\n    h := im.Bounds().Size().Y\n\n    width := 2 * w\n    height := 2 * h\n\n    dc := gg.NewContext(width, height)\n    dc.DrawRectangle(0, 0, float64(width), float64(width))\n    dc.SetRGB255(255, 255, 0)\n    dc.Fill()\n\n    dc.DrawImage(im, width/4, height/4)\n    dc.SavePNG(&quot;test.png&quot;)\n}</code></pre>\n<p>2</p>\n<pre><code class=\"go\">width := 2 * w\nheight := 2 * h\n\ndc := gg.NewContext(width, height)</code></pre>\n<p></p>\n<pre><code class=\"go\">dc.DrawRectangle(0, 0, float64(2*h), float64(2*w))\ndc.SetRGB255(255, 255, 0)\ndc.Fill()</code></pre>\n<p> <code>setRGB()</code> RGB <code>SetRGB255()</code> RGB</p>\n<p><code>(w/4,h/4)</code> </p>\n<pre><code class=\"go\">dc.DrawImage(im, width/4, height/4)</code></pre>\n<p></p>\n<p><img src=\"3.png\" alt=\"\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<pre><code class=\"go\">func TestRotateImage(t *testing.T) {\n    im, err := gg.LoadImage(&quot;/Users/bytedance/Desktop/test.png&quot;)\n    if err != nil {\n        panic(err)\n    }\n    w := im.Bounds().Size().X\n    h := im.Bounds().Size().Y\n\n    width := 2 * w\n    height := 2 * h\n\n    dc := gg.NewContext(width, height)\n    dc.DrawRectangle(0, 0, float64(width), float64(width))\n    dc.SetRGB255(255, 255, 0)\n    dc.Fill()\n\n    dc.Rotate(45)\n    dc.DrawImage(im, width/4, height/4)\n    dc.SavePNG(&quot;test.png&quot;)\n}</code></pre>\n<p> <code>Rotate()</code> 45</p>\n<p><img src=\"4.png\" alt=\"\"></p>\n<p><code>RotateAbout()</code> </p>\n<pre><code class=\"go\">func TestRotateImage(t *testing.T) {\n    im, err := gg.LoadImage(&quot;/Users/bytedance/Desktop/test.png&quot;)\n    if err != nil {\n        panic(err)\n    }\n    w := im.Bounds().Size().X\n    h := im.Bounds().Size().Y\n\n    width := 2 * w\n    height := 2 * h\n\n    dc := gg.NewContext(width, height)\n    dc.DrawRectangle(0, 0, float64(width), float64(width))\n    dc.SetRGB255(255, 255, 0)\n    dc.Fill()\n\n    dc.RotateAbout(45, float64(width/2), float64(height/2))\n    dc.DrawImage(im, width/4, height/4)\n    dc.SavePNG(&quot;test.png&quot;)\n}</code></pre>\n<p><img src=\"5.png\" alt=\"\"></p>\n<p>45</p>\n<pre><code>// RotateAbout updates the current matrix with a clockwise rotation.\n// Rotation occurs about the specified point. Angle is specified in radians.</code></pre><p>45</p>\n<pre><code class=\"go\">func TestRotateImage(t *testing.T) {\n    im, err := gg.LoadImage(&quot;/Users/bytedance/Desktop/test.png&quot;)\n    if err != nil {\n        panic(err)\n    }\n    w := im.Bounds().Size().X\n    h := im.Bounds().Size().Y\n\n    width := 2 * w\n    height := 2 * h\n\n    dc := gg.NewContext(width, height)\n    dc.DrawRectangle(0, 0, float64(width), float64(width))\n    dc.SetRGB255(255, 255, 0)\n    dc.Fill()\n\n    dc.RotateAbout(gg.Radians(45), float64(width/2), float64(height/2))\n    dc.DrawImage(im, width/4, height/4)\n    dc.SavePNG(&quot;test.png&quot;)\n}</code></pre>\n<p><img src=\"6.png\" alt=\"\"></p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> <code>Rotate()</code>  <code>RotateAbout()</code> </p>\n<ol>\n<li></li>\n<li><code>Rotate</code> </li>\n<li></li>\n</ol>\n<p></p>\n<p><img src=\"7.png\" alt=\"\"></p>\n"},{"title":"Go ","toc":true,"top":true,"cover":true,"date":"2021-08-01T11:48:23.000Z","_content":"\n## \n\n\n\n![](1.png)\n\nemmm\n\n\n\n![](2.png)\n\nlogo\n\n![](3.png)\n\n## \n\n\n\n\n\n\n\nlogo\n\nlogo Sketch \n\n![](4.jpg)\n\n![](5.jpg)\n\n![](6.jpg)\n\nLogo\n\n\n\n## \n\nRGB(63, 64, 87) Sketch  1050442\n\n```go\nimport (\n\t\"github.com/fogleman/gg\"\n\t\"testing\"\n)\n\nfunc TestDrawWxPic(t *testing.T){\n\tweight := 1050\n\theight := 442\n\tdc := gg.NewContext(weight, height)\n\tdc.SetRGB255(63, 64, 87)\n\tdc.Clear()\n\tdc.SavePNG(\"out.png\")\n}\n```\n\n\n\n![](7.png)\n\n\n\n```go\nimport (\n\t\"github.com/fogleman/gg\"\n\t\"golang.org/x/image/font\"\n\t\"golang.org/x/image/font/opentype\"\n\t\"io/ioutil\"\n\t\"testing\"\n)\n\nfunc TestDrawWxPic(t *testing.T){\n\twidth := 1050\n\theight := 442\n\tdc := gg.NewContext(width, height)\n\tdc.SetRGB255(63, 64, 87)\n\tdc.Clear()\n\n\tfontFilePath := \"/Users/bytedance/Downloads/FangZhengKaiTiJianTi.TTF\"\n\tfontFace, err := getOpenTypeFontFace(fontFilePath, 76, 72)\n\tif err != nil {\n\t\tpanic(err)\n\t}\n\tdc.SetFontFace(*fontFace)\n\tdc.SetRGB255(238, 241, 247)\n\n\t// \n\tmaxWordsWidth := 660.0\n\tx := 645.0\n\ty := 224.0\n\tdc.DrawStringWrapped(\" epoll \", x, y, 0.5, 0.6, maxWordsWidth, 1.1, gg.AlignCenter)\n\tdc.SavePNG(\"out.png\")\n}\n\nfunc getOpenTypeFontFace(fontFilePath string, fontSize, dpi float64)(*font.Face, error){\n\tfontData, fontFileReadErr := ioutil.ReadFile(fontFilePath)\n\tif fontFileReadErr != nil {\n\t\treturn nil, fontFileReadErr\n\t}\n\totfFont, parseErr := opentype.Parse(fontData)\n\tif parseErr != nil {\n\t\treturn nil, parseErr\n\t}\n\totfFace, newFaceErr := opentype.NewFace(otfFont, &opentype.FaceOptions{\n\t\tSize: fontSize,\n\t\tDPI: dpi,\n\t})\n\tif newFaceErr != nil {\n\t\treturn nil, newFaceErr\n\t}\n\treturn &otfFace, nil\n}\n```\n\n**DrawStringWrapped**  (x,y,ax,ay)\n\n\n\n![](8.png)\n\n\n\nlogo\n\n```go\nimport (\n\t\"github.com/disintegration/imaging\"\n\t\"github.com/fogleman/gg\"\n\t\"golang.org/x/image/font\"\n\t\"golang.org/x/image/font/opentype\"\n\t\"io/ioutil\"\n\t\"testing\"\n)\n\nfunc TestDrawWxPic(t *testing.T){\n\t...\n\tdc.DrawStringWrapped(\" epoll \", x, y, 0.5, 0.6, maxWordsWidth, 1.1, gg.AlignCenter)\n\n\t//\n\tsrc, openErr := imaging.Open(\"logo.png\")\n\tif openErr != nil {\n\t\tpanic(openErr)\n\t}\n\tsrc = imaging.Resize(src, 240, 240, imaging.Lanczos)\n\tdc.DrawImageAnchored(src, 182, 220, 0.5, 0.5)\n\tdc.SavePNG(\"out.png\")\n}\n```\n\n`fogleman/gg`  resize \"github.com/disintegration/imaging\n\n![](9.png)\n\nemmlogo\n\n![](10.png)\n\n\n\n\n\n```go\nimport (\n\t\"github.com/disintegration/imaging\"\n\t\"github.com/fogleman/gg\"\n\t\"golang.org/x/image/font\"\n\t\"golang.org/x/image/font/opentype\"\n\t\"io/ioutil\"\n\t\"testing\"\n)\n\nfunc TestDrawWxPic(t *testing.T){\n\tgenerateWxImage(\"\\n\", \"result\")\n}\n\nfunc generateWxImage(title string, savingFileName string) {\n\twidth := 1050\n\theight := 442\n\tdc := gg.NewContext(width, height)\n\tdc.SetRGB255(47, 54, 66)\n\tdc.Clear()\n\n\tfontFilePath := \"FangZhengKaiTiJianTi.TTF\"\n\tfontFace, err := getOpenTypeFontFace(fontFilePath, 76, 72)\n\tif err != nil {\n\t\tpanic(err)\n\t}\n\tdc.SetFontFace(*fontFace)\n\tdc.SetRGB255(238, 241, 247)\n\n\t// \n\tmaxWordsWidth := 660.0\n\tx := 665.0\n\ty := 224.0\n\tdc.DrawStringWrapped(title, x, y, 0.5, 0.6, maxWordsWidth, 1.1, gg.AlignCenter)\n\n\t//\n\tsrc, openErr := imaging.Open(\"logo.png\")\n\tif openErr != nil {\n\t\tpanic(openErr)\n\t}\n\tsrc = imaging.Resize(src, 360, 360, imaging.Lanczos)\n\n\tdc.DrawImageAnchored(src, 182, 220, 0.5, 0.5)\n\n\tdc.SavePNG(savingFileName + \".png\")\n}\n\nfunc getOpenTypeFontFace(fontFilePath string, fontSize, dpi float64)(*font.Face, error){\n\tfontData, fontFileReadErr := ioutil.ReadFile(fontFilePath)\n\tif fontFileReadErr != nil {\n\t\treturn nil, fontFileReadErr\n\t}\n\totfFont, parseErr := opentype.Parse(fontData)\n\tif parseErr != nil {\n\t\treturn nil, parseErr\n\t}\n\totfFace, newFaceErr := opentype.NewFace(otfFont, &opentype.FaceOptions{\n\t\tSize: fontSize,\n\t\tDPI: dpi,\n\t})\n\tif newFaceErr != nil {\n\t\treturn nil, newFaceErr\n\t}\n\treturn &otfFace, nil\n}\n```\n\n## \n\n\n\n\n\n\n\n[//]: # (![]&#40;11.png&#41;)\n","source":"_posts/picture/go-wx-pic-generator.md","raw":"---\ntitle: Go \ntags:\n  - go\ncategories:\n  - \ntoc: true\ntop: true\ncover: true\ndate: 2021-08-01 19:48:23\n---\n\n## \n\n\n\n![](1.png)\n\nemmm\n\n\n\n![](2.png)\n\nlogo\n\n![](3.png)\n\n## \n\n\n\n\n\n\n\nlogo\n\nlogo Sketch \n\n![](4.jpg)\n\n![](5.jpg)\n\n![](6.jpg)\n\nLogo\n\n\n\n## \n\nRGB(63, 64, 87) Sketch  1050442\n\n```go\nimport (\n\t\"github.com/fogleman/gg\"\n\t\"testing\"\n)\n\nfunc TestDrawWxPic(t *testing.T){\n\tweight := 1050\n\theight := 442\n\tdc := gg.NewContext(weight, height)\n\tdc.SetRGB255(63, 64, 87)\n\tdc.Clear()\n\tdc.SavePNG(\"out.png\")\n}\n```\n\n\n\n![](7.png)\n\n\n\n```go\nimport (\n\t\"github.com/fogleman/gg\"\n\t\"golang.org/x/image/font\"\n\t\"golang.org/x/image/font/opentype\"\n\t\"io/ioutil\"\n\t\"testing\"\n)\n\nfunc TestDrawWxPic(t *testing.T){\n\twidth := 1050\n\theight := 442\n\tdc := gg.NewContext(width, height)\n\tdc.SetRGB255(63, 64, 87)\n\tdc.Clear()\n\n\tfontFilePath := \"/Users/bytedance/Downloads/FangZhengKaiTiJianTi.TTF\"\n\tfontFace, err := getOpenTypeFontFace(fontFilePath, 76, 72)\n\tif err != nil {\n\t\tpanic(err)\n\t}\n\tdc.SetFontFace(*fontFace)\n\tdc.SetRGB255(238, 241, 247)\n\n\t// \n\tmaxWordsWidth := 660.0\n\tx := 645.0\n\ty := 224.0\n\tdc.DrawStringWrapped(\" epoll \", x, y, 0.5, 0.6, maxWordsWidth, 1.1, gg.AlignCenter)\n\tdc.SavePNG(\"out.png\")\n}\n\nfunc getOpenTypeFontFace(fontFilePath string, fontSize, dpi float64)(*font.Face, error){\n\tfontData, fontFileReadErr := ioutil.ReadFile(fontFilePath)\n\tif fontFileReadErr != nil {\n\t\treturn nil, fontFileReadErr\n\t}\n\totfFont, parseErr := opentype.Parse(fontData)\n\tif parseErr != nil {\n\t\treturn nil, parseErr\n\t}\n\totfFace, newFaceErr := opentype.NewFace(otfFont, &opentype.FaceOptions{\n\t\tSize: fontSize,\n\t\tDPI: dpi,\n\t})\n\tif newFaceErr != nil {\n\t\treturn nil, newFaceErr\n\t}\n\treturn &otfFace, nil\n}\n```\n\n**DrawStringWrapped**  (x,y,ax,ay)\n\n\n\n![](8.png)\n\n\n\nlogo\n\n```go\nimport (\n\t\"github.com/disintegration/imaging\"\n\t\"github.com/fogleman/gg\"\n\t\"golang.org/x/image/font\"\n\t\"golang.org/x/image/font/opentype\"\n\t\"io/ioutil\"\n\t\"testing\"\n)\n\nfunc TestDrawWxPic(t *testing.T){\n\t...\n\tdc.DrawStringWrapped(\" epoll \", x, y, 0.5, 0.6, maxWordsWidth, 1.1, gg.AlignCenter)\n\n\t//\n\tsrc, openErr := imaging.Open(\"logo.png\")\n\tif openErr != nil {\n\t\tpanic(openErr)\n\t}\n\tsrc = imaging.Resize(src, 240, 240, imaging.Lanczos)\n\tdc.DrawImageAnchored(src, 182, 220, 0.5, 0.5)\n\tdc.SavePNG(\"out.png\")\n}\n```\n\n`fogleman/gg`  resize \"github.com/disintegration/imaging\n\n![](9.png)\n\nemmlogo\n\n![](10.png)\n\n\n\n\n\n```go\nimport (\n\t\"github.com/disintegration/imaging\"\n\t\"github.com/fogleman/gg\"\n\t\"golang.org/x/image/font\"\n\t\"golang.org/x/image/font/opentype\"\n\t\"io/ioutil\"\n\t\"testing\"\n)\n\nfunc TestDrawWxPic(t *testing.T){\n\tgenerateWxImage(\"\\n\", \"result\")\n}\n\nfunc generateWxImage(title string, savingFileName string) {\n\twidth := 1050\n\theight := 442\n\tdc := gg.NewContext(width, height)\n\tdc.SetRGB255(47, 54, 66)\n\tdc.Clear()\n\n\tfontFilePath := \"FangZhengKaiTiJianTi.TTF\"\n\tfontFace, err := getOpenTypeFontFace(fontFilePath, 76, 72)\n\tif err != nil {\n\t\tpanic(err)\n\t}\n\tdc.SetFontFace(*fontFace)\n\tdc.SetRGB255(238, 241, 247)\n\n\t// \n\tmaxWordsWidth := 660.0\n\tx := 665.0\n\ty := 224.0\n\tdc.DrawStringWrapped(title, x, y, 0.5, 0.6, maxWordsWidth, 1.1, gg.AlignCenter)\n\n\t//\n\tsrc, openErr := imaging.Open(\"logo.png\")\n\tif openErr != nil {\n\t\tpanic(openErr)\n\t}\n\tsrc = imaging.Resize(src, 360, 360, imaging.Lanczos)\n\n\tdc.DrawImageAnchored(src, 182, 220, 0.5, 0.5)\n\n\tdc.SavePNG(savingFileName + \".png\")\n}\n\nfunc getOpenTypeFontFace(fontFilePath string, fontSize, dpi float64)(*font.Face, error){\n\tfontData, fontFileReadErr := ioutil.ReadFile(fontFilePath)\n\tif fontFileReadErr != nil {\n\t\treturn nil, fontFileReadErr\n\t}\n\totfFont, parseErr := opentype.Parse(fontData)\n\tif parseErr != nil {\n\t\treturn nil, parseErr\n\t}\n\totfFace, newFaceErr := opentype.NewFace(otfFont, &opentype.FaceOptions{\n\t\tSize: fontSize,\n\t\tDPI: dpi,\n\t})\n\tif newFaceErr != nil {\n\t\treturn nil, newFaceErr\n\t}\n\treturn &otfFace, nil\n}\n```\n\n## \n\n\n\n\n\n\n\n[//]: # (![]&#40;11.png&#41;)\n","slug":"picture/go-wx-pic-generator","published":1,"updated":"2021-08-01T11:48:23.000Z","_id":"cl70rsfbj000y5ohua65p291g","comments":1,"layout":"post","photos":[],"link":"","content":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p><img src=\"1.png\" alt=\"\"></p>\n<p>emmm</p>\n<p></p>\n<p><img src=\"2.png\" alt=\"\"></p>\n<p>logo</p>\n<p><img src=\"3.png\" alt=\"\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p></p>\n<p></p>\n<p>logo</p>\n<p>logo Sketch </p>\n<p><img src=\"4.jpg\" alt=\"\"></p>\n<p><img src=\"5.jpg\" alt=\"\"></p>\n<p><img src=\"6.jpg\" alt=\"\"></p>\n<p>Logo</p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>RGB(63, 64, 87) Sketch  1050442</p>\n<pre class=\" language-go\"><code class=\"language-go\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token string\">\"github.com/fogleman/gg\"</span>\n    <span class=\"token string\">\"testing\"</span>\n<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token function\">TestDrawWxPic</span><span class=\"token punctuation\">(</span>t <span class=\"token operator\">*</span>testing<span class=\"token punctuation\">.</span>T<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    weight <span class=\"token operator\">:=</span> <span class=\"token number\">1050</span>\n    height <span class=\"token operator\">:=</span> <span class=\"token number\">442</span>\n    dc <span class=\"token operator\">:=</span> gg<span class=\"token punctuation\">.</span><span class=\"token function\">NewContext</span><span class=\"token punctuation\">(</span>weight<span class=\"token punctuation\">,</span> height<span class=\"token punctuation\">)</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">SetRGB255</span><span class=\"token punctuation\">(</span><span class=\"token number\">63</span><span class=\"token punctuation\">,</span> <span class=\"token number\">64</span><span class=\"token punctuation\">,</span> <span class=\"token number\">87</span><span class=\"token punctuation\">)</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">Clear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">SavePNG</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"out.png\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p></p>\n<p><img src=\"7.png\" alt=\"\"></p>\n<p></p>\n<pre class=\" language-go\"><code class=\"language-go\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token string\">\"github.com/fogleman/gg\"</span>\n    <span class=\"token string\">\"golang.org/x/image/font\"</span>\n    <span class=\"token string\">\"golang.org/x/image/font/opentype\"</span>\n    <span class=\"token string\">\"io/ioutil\"</span>\n    <span class=\"token string\">\"testing\"</span>\n<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token function\">TestDrawWxPic</span><span class=\"token punctuation\">(</span>t <span class=\"token operator\">*</span>testing<span class=\"token punctuation\">.</span>T<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    width <span class=\"token operator\">:=</span> <span class=\"token number\">1050</span>\n    height <span class=\"token operator\">:=</span> <span class=\"token number\">442</span>\n    dc <span class=\"token operator\">:=</span> gg<span class=\"token punctuation\">.</span><span class=\"token function\">NewContext</span><span class=\"token punctuation\">(</span>width<span class=\"token punctuation\">,</span> height<span class=\"token punctuation\">)</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">SetRGB255</span><span class=\"token punctuation\">(</span><span class=\"token number\">63</span><span class=\"token punctuation\">,</span> <span class=\"token number\">64</span><span class=\"token punctuation\">,</span> <span class=\"token number\">87</span><span class=\"token punctuation\">)</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">Clear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n    fontFilePath <span class=\"token operator\">:=</span> <span class=\"token string\">\"/Users/bytedance/Downloads/FangZhengKaiTiJianTi.TTF\"</span>\n    fontFace<span class=\"token punctuation\">,</span> err <span class=\"token operator\">:=</span> <span class=\"token function\">getOpenTypeFontFace</span><span class=\"token punctuation\">(</span>fontFilePath<span class=\"token punctuation\">,</span> <span class=\"token number\">76</span><span class=\"token punctuation\">,</span> <span class=\"token number\">72</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">if</span> err <span class=\"token operator\">!=</span> <span class=\"token boolean\">nil</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">panic</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">SetFontFace</span><span class=\"token punctuation\">(</span><span class=\"token operator\">*</span>fontFace<span class=\"token punctuation\">)</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">SetRGB255</span><span class=\"token punctuation\">(</span><span class=\"token number\">238</span><span class=\"token punctuation\">,</span> <span class=\"token number\">241</span><span class=\"token punctuation\">,</span> <span class=\"token number\">247</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\" spellcheck=\"true\">// </span>\n    maxWordsWidth <span class=\"token operator\">:=</span> <span class=\"token number\">660.0</span>\n    x <span class=\"token operator\">:=</span> <span class=\"token number\">645.0</span>\n    y <span class=\"token operator\">:=</span> <span class=\"token number\">224.0</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">DrawStringWrapped</span><span class=\"token punctuation\">(</span><span class=\"token string\">\" epoll \"</span><span class=\"token punctuation\">,</span> x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">,</span> <span class=\"token number\">0.5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.6</span><span class=\"token punctuation\">,</span> maxWordsWidth<span class=\"token punctuation\">,</span> <span class=\"token number\">1.1</span><span class=\"token punctuation\">,</span> gg<span class=\"token punctuation\">.</span>AlignCenter<span class=\"token punctuation\">)</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">SavePNG</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"out.png\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token function\">getOpenTypeFontFace</span><span class=\"token punctuation\">(</span>fontFilePath <span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> fontSize<span class=\"token punctuation\">,</span> dpi <span class=\"token builtin\">float64</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token operator\">*</span>font<span class=\"token punctuation\">.</span>Face<span class=\"token punctuation\">,</span> <span class=\"token builtin\">error</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    fontData<span class=\"token punctuation\">,</span> fontFileReadErr <span class=\"token operator\">:=</span> ioutil<span class=\"token punctuation\">.</span><span class=\"token function\">ReadFile</span><span class=\"token punctuation\">(</span>fontFilePath<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">if</span> fontFileReadErr <span class=\"token operator\">!=</span> <span class=\"token boolean\">nil</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token boolean\">nil</span><span class=\"token punctuation\">,</span> fontFileReadErr\n    <span class=\"token punctuation\">}</span>\n    otfFont<span class=\"token punctuation\">,</span> parseErr <span class=\"token operator\">:=</span> opentype<span class=\"token punctuation\">.</span><span class=\"token function\">Parse</span><span class=\"token punctuation\">(</span>fontData<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">if</span> parseErr <span class=\"token operator\">!=</span> <span class=\"token boolean\">nil</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token boolean\">nil</span><span class=\"token punctuation\">,</span> parseErr\n    <span class=\"token punctuation\">}</span>\n    otfFace<span class=\"token punctuation\">,</span> newFaceErr <span class=\"token operator\">:=</span> opentype<span class=\"token punctuation\">.</span><span class=\"token function\">NewFace</span><span class=\"token punctuation\">(</span>otfFont<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span>opentype<span class=\"token punctuation\">.</span>FaceOptions<span class=\"token punctuation\">{</span>\n        Size<span class=\"token punctuation\">:</span> fontSize<span class=\"token punctuation\">,</span>\n        DPI<span class=\"token punctuation\">:</span>  dpi<span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">if</span> newFaceErr <span class=\"token operator\">!=</span> <span class=\"token boolean\">nil</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token boolean\">nil</span><span class=\"token punctuation\">,</span> newFaceErr\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">return</span> <span class=\"token operator\">&amp;</span>otfFace<span class=\"token punctuation\">,</span> <span class=\"token boolean\">nil</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p><strong>DrawStringWrapped</strong>  (x,y,ax,ay)</p>\n<p></p>\n<p><img src=\"8.png\" alt=\"\"></p>\n<p></p>\n<p>logo</p>\n<pre class=\" language-go\"><code class=\"language-go\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token string\">\"github.com/disintegration/imaging\"</span>\n    <span class=\"token string\">\"github.com/fogleman/gg\"</span>\n    <span class=\"token string\">\"golang.org/x/image/font\"</span>\n    <span class=\"token string\">\"golang.org/x/image/font/opentype\"</span>\n    <span class=\"token string\">\"io/ioutil\"</span>\n    <span class=\"token string\">\"testing\"</span>\n<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token function\">TestDrawWxPic</span><span class=\"token punctuation\">(</span>t <span class=\"token operator\">*</span>testing<span class=\"token punctuation\">.</span>T<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    <span class=\"token operator\">...</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">DrawStringWrapped</span><span class=\"token punctuation\">(</span><span class=\"token string\">\" epoll \"</span><span class=\"token punctuation\">,</span> x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">,</span> <span class=\"token number\">0.5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.6</span><span class=\"token punctuation\">,</span> maxWordsWidth<span class=\"token punctuation\">,</span> <span class=\"token number\">1.1</span><span class=\"token punctuation\">,</span> gg<span class=\"token punctuation\">.</span>AlignCenter<span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\" spellcheck=\"true\">//</span>\n    src<span class=\"token punctuation\">,</span> openErr <span class=\"token operator\">:=</span> imaging<span class=\"token punctuation\">.</span><span class=\"token function\">Open</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"logo.png\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">if</span> openErr <span class=\"token operator\">!=</span> <span class=\"token boolean\">nil</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">panic</span><span class=\"token punctuation\">(</span>openErr<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n    src <span class=\"token operator\">=</span> imaging<span class=\"token punctuation\">.</span><span class=\"token function\">Resize</span><span class=\"token punctuation\">(</span>src<span class=\"token punctuation\">,</span> <span class=\"token number\">240</span><span class=\"token punctuation\">,</span> <span class=\"token number\">240</span><span class=\"token punctuation\">,</span> imaging<span class=\"token punctuation\">.</span>Lanczos<span class=\"token punctuation\">)</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">DrawImageAnchored</span><span class=\"token punctuation\">(</span>src<span class=\"token punctuation\">,</span> <span class=\"token number\">182</span><span class=\"token punctuation\">,</span> <span class=\"token number\">220</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.5</span><span class=\"token punctuation\">)</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">SavePNG</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"out.png\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p><code>fogleman/gg</code>  resize github.com/disintegration/imaging</p>\n<p><img src=\"9.png\" alt=\"\"></p>\n<p>emmlogo</p>\n<p><img src=\"10.png\" alt=\"\"></p>\n<p></p>\n<p></p>\n<pre class=\" language-go\"><code class=\"language-go\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token string\">\"github.com/disintegration/imaging\"</span>\n    <span class=\"token string\">\"github.com/fogleman/gg\"</span>\n    <span class=\"token string\">\"golang.org/x/image/font\"</span>\n    <span class=\"token string\">\"golang.org/x/image/font/opentype\"</span>\n    <span class=\"token string\">\"io/ioutil\"</span>\n    <span class=\"token string\">\"testing\"</span>\n<span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token function\">TestDrawWxPic</span><span class=\"token punctuation\">(</span>t <span class=\"token operator\">*</span>testing<span class=\"token punctuation\">.</span>T<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    <span class=\"token function\">generateWxImage</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\\n\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"result\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token function\">generateWxImage</span><span class=\"token punctuation\">(</span>title <span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> savingFileName <span class=\"token builtin\">string</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    width <span class=\"token operator\">:=</span> <span class=\"token number\">1050</span>\n    height <span class=\"token operator\">:=</span> <span class=\"token number\">442</span>\n    dc <span class=\"token operator\">:=</span> gg<span class=\"token punctuation\">.</span><span class=\"token function\">NewContext</span><span class=\"token punctuation\">(</span>width<span class=\"token punctuation\">,</span> height<span class=\"token punctuation\">)</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">SetRGB255</span><span class=\"token punctuation\">(</span><span class=\"token number\">47</span><span class=\"token punctuation\">,</span> <span class=\"token number\">54</span><span class=\"token punctuation\">,</span> <span class=\"token number\">66</span><span class=\"token punctuation\">)</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">Clear</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n    fontFilePath <span class=\"token operator\">:=</span> <span class=\"token string\">\"FangZhengKaiTiJianTi.TTF\"</span>\n    fontFace<span class=\"token punctuation\">,</span> err <span class=\"token operator\">:=</span> <span class=\"token function\">getOpenTypeFontFace</span><span class=\"token punctuation\">(</span>fontFilePath<span class=\"token punctuation\">,</span> <span class=\"token number\">76</span><span class=\"token punctuation\">,</span> <span class=\"token number\">72</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">if</span> err <span class=\"token operator\">!=</span> <span class=\"token boolean\">nil</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">panic</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">SetFontFace</span><span class=\"token punctuation\">(</span><span class=\"token operator\">*</span>fontFace<span class=\"token punctuation\">)</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">SetRGB255</span><span class=\"token punctuation\">(</span><span class=\"token number\">238</span><span class=\"token punctuation\">,</span> <span class=\"token number\">241</span><span class=\"token punctuation\">,</span> <span class=\"token number\">247</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\" spellcheck=\"true\">// </span>\n    maxWordsWidth <span class=\"token operator\">:=</span> <span class=\"token number\">660.0</span>\n    x <span class=\"token operator\">:=</span> <span class=\"token number\">665.0</span>\n    y <span class=\"token operator\">:=</span> <span class=\"token number\">224.0</span>\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">DrawStringWrapped</span><span class=\"token punctuation\">(</span>title<span class=\"token punctuation\">,</span> x<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">,</span> <span class=\"token number\">0.5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.6</span><span class=\"token punctuation\">,</span> maxWordsWidth<span class=\"token punctuation\">,</span> <span class=\"token number\">1.1</span><span class=\"token punctuation\">,</span> gg<span class=\"token punctuation\">.</span>AlignCenter<span class=\"token punctuation\">)</span>\n\n    <span class=\"token comment\" spellcheck=\"true\">//</span>\n    src<span class=\"token punctuation\">,</span> openErr <span class=\"token operator\">:=</span> imaging<span class=\"token punctuation\">.</span><span class=\"token function\">Open</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"logo.png\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">if</span> openErr <span class=\"token operator\">!=</span> <span class=\"token boolean\">nil</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">panic</span><span class=\"token punctuation\">(</span>openErr<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n    src <span class=\"token operator\">=</span> imaging<span class=\"token punctuation\">.</span><span class=\"token function\">Resize</span><span class=\"token punctuation\">(</span>src<span class=\"token punctuation\">,</span> <span class=\"token number\">360</span><span class=\"token punctuation\">,</span> <span class=\"token number\">360</span><span class=\"token punctuation\">,</span> imaging<span class=\"token punctuation\">.</span>Lanczos<span class=\"token punctuation\">)</span>\n\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">DrawImageAnchored</span><span class=\"token punctuation\">(</span>src<span class=\"token punctuation\">,</span> <span class=\"token number\">182</span><span class=\"token punctuation\">,</span> <span class=\"token number\">220</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.5</span><span class=\"token punctuation\">)</span>\n\n    dc<span class=\"token punctuation\">.</span><span class=\"token function\">SavePNG</span><span class=\"token punctuation\">(</span>savingFileName <span class=\"token operator\">+</span> <span class=\"token string\">\".png\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">func</span> <span class=\"token function\">getOpenTypeFontFace</span><span class=\"token punctuation\">(</span>fontFilePath <span class=\"token builtin\">string</span><span class=\"token punctuation\">,</span> fontSize<span class=\"token punctuation\">,</span> dpi <span class=\"token builtin\">float64</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token operator\">*</span>font<span class=\"token punctuation\">.</span>Face<span class=\"token punctuation\">,</span> <span class=\"token builtin\">error</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    fontData<span class=\"token punctuation\">,</span> fontFileReadErr <span class=\"token operator\">:=</span> ioutil<span class=\"token punctuation\">.</span><span class=\"token function\">ReadFile</span><span class=\"token punctuation\">(</span>fontFilePath<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">if</span> fontFileReadErr <span class=\"token operator\">!=</span> <span class=\"token boolean\">nil</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token boolean\">nil</span><span class=\"token punctuation\">,</span> fontFileReadErr\n    <span class=\"token punctuation\">}</span>\n    otfFont<span class=\"token punctuation\">,</span> parseErr <span class=\"token operator\">:=</span> opentype<span class=\"token punctuation\">.</span><span class=\"token function\">Parse</span><span class=\"token punctuation\">(</span>fontData<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">if</span> parseErr <span class=\"token operator\">!=</span> <span class=\"token boolean\">nil</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token boolean\">nil</span><span class=\"token punctuation\">,</span> parseErr\n    <span class=\"token punctuation\">}</span>\n    otfFace<span class=\"token punctuation\">,</span> newFaceErr <span class=\"token operator\">:=</span> opentype<span class=\"token punctuation\">.</span><span class=\"token function\">NewFace</span><span class=\"token punctuation\">(</span>otfFont<span class=\"token punctuation\">,</span> <span class=\"token operator\">&amp;</span>opentype<span class=\"token punctuation\">.</span>FaceOptions<span class=\"token punctuation\">{</span>\n        Size<span class=\"token punctuation\">:</span> fontSize<span class=\"token punctuation\">,</span>\n        DPI<span class=\"token punctuation\">:</span>  dpi<span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">if</span> newFaceErr <span class=\"token operator\">!=</span> <span class=\"token boolean\">nil</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token boolean\">nil</span><span class=\"token punctuation\">,</span> newFaceErr\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">return</span> <span class=\"token operator\">&amp;</span>otfFace<span class=\"token punctuation\">,</span> <span class=\"token boolean\">nil</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p></p>\n<p></p>\n<script>\n        document.querySelectorAll('.github-emoji')\n          .forEach(el => {\n            if (!el.dataset.src) { return; }\n            const img = document.createElement('img');\n            img.style = 'display:none !important;';\n            img.src = el.dataset.src;\n            img.addEventListener('error', () => {\n              img.remove();\n              el.style.color = 'inherit';\n              el.style.backgroundImage = 'none';\n              el.style.background = 'none';\n            });\n            img.addEventListener('load', () => {\n              img.remove();\n            });\n            document.body.appendChild(img);\n          });\n      </script>","site":{"data":{"friends":[{"avatar":"http://43.142.191.46:8080/crmebimage/public/operation/2022/08/19/e4c5aacf44c44157ac8381896a4f33bfiwjztayaan.png","name":"","introduction":"","url":"http://43.142.191.46:9527/","title":""},{"avatar":"http://43.142.191.46:8080/crmebimage/public/operation/2022/08/19/e4c5aacf44c44157ac8381896a4f33bfiwjztayaan.png","name":"RabbitMQ","introduction":"","url":"http://43.142.191.46:15672/","title":""}]}},"excerpt":"","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p><img src=\"1.png\" alt=\"\"></p>\n<p>emmm</p>\n<p></p>\n<p><img src=\"2.png\" alt=\"\"></p>\n<p>logo</p>\n<p><img src=\"3.png\" alt=\"\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p></p>\n<p></p>\n<p>logo</p>\n<p>logo Sketch </p>\n<p><img src=\"4.jpg\" alt=\"\"></p>\n<p><img src=\"5.jpg\" alt=\"\"></p>\n<p><img src=\"6.jpg\" alt=\"\"></p>\n<p>Logo</p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>RGB(63, 64, 87) Sketch  1050442</p>\n<pre><code class=\"go\">import (\n    &quot;github.com/fogleman/gg&quot;\n    &quot;testing&quot;\n)\n\nfunc TestDrawWxPic(t *testing.T){\n    weight := 1050\n    height := 442\n    dc := gg.NewContext(weight, height)\n    dc.SetRGB255(63, 64, 87)\n    dc.Clear()\n    dc.SavePNG(&quot;out.png&quot;)\n}</code></pre>\n<p></p>\n<p><img src=\"7.png\" alt=\"\"></p>\n<p></p>\n<pre><code class=\"go\">import (\n    &quot;github.com/fogleman/gg&quot;\n    &quot;golang.org/x/image/font&quot;\n    &quot;golang.org/x/image/font/opentype&quot;\n    &quot;io/ioutil&quot;\n    &quot;testing&quot;\n)\n\nfunc TestDrawWxPic(t *testing.T){\n    width := 1050\n    height := 442\n    dc := gg.NewContext(width, height)\n    dc.SetRGB255(63, 64, 87)\n    dc.Clear()\n\n    fontFilePath := &quot;/Users/bytedance/Downloads/FangZhengKaiTiJianTi.TTF&quot;\n    fontFace, err := getOpenTypeFontFace(fontFilePath, 76, 72)\n    if err != nil {\n        panic(err)\n    }\n    dc.SetFontFace(*fontFace)\n    dc.SetRGB255(238, 241, 247)\n\n    // \n    maxWordsWidth := 660.0\n    x := 645.0\n    y := 224.0\n    dc.DrawStringWrapped(&quot; epoll &quot;, x, y, 0.5, 0.6, maxWordsWidth, 1.1, gg.AlignCenter)\n    dc.SavePNG(&quot;out.png&quot;)\n}\n\nfunc getOpenTypeFontFace(fontFilePath string, fontSize, dpi float64)(*font.Face, error){\n    fontData, fontFileReadErr := ioutil.ReadFile(fontFilePath)\n    if fontFileReadErr != nil {\n        return nil, fontFileReadErr\n    }\n    otfFont, parseErr := opentype.Parse(fontData)\n    if parseErr != nil {\n        return nil, parseErr\n    }\n    otfFace, newFaceErr := opentype.NewFace(otfFont, &amp;opentype.FaceOptions{\n        Size: fontSize,\n        DPI:  dpi,\n    })\n    if newFaceErr != nil {\n        return nil, newFaceErr\n    }\n    return &amp;otfFace, nil\n}</code></pre>\n<p><strong>DrawStringWrapped</strong>  (x,y,ax,ay)</p>\n<p></p>\n<p><img src=\"8.png\" alt=\"\"></p>\n<p></p>\n<p>logo</p>\n<pre><code class=\"go\">import (\n    &quot;github.com/disintegration/imaging&quot;\n    &quot;github.com/fogleman/gg&quot;\n    &quot;golang.org/x/image/font&quot;\n    &quot;golang.org/x/image/font/opentype&quot;\n    &quot;io/ioutil&quot;\n    &quot;testing&quot;\n)\n\nfunc TestDrawWxPic(t *testing.T){\n    ...\n    dc.DrawStringWrapped(&quot; epoll &quot;, x, y, 0.5, 0.6, maxWordsWidth, 1.1, gg.AlignCenter)\n\n    //\n    src, openErr := imaging.Open(&quot;logo.png&quot;)\n    if openErr != nil {\n        panic(openErr)\n    }\n    src = imaging.Resize(src, 240, 240, imaging.Lanczos)\n    dc.DrawImageAnchored(src, 182, 220, 0.5, 0.5)\n    dc.SavePNG(&quot;out.png&quot;)\n}</code></pre>\n<p><code>fogleman/gg</code>  resize github.com/disintegration/imaging</p>\n<p><img src=\"9.png\" alt=\"\"></p>\n<p>emmlogo</p>\n<p><img src=\"10.png\" alt=\"\"></p>\n<p></p>\n<p></p>\n<pre><code class=\"go\">import (\n    &quot;github.com/disintegration/imaging&quot;\n    &quot;github.com/fogleman/gg&quot;\n    &quot;golang.org/x/image/font&quot;\n    &quot;golang.org/x/image/font/opentype&quot;\n    &quot;io/ioutil&quot;\n    &quot;testing&quot;\n)\n\nfunc TestDrawWxPic(t *testing.T){\n    generateWxImage(&quot;\\n&quot;, &quot;result&quot;)\n}\n\nfunc generateWxImage(title string, savingFileName string) {\n    width := 1050\n    height := 442\n    dc := gg.NewContext(width, height)\n    dc.SetRGB255(47, 54, 66)\n    dc.Clear()\n\n    fontFilePath := &quot;FangZhengKaiTiJianTi.TTF&quot;\n    fontFace, err := getOpenTypeFontFace(fontFilePath, 76, 72)\n    if err != nil {\n        panic(err)\n    }\n    dc.SetFontFace(*fontFace)\n    dc.SetRGB255(238, 241, 247)\n\n    // \n    maxWordsWidth := 660.0\n    x := 665.0\n    y := 224.0\n    dc.DrawStringWrapped(title, x, y, 0.5, 0.6, maxWordsWidth, 1.1, gg.AlignCenter)\n\n    //\n    src, openErr := imaging.Open(&quot;logo.png&quot;)\n    if openErr != nil {\n        panic(openErr)\n    }\n    src = imaging.Resize(src, 360, 360, imaging.Lanczos)\n\n    dc.DrawImageAnchored(src, 182, 220, 0.5, 0.5)\n\n    dc.SavePNG(savingFileName + &quot;.png&quot;)\n}\n\nfunc getOpenTypeFontFace(fontFilePath string, fontSize, dpi float64)(*font.Face, error){\n    fontData, fontFileReadErr := ioutil.ReadFile(fontFilePath)\n    if fontFileReadErr != nil {\n        return nil, fontFileReadErr\n    }\n    otfFont, parseErr := opentype.Parse(fontData)\n    if parseErr != nil {\n        return nil, parseErr\n    }\n    otfFace, newFaceErr := opentype.NewFace(otfFont, &amp;opentype.FaceOptions{\n        Size: fontSize,\n        DPI:  dpi,\n    })\n    if newFaceErr != nil {\n        return nil, newFaceErr\n    }\n    return &amp;otfFace, nil\n}</code></pre>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p></p>\n<p></p>\n"},{"title":"RabbitMQ","toc":true,"top":true,"cover":true,"date":"2020-05-03T17:00:20.000Z","_content":"\n## \n\n*RabbitMQ*\n\n![u=1091165172,1855706818&fm=26&gp=0.jpg](https://i.loli.net/2019/08/19/o3ZELv7GkRImstJ.jpg)\n\n```java\n[][xxx][08-1516:36:04][]alertId=[xxx][org.springframework.amqp.rabbit.listener.BlockingQueueConsumer:start:620]\nxxx\n\norg.springframework.amqp.rabbit.listener.BlockingQueueConsumer:start:620\n:\n1.org.springframework.amqp.rabbit.listener.QueuesNotAvailableException:Cannotpreparequeueforlistener.Eitherthequeuedoesn'texistorthebrokerwillnotallowustouseit.\n||Consumerreceivedfatal=falseexceptiononstartup:\n...\nxxx\n\norg.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer:run:1160\n:\n1.Stoppingcontainerfromabortedconsumer||Stoppingcontainerfromabortedconsumer:\n```\n\n*RabbitMQ**RabbitMQ*emmmm10\n\n*RabbitMQ*\n\n*RabbitMQ**RabbitMQ*\n\n## \n\n*RabbitMQ**RabbitMQ*\n\n1. \n2. *RabbitMQ*\n3. \n4. *RabbitMQ*\n5. *RabbitMQ*\n\n\n\n![{6582FAF9-A46E-4239-810B-E1D6883ED070}.png.jpg](https://i.loli.net/2019/08/18/yHcfoILDmTh7qbd.jpg)\n\n*Mandatory*\n\n235*TCP*\n\n![20170716034945131.jpg](https://i.loli.net/2019/08/19/Fwp87UqONIKCZsJ.jpg)\n\n## RabbitMQ\n\n\n\n\n\n*RabbitMQ*\n\n1. \n2. \n\n*RabbitMQ*\n\n\n\n1. \n2. \n3. \n4. *RabbitMQ*\n5. *RabbitMQ*\n6. \n7. \n\n\n\n\n\n### RabbitMQ\n\n*RabbitMQ**AMQP*\n\n*SpringBoot**RabbitMQ**Bean**RabbitTemplate*true\n\n\n\n```yml\nspring:\n  rabbitmq:\n    host: localhost\n    password: guest\n    username: guest\n    listener:\n      type: simple\n      simple:\n        default-requeue-rejected: false\n        acknowledge-mode: manual\n```\n\n\n\n```java\n@Configuration\npublic class RabbitMQConfig {\n\n    public static final String BUSINESS_EXCHANGE_NAME = \"rabbitmq.tx.demo.simple.business.exchange\";\n    public static final String BUSINESS_QUEUEA_NAME = \"rabbitmq.tx.demo.simple.business.queue\";\n\n    // Exchange\n    @Bean(\"businessExchange\")\n    public FanoutExchange businessExchange(){\n        return new FanoutExchange(BUSINESS_EXCHANGE_NAME);\n    }\n\n    // \n    @Bean(\"businessQueue\")\n    public Queue businessQueue(){\n        return QueueBuilder.durable(BUSINESS_QUEUEA_NAME).build();\n    }\n\n    // \n    @Bean\n    public Binding businessBinding(@Qualifier(\"businessQueue\") Queue queue,\n                                    @Qualifier(\"businessExchange\") FanoutExchange exchange){\n        return BindingBuilder.bind(queue).to(exchange);\n    }\n\n\n    /**\n     * rabbitmq\n     * @param connectionFactory\n     * @return\n     */\n    @Bean\n    public RabbitTransactionManager rabbitTransactionManager(CachingConnectionFactory connectionFactory) {\n        return new RabbitTransactionManager(connectionFactory);\n    }\n}\n```\n\n\n\n```java\n@Slf4j\n@Component\npublic class BusinessMsgConsumer {\n\n\n    @RabbitListener(queues = BUSINESS_QUEUEA_NAME)\n    public void receiveMsg(Message message, Channel channel) throws IOException {\n        String msg = new String(message.getBody());\n        log.info(\"{}\", msg);\n        channel.basicNack(message.getMessageProperties().getDeliveryTag(), false, false);\n    }\n}\n```\n\n\n\n```java\n@Slf4j\n@Component\npublic class BusinessMsgProducer{\n\n    @Autowired\n    private RabbitTemplate rabbitTemplate;\n\n    @PostConstruct\n    private void init() {\n        rabbitTemplate.setChannelTransacted(true);\n    }\n\n    @Transactional\n    public void sendMsg(String msg) {\n        rabbitTemplate.convertAndSend(BUSINESS_EXCHANGE_NAME, \"key\", msg);\n        if (msg != null && msg.contains(\"exception\"))\n            throw new RuntimeException(\"surprise!\");\n        log.info(\" {}\" ,msg);\n    }\n}\n```\n\n\n\n1. ` rabbitTemplate.setChannelTransacted(true);` \n2.  `@Transactional` \n\ncontroller\n\n```java\n@RestController\npublic class BusinessController {\n\n    @Autowired\n    private BusinessMsgProducer producer;\n\n    @RequestMapping(\"send\")\n    public void sendMsg(String msg){\n        producer.sendMsg(msg);\n    }\n}\n```\n\n\n\n```shell\nmsg:1\n 1\n1\nmsg:2\n 2\n2\nmsg:3\n 3\n3\nmsg:exception\n\nServlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.RuntimeException: surprise!] with root cause\n\njava.lang.RuntimeException: surprise!\n\tat com.mfrank.rabbitmqdemo.producer.BusinessMsgProducer.sendMsg(BusinessMsgProducer.java:30)\n    ...\n```\n\n `msg`  `exception`  `rabbitTemplate.convertAndSend` \n\n\n\nRabbitMQ4\n\n### RabbitMQ\n\n*RabbitMQ**AMQP**Basic.Ack**Basic.Nack* RPC\n\n\n\nSpringbootRabbitMQ\n\n```yml\nspring:\n  rabbitmq:\n    host: localhost\n    password: guest\n    username: guest\n    listener:\n      type: simple\n      simple:\n        default-requeue-rejected: false\n        acknowledge-mode: manual\n    publisher-confirms: true\n```\n\n` publisher-confirms: true` \n\n\n\n```java\n@Slf4j\n@Component\npublic class BusinessMsgProducer implements RabbitTemplate.ConfirmCallback{\n\n    @Autowired\n    private RabbitTemplate rabbitTemplate;\n\n    @PostConstruct\n    private void init() {\n//        rabbitTemplate.setChannelTransacted(true);\n        rabbitTemplate.setConfirmCallback(this);\n    }\n\n    public void sendCustomMsg(String exchange, String msg) {\n        CorrelationData correlationData = new CorrelationData(UUID.randomUUID().toString());\n\n        log.info(\"id:{}, msg:{}\", correlationData.getId(), msg);\n\n        rabbitTemplate.convertAndSend(exchange, \"key\", msg, correlationData);\n    }\n    \n    @Override\n    public void confirm(CorrelationData correlationData, boolean b, String s) {\n        String id = correlationData != null ? correlationData.getId() : \"\";\n        if (b) {\n            log.info(\", id:{}\", id);\n        } else {\n            log.error(\", id:{}, cause:{}\", id, s);\n        }\n    }\n}\n```\n\n`RabbitTemplate.ConfirmCallback` `confirm` \n\n\n\n```java\nCorrelationData correlationData = new CorrelationData(UUID.randomUUID().toString());\n\nrabbitTemplate.convertAndSend(exchange, \"key\", msg, correlationData);\n```\n\nIDID*Redis**Mysql*\n\n[]\n\n![5b65729e0001439305000294.jpg](https://i.loli.net/2019/08/19/CO5bs2xwh4WHFpM.png)\n\n*RabbitMQ*\n\n\n\n\n\n*RabbitMQ*RabbitMQ\n\n## \n\n\n\n*redis*\n\n*RabbitMQ*emmm\n\n![111.png.jpg](https://i.loli.net/2019/08/19/c8ZGAL7OEPQTeWM.jpg)","source":"_posts/rabbitmq/rabbitmq-how-to-ensure-reliable-delivery-of-message.md","raw":"---\ntitle: RabbitMQ\ntags:\n  - RabbitMQ\ncategories:\n  - \ntoc: true\ntop: true\ncover: true\ndate: 2020-05-04 01:00:20\n---\n\n## \n\n*RabbitMQ*\n\n![u=1091165172,1855706818&fm=26&gp=0.jpg](https://i.loli.net/2019/08/19/o3ZELv7GkRImstJ.jpg)\n\n```java\n[][xxx][08-1516:36:04][]alertId=[xxx][org.springframework.amqp.rabbit.listener.BlockingQueueConsumer:start:620]\nxxx\n\norg.springframework.amqp.rabbit.listener.BlockingQueueConsumer:start:620\n:\n1.org.springframework.amqp.rabbit.listener.QueuesNotAvailableException:Cannotpreparequeueforlistener.Eitherthequeuedoesn'texistorthebrokerwillnotallowustouseit.\n||Consumerreceivedfatal=falseexceptiononstartup:\n...\nxxx\n\norg.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer:run:1160\n:\n1.Stoppingcontainerfromabortedconsumer||Stoppingcontainerfromabortedconsumer:\n```\n\n*RabbitMQ**RabbitMQ*emmmm10\n\n*RabbitMQ*\n\n*RabbitMQ**RabbitMQ*\n\n## \n\n*RabbitMQ**RabbitMQ*\n\n1. \n2. *RabbitMQ*\n3. \n4. *RabbitMQ*\n5. *RabbitMQ*\n\n\n\n![{6582FAF9-A46E-4239-810B-E1D6883ED070}.png.jpg](https://i.loli.net/2019/08/18/yHcfoILDmTh7qbd.jpg)\n\n*Mandatory*\n\n235*TCP*\n\n![20170716034945131.jpg](https://i.loli.net/2019/08/19/Fwp87UqONIKCZsJ.jpg)\n\n## RabbitMQ\n\n\n\n\n\n*RabbitMQ*\n\n1. \n2. \n\n*RabbitMQ*\n\n\n\n1. \n2. \n3. \n4. *RabbitMQ*\n5. *RabbitMQ*\n6. \n7. \n\n\n\n\n\n### RabbitMQ\n\n*RabbitMQ**AMQP*\n\n*SpringBoot**RabbitMQ**Bean**RabbitTemplate*true\n\n\n\n```yml\nspring:\n  rabbitmq:\n    host: localhost\n    password: guest\n    username: guest\n    listener:\n      type: simple\n      simple:\n        default-requeue-rejected: false\n        acknowledge-mode: manual\n```\n\n\n\n```java\n@Configuration\npublic class RabbitMQConfig {\n\n    public static final String BUSINESS_EXCHANGE_NAME = \"rabbitmq.tx.demo.simple.business.exchange\";\n    public static final String BUSINESS_QUEUEA_NAME = \"rabbitmq.tx.demo.simple.business.queue\";\n\n    // Exchange\n    @Bean(\"businessExchange\")\n    public FanoutExchange businessExchange(){\n        return new FanoutExchange(BUSINESS_EXCHANGE_NAME);\n    }\n\n    // \n    @Bean(\"businessQueue\")\n    public Queue businessQueue(){\n        return QueueBuilder.durable(BUSINESS_QUEUEA_NAME).build();\n    }\n\n    // \n    @Bean\n    public Binding businessBinding(@Qualifier(\"businessQueue\") Queue queue,\n                                    @Qualifier(\"businessExchange\") FanoutExchange exchange){\n        return BindingBuilder.bind(queue).to(exchange);\n    }\n\n\n    /**\n     * rabbitmq\n     * @param connectionFactory\n     * @return\n     */\n    @Bean\n    public RabbitTransactionManager rabbitTransactionManager(CachingConnectionFactory connectionFactory) {\n        return new RabbitTransactionManager(connectionFactory);\n    }\n}\n```\n\n\n\n```java\n@Slf4j\n@Component\npublic class BusinessMsgConsumer {\n\n\n    @RabbitListener(queues = BUSINESS_QUEUEA_NAME)\n    public void receiveMsg(Message message, Channel channel) throws IOException {\n        String msg = new String(message.getBody());\n        log.info(\"{}\", msg);\n        channel.basicNack(message.getMessageProperties().getDeliveryTag(), false, false);\n    }\n}\n```\n\n\n\n```java\n@Slf4j\n@Component\npublic class BusinessMsgProducer{\n\n    @Autowired\n    private RabbitTemplate rabbitTemplate;\n\n    @PostConstruct\n    private void init() {\n        rabbitTemplate.setChannelTransacted(true);\n    }\n\n    @Transactional\n    public void sendMsg(String msg) {\n        rabbitTemplate.convertAndSend(BUSINESS_EXCHANGE_NAME, \"key\", msg);\n        if (msg != null && msg.contains(\"exception\"))\n            throw new RuntimeException(\"surprise!\");\n        log.info(\" {}\" ,msg);\n    }\n}\n```\n\n\n\n1. ` rabbitTemplate.setChannelTransacted(true);` \n2.  `@Transactional` \n\ncontroller\n\n```java\n@RestController\npublic class BusinessController {\n\n    @Autowired\n    private BusinessMsgProducer producer;\n\n    @RequestMapping(\"send\")\n    public void sendMsg(String msg){\n        producer.sendMsg(msg);\n    }\n}\n```\n\n\n\n```shell\nmsg:1\n 1\n1\nmsg:2\n 2\n2\nmsg:3\n 3\n3\nmsg:exception\n\nServlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.RuntimeException: surprise!] with root cause\n\njava.lang.RuntimeException: surprise!\n\tat com.mfrank.rabbitmqdemo.producer.BusinessMsgProducer.sendMsg(BusinessMsgProducer.java:30)\n    ...\n```\n\n `msg`  `exception`  `rabbitTemplate.convertAndSend` \n\n\n\nRabbitMQ4\n\n### RabbitMQ\n\n*RabbitMQ**AMQP**Basic.Ack**Basic.Nack* RPC\n\n\n\nSpringbootRabbitMQ\n\n```yml\nspring:\n  rabbitmq:\n    host: localhost\n    password: guest\n    username: guest\n    listener:\n      type: simple\n      simple:\n        default-requeue-rejected: false\n        acknowledge-mode: manual\n    publisher-confirms: true\n```\n\n` publisher-confirms: true` \n\n\n\n```java\n@Slf4j\n@Component\npublic class BusinessMsgProducer implements RabbitTemplate.ConfirmCallback{\n\n    @Autowired\n    private RabbitTemplate rabbitTemplate;\n\n    @PostConstruct\n    private void init() {\n//        rabbitTemplate.setChannelTransacted(true);\n        rabbitTemplate.setConfirmCallback(this);\n    }\n\n    public void sendCustomMsg(String exchange, String msg) {\n        CorrelationData correlationData = new CorrelationData(UUID.randomUUID().toString());\n\n        log.info(\"id:{}, msg:{}\", correlationData.getId(), msg);\n\n        rabbitTemplate.convertAndSend(exchange, \"key\", msg, correlationData);\n    }\n    \n    @Override\n    public void confirm(CorrelationData correlationData, boolean b, String s) {\n        String id = correlationData != null ? correlationData.getId() : \"\";\n        if (b) {\n            log.info(\", id:{}\", id);\n        } else {\n            log.error(\", id:{}, cause:{}\", id, s);\n        }\n    }\n}\n```\n\n`RabbitTemplate.ConfirmCallback` `confirm` \n\n\n\n```java\nCorrelationData correlationData = new CorrelationData(UUID.randomUUID().toString());\n\nrabbitTemplate.convertAndSend(exchange, \"key\", msg, correlationData);\n```\n\nIDID*Redis**Mysql*\n\n[]\n\n![5b65729e0001439305000294.jpg](https://i.loli.net/2019/08/19/CO5bs2xwh4WHFpM.png)\n\n*RabbitMQ*\n\n\n\n\n\n*RabbitMQ*RabbitMQ\n\n## \n\n\n\n*redis*\n\n*RabbitMQ*emmm\n\n![111.png.jpg](https://i.loli.net/2019/08/19/c8ZGAL7OEPQTeWM.jpg)","slug":"rabbitmq/rabbitmq-how-to-ensure-reliable-delivery-of-message","published":1,"updated":"2020-05-03T17:00:20.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cl70rsfbj00115ohu0wq7hw4y","content":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><em>RabbitMQ</em></p>\n<p><img src=\"https://i.loli.net/2019/08/19/o3ZELv7GkRImstJ.jpg\" alt=\"u=1091165172,1855706818&amp;fm=26&amp;gp=0.jpg\"></p>\n<pre class=\" language-java\"><code class=\"language-java\"><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>xxx<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">08</span><span class=\"token operator\">-</span><span class=\"token number\">15</span> <span class=\"token number\">16</span><span class=\"token operator\">:</span><span class=\"token number\">36</span><span class=\"token operator\">:</span><span class=\"token number\">04</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>alertId<span class=\"token operator\">=</span><span class=\"token punctuation\">[</span>xxx<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>amqp<span class=\"token punctuation\">.</span>rabbit<span class=\"token punctuation\">.</span>listener<span class=\"token punctuation\">.</span>BlockingQueueConsumer<span class=\"token operator\">:</span>start<span class=\"token operator\">:</span><span class=\"token number\">620</span><span class=\"token punctuation\">]</span>\nxxx \n\n org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>amqp<span class=\"token punctuation\">.</span>rabbit<span class=\"token punctuation\">.</span>listener<span class=\"token punctuation\">.</span>BlockingQueueConsumer<span class=\"token operator\">:</span>start<span class=\"token operator\">:</span><span class=\"token number\">620</span>\n <span class=\"token operator\">:</span>\n<span class=\"token number\">1</span><span class=\"token punctuation\">.</span>org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>amqp<span class=\"token punctuation\">.</span>rabbit<span class=\"token punctuation\">.</span>listener<span class=\"token punctuation\">.</span>QueuesNotAvailableException<span class=\"token operator\">:</span> Cannot prepare queue <span class=\"token keyword\">for</span> listener<span class=\"token punctuation\">.</span> Either the queue doesn't exist or the broker will not allow us to use it<span class=\"token punctuation\">.</span>\n<span class=\"token operator\">||</span>Consumer received fatal<span class=\"token operator\">=</span><span class=\"token boolean\">false</span> exception on startup<span class=\"token operator\">:</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\nxxx \n\n org<span class=\"token punctuation\">.</span>springframework<span class=\"token punctuation\">.</span>amqp<span class=\"token punctuation\">.</span>rabbit<span class=\"token punctuation\">.</span>listener<span class=\"token punctuation\">.</span>SimpleMessageListenerContainer$AsyncMessageProcessingConsumer<span class=\"token operator\">:</span>run<span class=\"token operator\">:</span><span class=\"token number\">1160</span>\n <span class=\"token operator\">:</span>\n<span class=\"token number\">1</span><span class=\"token punctuation\">.</span>Stopping container from aborted consumer<span class=\"token operator\">||</span>Stopping container from aborted consumer<span class=\"token operator\">:</span></code></pre>\n<p><em>RabbitMQ</em><em>RabbitMQ</em>emmmm10</p>\n<p><em>RabbitMQ</em></p>\n<p><em>RabbitMQ</em><em>RabbitMQ</em></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><em>RabbitMQ</em><em>RabbitMQ</em></p>\n<ol>\n<li></li>\n<li><em>RabbitMQ</em></li>\n<li></li>\n<li><em>RabbitMQ</em></li>\n<li><em>RabbitMQ</em></li>\n</ol>\n<p></p>\n<p><img src=\"https://i.loli.net/2019/08/18/yHcfoILDmTh7qbd.jpg\" alt=\"{6582FAF9-A46E-4239-810B-E1D6883ED070}.png.jpg\"></p>\n<p><em>Mandatory</em></p>\n<p>235<em>TCP</em></p>\n<p><img src=\"https://i.loli.net/2019/08/19/Fwp87UqONIKCZsJ.jpg\" alt=\"20170716034945131.jpg\"></p>\n<h2 id=\"RabbitMQ\"><a href=\"#RabbitMQ\" class=\"headerlink\" title=\"RabbitMQ\"></a>RabbitMQ</h2><p></p>\n<p></p>\n<p><em>RabbitMQ</em></p>\n<ol>\n<li></li>\n<li></li>\n</ol>\n<p><em>RabbitMQ</em></p>\n<p></p>\n<ol>\n<li></li>\n<li></li>\n<li></li>\n<li><em>RabbitMQ</em></li>\n<li><em>RabbitMQ</em></li>\n<li></li>\n<li></li>\n</ol>\n<p></p>\n<p></p>\n<h3 id=\"RabbitMQ\"><a href=\"#RabbitMQ\" class=\"headerlink\" title=\"RabbitMQ\"></a>RabbitMQ</h3><p><em>RabbitMQ</em><em>AMQP</em></p>\n<p><em>SpringBoot</em><em>RabbitMQ</em><em>Bean</em><em>RabbitTemplate</em>true</p>\n<p></p>\n<pre class=\" language-yml\"><code class=\"language-yml\">spring:\n  rabbitmq:\n    host: localhost\n    password: guest\n    username: guest\n    listener:\n      type: simple\n      simple:\n        default-requeue-rejected: false\n        acknowledge-mode: manual</code></pre>\n<p></p>\n<pre class=\" language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Configuration</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">RabbitMQConfig</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> String BUSINESS_EXCHANGE_NAME <span class=\"token operator\">=</span> <span class=\"token string\">\"rabbitmq.tx.demo.simple.business.exchange\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> String BUSINESS_QUEUEA_NAME <span class=\"token operator\">=</span> <span class=\"token string\">\"rabbitmq.tx.demo.simple.business.queue\"</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\" spellcheck=\"true\">// Exchange</span>\n    <span class=\"token annotation punctuation\">@Bean</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"businessExchange\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">public</span> FanoutExchange <span class=\"token function\">businessExchange</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">FanoutExchange</span><span class=\"token punctuation\">(</span>BUSINESS_EXCHANGE_NAME<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\" spellcheck=\"true\">// </span>\n    <span class=\"token annotation punctuation\">@Bean</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"businessQueue\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">public</span> Queue <span class=\"token function\">businessQueue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> QueueBuilder<span class=\"token punctuation\">.</span><span class=\"token function\">durable</span><span class=\"token punctuation\">(</span>BUSINESS_QUEUEA_NAME<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\" spellcheck=\"true\">// </span>\n    <span class=\"token annotation punctuation\">@Bean</span>\n    <span class=\"token keyword\">public</span> Binding <span class=\"token function\">businessBinding</span><span class=\"token punctuation\">(</span><span class=\"token annotation punctuation\">@Qualifier</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"businessQueue\"</span><span class=\"token punctuation\">)</span> Queue queue<span class=\"token punctuation\">,</span>\n                                    <span class=\"token annotation punctuation\">@Qualifier</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"businessExchange\"</span><span class=\"token punctuation\">)</span> FanoutExchange exchange<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> BindingBuilder<span class=\"token punctuation\">.</span><span class=\"token function\">bind</span><span class=\"token punctuation\">(</span>queue<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">to</span><span class=\"token punctuation\">(</span>exchange<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n\n    <span class=\"token comment\" spellcheck=\"true\">/**\n     * rabbitmq\n     * @param connectionFactory\n     * @return\n     */</span>\n    <span class=\"token annotation punctuation\">@Bean</span>\n    <span class=\"token keyword\">public</span> RabbitTransactionManager <span class=\"token function\">rabbitTransactionManager</span><span class=\"token punctuation\">(</span>CachingConnectionFactory connectionFactory<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">RabbitTransactionManager</span><span class=\"token punctuation\">(</span>connectionFactory<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p></p>\n<pre class=\" language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Slf4j</span>\n<span class=\"token annotation punctuation\">@Component</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">BusinessMsgConsumer</span> <span class=\"token punctuation\">{</span>\n\n\n    <span class=\"token annotation punctuation\">@RabbitListener</span><span class=\"token punctuation\">(</span>queues <span class=\"token operator\">=</span> BUSINESS_QUEUEA_NAME<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">receiveMsg</span><span class=\"token punctuation\">(</span>Message message<span class=\"token punctuation\">,</span> Channel channel<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> IOException <span class=\"token punctuation\">{</span>\n        String msg <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">.</span><span class=\"token function\">getBody</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        log<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"{}\"</span><span class=\"token punctuation\">,</span> msg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        channel<span class=\"token punctuation\">.</span><span class=\"token function\">basicNack</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">.</span><span class=\"token function\">getMessageProperties</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getDeliveryTag</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p></p>\n<pre class=\" language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Slf4j</span>\n<span class=\"token annotation punctuation\">@Component</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">BusinessMsgProducer</span><span class=\"token punctuation\">{</span>\n\n    <span class=\"token annotation punctuation\">@Autowired</span>\n    <span class=\"token keyword\">private</span> RabbitTemplate rabbitTemplate<span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@PostConstruct</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">void</span> <span class=\"token function\">init</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        rabbitTemplate<span class=\"token punctuation\">.</span><span class=\"token function\">setChannelTransacted</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token annotation punctuation\">@Transactional</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">sendMsg</span><span class=\"token punctuation\">(</span>String msg<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        rabbitTemplate<span class=\"token punctuation\">.</span><span class=\"token function\">convertAndSend</span><span class=\"token punctuation\">(</span>BUSINESS_EXCHANGE_NAME<span class=\"token punctuation\">,</span> <span class=\"token string\">\"key\"</span><span class=\"token punctuation\">,</span> msg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>msg <span class=\"token operator\">!=</span> null <span class=\"token operator\">&amp;&amp;</span> msg<span class=\"token punctuation\">.</span><span class=\"token function\">contains</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"exception\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">RuntimeException</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"surprise!\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        log<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token string\">\" {}\"</span> <span class=\"token punctuation\">,</span>msg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p></p>\n<ol>\n<li><code>rabbitTemplate.setChannelTransacted(true);</code> </li>\n<li> <code>@Transactional</code> </li>\n</ol>\n<p>controller</p>\n<pre class=\" language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@RestController</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">BusinessController</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token annotation punctuation\">@Autowired</span>\n    <span class=\"token keyword\">private</span> BusinessMsgProducer producer<span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@RequestMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"send\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">sendMsg</span><span class=\"token punctuation\">(</span>String msg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        producer<span class=\"token punctuation\">.</span><span class=\"token function\">sendMsg</span><span class=\"token punctuation\">(</span>msg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p></p>\n<pre class=\" language-shell\"><code class=\"language-shell\">msg:1\n 1\n1\nmsg:2\n 2\n2\nmsg:3\n 3\n3\nmsg:exception\n\nServlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.RuntimeException: surprise!] with root cause\n\njava.lang.RuntimeException: surprise!\n    at com.mfrank.rabbitmqdemo.producer.BusinessMsgProducer.sendMsg(BusinessMsgProducer.java:30)\n    ...</code></pre>\n<p> <code>msg</code>  <code>exception</code>  <code>rabbitTemplate.convertAndSend</code> </p>\n<p></p>\n<p>RabbitMQ4</p>\n<h3 id=\"RabbitMQ\"><a href=\"#RabbitMQ\" class=\"headerlink\" title=\"RabbitMQ\"></a>RabbitMQ</h3><p><em>RabbitMQ<em></em>AMQP<em></em>Basic.Ack<em></em>Basic.Nack</em> RPC</p>\n<p></p>\n<p>SpringbootRabbitMQ</p>\n<pre class=\" language-yml\"><code class=\"language-yml\">spring:\n  rabbitmq:\n    host: localhost\n    password: guest\n    username: guest\n    listener:\n      type: simple\n      simple:\n        default-requeue-rejected: false\n        acknowledge-mode: manual\n    publisher-confirms: true</code></pre>\n<p><code>publisher-confirms: true</code> </p>\n<p></p>\n<pre class=\" language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Slf4j</span>\n<span class=\"token annotation punctuation\">@Component</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">BusinessMsgProducer</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">RabbitTemplate<span class=\"token punctuation\">.</span>ConfirmCallback</span><span class=\"token punctuation\">{</span>\n\n    <span class=\"token annotation punctuation\">@Autowired</span>\n    <span class=\"token keyword\">private</span> RabbitTemplate rabbitTemplate<span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@PostConstruct</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">void</span> <span class=\"token function\">init</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n<span class=\"token comment\" spellcheck=\"true\">//        rabbitTemplate.setChannelTransacted(true);</span>\n        rabbitTemplate<span class=\"token punctuation\">.</span><span class=\"token function\">setConfirmCallback</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">sendCustomMsg</span><span class=\"token punctuation\">(</span>String exchange<span class=\"token punctuation\">,</span> String msg<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        CorrelationData correlationData <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">CorrelationData</span><span class=\"token punctuation\">(</span>UUID<span class=\"token punctuation\">.</span><span class=\"token function\">randomUUID</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        log<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"id:{}, msg:{}\"</span><span class=\"token punctuation\">,</span> correlationData<span class=\"token punctuation\">.</span><span class=\"token function\">getId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> msg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        rabbitTemplate<span class=\"token punctuation\">.</span><span class=\"token function\">convertAndSend</span><span class=\"token punctuation\">(</span>exchange<span class=\"token punctuation\">,</span> <span class=\"token string\">\"key\"</span><span class=\"token punctuation\">,</span> msg<span class=\"token punctuation\">,</span> correlationData<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token annotation punctuation\">@Override</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">confirm</span><span class=\"token punctuation\">(</span>CorrelationData correlationData<span class=\"token punctuation\">,</span> <span class=\"token keyword\">boolean</span> b<span class=\"token punctuation\">,</span> String s<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        String id <span class=\"token operator\">=</span> correlationData <span class=\"token operator\">!=</span> null <span class=\"token operator\">?</span> correlationData<span class=\"token punctuation\">.</span><span class=\"token function\">getId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>b<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            log<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token string\">\", id:{}\"</span><span class=\"token punctuation\">,</span> id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n            log<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span><span class=\"token string\">\", id:{}, cause:{}\"</span><span class=\"token punctuation\">,</span> id<span class=\"token punctuation\">,</span> s<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p><code>RabbitTemplate.ConfirmCallback</code> <code>confirm</code> </p>\n<p></p>\n<pre class=\" language-java\"><code class=\"language-java\">CorrelationData correlationData <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">CorrelationData</span><span class=\"token punctuation\">(</span>UUID<span class=\"token punctuation\">.</span><span class=\"token function\">randomUUID</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nrabbitTemplate<span class=\"token punctuation\">.</span><span class=\"token function\">convertAndSend</span><span class=\"token punctuation\">(</span>exchange<span class=\"token punctuation\">,</span> <span class=\"token string\">\"key\"</span><span class=\"token punctuation\">,</span> msg<span class=\"token punctuation\">,</span> correlationData<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>IDID<em>Redis</em><em>Mysql</em></p>\n<p>[]</p>\n<p><img src=\"https://i.loli.net/2019/08/19/CO5bs2xwh4WHFpM.png\" alt=\"5b65729e0001439305000294.jpg\"></p>\n<p><em>RabbitMQ</em></p>\n<p></p>\n<p></p>\n<p><em>RabbitMQ</em>RabbitMQ</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p><em>redis</em></p>\n<p><em>RabbitMQ</em>emmm</p>\n<p><img src=\"https://i.loli.net/2019/08/19/c8ZGAL7OEPQTeWM.jpg\" alt=\"111.png.jpg\"></p>\n<script>\n        document.querySelectorAll('.github-emoji')\n          .forEach(el => {\n            if (!el.dataset.src) { return; }\n            const img = document.createElement('img');\n            img.style = 'display:none !important;';\n            img.src = el.dataset.src;\n            img.addEventListener('error', () => {\n              img.remove();\n              el.style.color = 'inherit';\n              el.style.backgroundImage = 'none';\n              el.style.background = 'none';\n            });\n            img.addEventListener('load', () => {\n              img.remove();\n            });\n            document.body.appendChild(img);\n          });\n      </script>","site":{"data":{"friends":[{"avatar":"https://draveness.me/images/draven-logo.png","name":"","introduction":"","url":"https://draveness.me/","title":""}]}},"excerpt":"","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><em>RabbitMQ</em></p>\n<p><img src=\"https://i.loli.net/2019/08/19/o3ZELv7GkRImstJ.jpg\" alt=\"u=1091165172,1855706818&amp;fm=26&amp;gp=0.jpg\"></p>\n<pre><code class=\"java\">[] [xxx][08-15 16:36:04][]alertId=[xxx][org.springframework.amqp.rabbit.listener.BlockingQueueConsumer:start:620]\nxxx \n\n org.springframework.amqp.rabbit.listener.BlockingQueueConsumer:start:620\n :\n1.org.springframework.amqp.rabbit.listener.QueuesNotAvailableException: Cannot prepare queue for listener. Either the queue doesn&#39;t exist or the broker will not allow us to use it.\n||Consumer received fatal=false exception on startup:\n...\nxxx \n\n org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer:run:1160\n :\n1.Stopping container from aborted consumer||Stopping container from aborted consumer:</code></pre>\n<p><em>RabbitMQ</em><em>RabbitMQ</em>emmmm10</p>\n<p><em>RabbitMQ</em></p>\n<p><em>RabbitMQ</em><em>RabbitMQ</em></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><em>RabbitMQ</em><em>RabbitMQ</em></p>\n<ol>\n<li></li>\n<li><em>RabbitMQ</em></li>\n<li></li>\n<li><em>RabbitMQ</em></li>\n<li><em>RabbitMQ</em></li>\n</ol>\n<p></p>\n<p><img src=\"https://i.loli.net/2019/08/18/yHcfoILDmTh7qbd.jpg\" alt=\"{6582FAF9-A46E-4239-810B-E1D6883ED070}.png.jpg\"></p>\n<p><em>Mandatory</em></p>\n<p>235<em>TCP</em></p>\n<p><img src=\"https://i.loli.net/2019/08/19/Fwp87UqONIKCZsJ.jpg\" alt=\"20170716034945131.jpg\"></p>\n<h2 id=\"RabbitMQ\"><a href=\"#RabbitMQ\" class=\"headerlink\" title=\"RabbitMQ\"></a>RabbitMQ</h2><p></p>\n<p></p>\n<p><em>RabbitMQ</em></p>\n<ol>\n<li></li>\n<li></li>\n</ol>\n<p><em>RabbitMQ</em></p>\n<p></p>\n<ol>\n<li></li>\n<li></li>\n<li></li>\n<li><em>RabbitMQ</em></li>\n<li><em>RabbitMQ</em></li>\n<li></li>\n<li></li>\n</ol>\n<p></p>\n<p></p>\n<h3 id=\"RabbitMQ\"><a href=\"#RabbitMQ\" class=\"headerlink\" title=\"RabbitMQ\"></a>RabbitMQ</h3><p><em>RabbitMQ</em><em>AMQP</em></p>\n<p><em>SpringBoot</em><em>RabbitMQ</em><em>Bean</em><em>RabbitTemplate</em>true</p>\n<p></p>\n<pre><code class=\"yml\">spring:\n  rabbitmq:\n    host: localhost\n    password: guest\n    username: guest\n    listener:\n      type: simple\n      simple:\n        default-requeue-rejected: false\n        acknowledge-mode: manual</code></pre>\n<p></p>\n<pre><code class=\"java\">@Configuration\npublic class RabbitMQConfig {\n\n    public static final String BUSINESS_EXCHANGE_NAME = &quot;rabbitmq.tx.demo.simple.business.exchange&quot;;\n    public static final String BUSINESS_QUEUEA_NAME = &quot;rabbitmq.tx.demo.simple.business.queue&quot;;\n\n    // Exchange\n    @Bean(&quot;businessExchange&quot;)\n    public FanoutExchange businessExchange(){\n        return new FanoutExchange(BUSINESS_EXCHANGE_NAME);\n    }\n\n    // \n    @Bean(&quot;businessQueue&quot;)\n    public Queue businessQueue(){\n        return QueueBuilder.durable(BUSINESS_QUEUEA_NAME).build();\n    }\n\n    // \n    @Bean\n    public Binding businessBinding(@Qualifier(&quot;businessQueue&quot;) Queue queue,\n                                    @Qualifier(&quot;businessExchange&quot;) FanoutExchange exchange){\n        return BindingBuilder.bind(queue).to(exchange);\n    }\n\n\n    /**\n     * rabbitmq\n     * @param connectionFactory\n     * @return\n     */\n    @Bean\n    public RabbitTransactionManager rabbitTransactionManager(CachingConnectionFactory connectionFactory) {\n        return new RabbitTransactionManager(connectionFactory);\n    }\n}</code></pre>\n<p></p>\n<pre><code class=\"java\">@Slf4j\n@Component\npublic class BusinessMsgConsumer {\n\n\n    @RabbitListener(queues = BUSINESS_QUEUEA_NAME)\n    public void receiveMsg(Message message, Channel channel) throws IOException {\n        String msg = new String(message.getBody());\n        log.info(&quot;{}&quot;, msg);\n        channel.basicNack(message.getMessageProperties().getDeliveryTag(), false, false);\n    }\n}</code></pre>\n<p></p>\n<pre><code class=\"java\">@Slf4j\n@Component\npublic class BusinessMsgProducer{\n\n    @Autowired\n    private RabbitTemplate rabbitTemplate;\n\n    @PostConstruct\n    private void init() {\n        rabbitTemplate.setChannelTransacted(true);\n    }\n\n    @Transactional\n    public void sendMsg(String msg) {\n        rabbitTemplate.convertAndSend(BUSINESS_EXCHANGE_NAME, &quot;key&quot;, msg);\n        if (msg != null &amp;&amp; msg.contains(&quot;exception&quot;))\n            throw new RuntimeException(&quot;surprise!&quot;);\n        log.info(&quot; {}&quot; ,msg);\n    }\n}</code></pre>\n<p></p>\n<ol>\n<li><code>rabbitTemplate.setChannelTransacted(true);</code> </li>\n<li> <code>@Transactional</code> </li>\n</ol>\n<p>controller</p>\n<pre><code class=\"java\">@RestController\npublic class BusinessController {\n\n    @Autowired\n    private BusinessMsgProducer producer;\n\n    @RequestMapping(&quot;send&quot;)\n    public void sendMsg(String msg){\n        producer.sendMsg(msg);\n    }\n}</code></pre>\n<p></p>\n<pre><code class=\"shell\">msg:1\n 1\n1\nmsg:2\n 2\n2\nmsg:3\n 3\n3\nmsg:exception\n\nServlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.RuntimeException: surprise!] with root cause\n\njava.lang.RuntimeException: surprise!\n    at com.mfrank.rabbitmqdemo.producer.BusinessMsgProducer.sendMsg(BusinessMsgProducer.java:30)\n    ...</code></pre>\n<p> <code>msg</code>  <code>exception</code>  <code>rabbitTemplate.convertAndSend</code> </p>\n<p></p>\n<p>RabbitMQ4</p>\n<h3 id=\"RabbitMQ\"><a href=\"#RabbitMQ\" class=\"headerlink\" title=\"RabbitMQ\"></a>RabbitMQ</h3><p><em>RabbitMQ<em></em>AMQP<em></em>Basic.Ack<em></em>Basic.Nack</em> RPC</p>\n<p></p>\n<p>SpringbootRabbitMQ</p>\n<pre><code class=\"yml\">spring:\n  rabbitmq:\n    host: localhost\n    password: guest\n    username: guest\n    listener:\n      type: simple\n      simple:\n        default-requeue-rejected: false\n        acknowledge-mode: manual\n    publisher-confirms: true</code></pre>\n<p><code>publisher-confirms: true</code> </p>\n<p></p>\n<pre><code class=\"java\">@Slf4j\n@Component\npublic class BusinessMsgProducer implements RabbitTemplate.ConfirmCallback{\n\n    @Autowired\n    private RabbitTemplate rabbitTemplate;\n\n    @PostConstruct\n    private void init() {\n//        rabbitTemplate.setChannelTransacted(true);\n        rabbitTemplate.setConfirmCallback(this);\n    }\n\n    public void sendCustomMsg(String exchange, String msg) {\n        CorrelationData correlationData = new CorrelationData(UUID.randomUUID().toString());\n\n        log.info(&quot;id:{}, msg:{}&quot;, correlationData.getId(), msg);\n\n        rabbitTemplate.convertAndSend(exchange, &quot;key&quot;, msg, correlationData);\n    }\n\n    @Override\n    public void confirm(CorrelationData correlationData, boolean b, String s) {\n        String id = correlationData != null ? correlationData.getId() : &quot;&quot;;\n        if (b) {\n            log.info(&quot;, id:{}&quot;, id);\n        } else {\n            log.error(&quot;, id:{}, cause:{}&quot;, id, s);\n        }\n    }\n}</code></pre>\n<p><code>RabbitTemplate.ConfirmCallback</code> <code>confirm</code> </p>\n<p></p>\n<pre><code class=\"java\">CorrelationData correlationData = new CorrelationData(UUID.randomUUID().toString());\n\nrabbitTemplate.convertAndSend(exchange, &quot;key&quot;, msg, correlationData);</code></pre>\n<p>IDID<em>Redis</em><em>Mysql</em></p>\n<p>[]</p>\n<p><img src=\"https://i.loli.net/2019/08/19/CO5bs2xwh4WHFpM.png\" alt=\"5b65729e0001439305000294.jpg\"></p>\n<p><em>RabbitMQ</em></p>\n<p></p>\n<p></p>\n<p><em>RabbitMQ</em>RabbitMQ</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p><em>redis</em></p>\n<p><em>RabbitMQ</em>emmm</p>\n<p><img src=\"https://i.loli.net/2019/08/19/c8ZGAL7OEPQTeWM.jpg\" alt=\"111.png.jpg\"></p>\n"},{"title":"RabbitMQ","toc":true,"top":true,"cover":true,"date":"2020-05-03T17:00:30.000Z","_content":"\n## \n\n*RabbitMQ*RabbitMQACKemmm\n\n![1](https://i.loli.net/2019/08/22/nmPFS3RkIMweEXc.png)\n\n## \n\n\n\n\n\n*DirectExchange* *RoutingKey*  *Bindingkey* key\n\n```java\npublic static final String BUSINESS_EXCHANGE_NAME = \"rabbitmq.tx.demo.simple.business.exchange\";\npublic static final String BUSINESS_QUEUEA_NAME = \"rabbitmq.tx.demo.simple.business.queue\";\n\n//  Exchange\n@Bean(\"businessExchange\")\npublic DirectExchange businessExchange(){\n    return new DirectExchange(BUSINESS_EXCHANGE_NAME);\n}\n\n// \n@Bean(\"businessQueue\")\npublic Queue businessQueue(){\n    return QueueBuilder.durable(BUSINESS_QUEUEA_NAME).build();\n}\n\n// \n@Bean\npublic Binding businessBinding(@Qualifier(\"businessQueue\") Queue queue,\n                               @Qualifier(\"businessExchange\") DirectExchange exchange){\n    return BindingBuilder.bind(queue).to(exchange).with(\"key\");\n}\n```\n\n\n\n```java\n@Autowired\nprivate RabbitTemplate rabbitTemplate;\n\n@PostConstruct\nprivate void init() {\n    //        rabbitTemplate.setChannelTransacted(true);\n    rabbitTemplate.setConfirmCallback(this);\n}\n\npublic void sendCustomMsg(String exchange, String msg) {\n    CorrelationData correlationData = new CorrelationData(UUID.randomUUID().toString());\n\n    log.info(\"id:{}, msg:{}\", correlationData.getId(), msg);\n\n    rabbitTemplate.convertAndSend(exchange, \"key\", msg, correlationData);\n\n    correlationData = new CorrelationData(UUID.randomUUID().toString());\n\n    log.info(\"id:{}, msg:{}\", correlationData.getId(), msg);\n\n    rabbitTemplate.convertAndSend(exchange, \"key2\", msg, correlationData);\n}\n\n@Override\npublic void confirm(CorrelationData correlationData, boolean b, String s) {\n    String id = correlationData != null ? correlationData.getId() : \"\";\n    if (b) {\n        log.info(\", id:{}\", id);\n    } else {\n        log.error(\", id:{}, cause:{}\", id, s);\n    }\n}\n```\n\n\n\n```java\nid:ba6bf502-9381-4220-8dc9-313d6a289a4e, msg:1\nid:f0040a41-dc02-4e45-b8af-e3cfa8a118b2, msg:1\n, id:ba6bf502-9381-4220-8dc9-313d6a289a4e\n, id:f0040a41-dc02-4e45-b8af-e3cfa8a118b2\n1\n```\n\n *RoutingKey*  key RoutingKey  key2 *RoutingKey*  *BindingKey* \n\nACK\n\n*RabbitMQ*\n\n1mandatory \n2\n\n## mandatory \n\n *mandatory* \n\n *mandotory*  true false\n\n![2.png](https://i.loli.net/2019/09/01/YZ8acG1HxKQ9fLN.png)\n\n\n\n```java\nrabbitTemplate.setMandatory(true);\n```\n\n\n\n```java\nid:19729f33-15c4-4c1b-8d48-044c301e2a8e, msg:1\nid:4aea5c57-3e71-4a7b-8a00-1595d2b568eb, msg:1\n, id:19729f33-15c4-4c1b-8d48-044c301e2a8e\nReturned message but no callback available\n, id:4aea5c57-3e71-4a7b-8a00-1595d2b568eb\n1\n```\n\n `Returned message but no callback available` \n\n *mandatory* \n\n `RabbitTemplate.ReturnCallback`\n\n```java\n@Slf4j\n@Component\npublic class BusinessMsgProducer implements RabbitTemplate.ConfirmCallback, RabbitTemplate.ReturnCallback{\n\n    @Autowired\n    private RabbitTemplate rabbitTemplate;\n\n    @PostConstruct\n    private void init() {\n        rabbitTemplate.setConfirmCallback(this);\n        rabbitTemplate.setMandatory(true);\n        rabbitTemplate.setReturnCallback(this);\n    }\n\n    public void sendCustomMsg(String exchange, String msg) {\n        CorrelationData correlationData = new CorrelationData(UUID.randomUUID().toString());\n\n        log.info(\"id:{}, msg:{}\", correlationData.getId(), msg);\n\n        rabbitTemplate.convertAndSend(exchange, \"key\", msg, correlationData);\n\n        correlationData = new CorrelationData(UUID.randomUUID().toString());\n\n        log.info(\"id:{}, msg:{}\", correlationData.getId(), msg);\n\n        rabbitTemplate.convertAndSend(exchange, \"key2\", msg, correlationData);\n    }\n\n    @Override\n    public void confirm(CorrelationData correlationData, boolean b, String s) {\n        String id = correlationData != null ? correlationData.getId() : \"\";\n        if (b) {\n            log.info(\", id:{}\", id);\n        } else {\n            log.error(\", id:{}, cause:{}\", id, s);\n        }\n    }\n\n    @Override\n    public void returnedMessage(Message message, int replyCode, String replyText, String exchange, String routingKey) {\n        log.info(\"msg:{}, replyCode:{}. replyText:{}, exchange:{}, routingKey :{}\",\n                new String(message.getBody()), replyCode, replyText, exchange, routingKey);\n    }\n}\n```\n\n\n\n```java\nid:2e5c336a-883a-474e-b40e-b6e3499088ef, msg:1\nid:85c771cb-c88f-47dd-adea-f0da57138423, msg:1\n, id:2e5c336a-883a-474e-b40e-b6e3499088ef\nmsg:1, replyCode:312. replyText:NO_ROUTE, exchange:rabbitmq.tx.demo.simple.business.exchange, routingKey :key2\n, id:85c771cb-c88f-47dd-adea-f0da57138423\n1\n```\n\n`NO_ROUTE` *mandatory*  *mandatory* \n\n## \n\n *mandatory* \n\n *mandatory* \n\n\n\n RabbitMQ \n\n *RabbitMQ*  *Fanout* \n\n\n\n![3.png](https://i.loli.net/2019/09/01/VsGpZJbk2u7wSv4.png)\n\nemmm- - UI\n\n\n\n```java\n@Configuration\npublic class RabbitMQConfig {\n\n    public static final String BUSINESS_EXCHANGE_NAME = \"rabbitmq.backup.test.exchange\";\n    public static final String BUSINESS_QUEUE_NAME = \"rabbitmq.backup.test.queue\";\n    public static final String BUSINESS_BACKUP_EXCHANGE_NAME = \"rabbitmq.backup.test.backup-exchange\";\n    public static final String BUSINESS_BACKUP_QUEUE_NAME = \"rabbitmq.backup.test.backup-queue\";\n    public static final String BUSINESS_BACKUP_WARNING_QUEUE_NAME = \"rabbitmq.backup.test.backup-warning-queue\";\n\n    //  Exchange\n    @Bean(\"businessExchange\")\n    public DirectExchange businessExchange(){\n        ExchangeBuilder exchangeBuilder = ExchangeBuilder.directExchange(BUSINESS_EXCHANGE_NAME)\n                .durable(true)\n                .withArgument(\"alternate-exchange\", BUSINESS_BACKUP_EXCHANGE_NAME);\n\n        return (DirectExchange)exchangeBuilder.build();\n    }\n\n    //  Exchange\n    @Bean(\"backupExchange\")\n    public FanoutExchange backupExchange(){\n        ExchangeBuilder exchangeBuilder = ExchangeBuilder.fanoutExchange(BUSINESS_BACKUP_EXCHANGE_NAME)\n                .durable(true);\n        return (FanoutExchange)exchangeBuilder.build();\n    }\n\n    // \n    @Bean(\"businessQueue\")\n    public Queue businessQueue(){\n        return QueueBuilder.durable(BUSINESS_QUEUE_NAME).build();\n    }\n\n    // \n    @Bean\n    public Binding businessBinding(@Qualifier(\"businessQueue\") Queue queue,\n                                    @Qualifier(\"businessExchange\") DirectExchange exchange){\n        return BindingBuilder.bind(queue).to(exchange).with(\"key\");\n    }\n\n    // \n    @Bean(\"backupQueue\")\n    public Queue backupQueue(){\n        return QueueBuilder.durable(BUSINESS_BACKUP_QUEUE_NAME).build();\n    }\n\n    // \n    @Bean(\"warningQueue\")\n    public Queue warningQueue(){\n        return QueueBuilder.durable(BUSINESS_BACKUP_WARNING_QUEUE_NAME).build();\n    }\n\n    // \n    @Bean\n    public Binding backupBinding(@Qualifier(\"backupQueue\") Queue queue,\n                                   @Qualifier(\"backupExchange\") FanoutExchange exchange){\n        return BindingBuilder.bind(queue).to(exchange);\n    }\n\n    // \n    @Bean\n    public Binding backupWarningBinding(@Qualifier(\"warningQueue\") Queue queue,\n                                 @Qualifier(\"backupExchange\") FanoutExchange exchange){\n        return BindingBuilder.bind(queue).to(exchange);\n    }\n\n}\n```\n\n `ExchangeBuilder` \n\n```java\n .withArgument(\"alternate-exchange\", BUSINESS_BACKUP_EXCHANGE_NAME);\n```\n\n\n\n\n\n```java\n@Slf4j\n@Component\npublic class BusinessMsgConsumer {\n\n    @RabbitListener(queues = BUSINESS_QUEUE_NAME)\n    public void receiveMsg(Message message, Channel channel) throws IOException {\n        String msg = new String(message.getBody());\n        log.info(\"{}\", msg);\n        channel.basicNack(message.getMessageProperties().getDeliveryTag(), false, false);\n    }\n}\n```\n\n```java\n@Slf4j\n@Component\npublic class BusinessWaringConsumer {\n\n    @RabbitListener(queues = BUSINESS_BACKUP_WARNING_QUEUE_NAME)\n    public void receiveMsg(Message message, Channel channel) throws IOException {\n        String msg = new String(message.getBody());\n        log.error(\"{}\", msg);\n        channel.basicAck(message.getMessageProperties().getDeliveryTag(), false);\n    }\n}\n```\n\n\n\n```java\n@Slf4j\n@Component\npublic class BusinessMsgProducer {\n\n    @Autowired\n    private RabbitTemplate rabbitTemplate;\n\n    public void sendCustomMsg(String exchange, String msg) {\n\n\n        CorrelationData correlationData = new CorrelationData(UUID.randomUUID().toString());\n\n\n        log.info(\"id:{}, msg:{}\", correlationData.getId(), msg);\n\n        rabbitTemplate.convertAndSend(exchange, \"key\", msg, correlationData);\n\n        correlationData = new CorrelationData(UUID.randomUUID().toString());\n\n        log.info(\"id:{}, msg:{}\", correlationData.getId(), msg);\n\n        rabbitTemplate.convertAndSend(exchange, \"key2\", msg, correlationData);\n    }\n}\n```\n\n\n\n```java\nid:5c3a33c9-0764-4d1f-bf6a-a00d771dccb4, msg:1\nid:42ac8c35-1d0a-4413-a1df-c26a85435354, msg:1\n1\n1\n```\n\n *error* \n\n*mandatory*  *mandatory* \n\nemmm\n\n\n\n```java\n@Slf4j\n@Component\npublic class BusinessMsgProducer implements RabbitTemplate.ConfirmCallback, RabbitTemplate.ReturnCallback{\n\n    @Autowired\n    private RabbitTemplate rabbitTemplate;\n\n    @PostConstruct\n    private void init() {\n//        rabbitTemplate.setChannelTransacted(true);\n        rabbitTemplate.setConfirmCallback(this);\n        rabbitTemplate.setMandatory(true);\n        rabbitTemplate.setReturnCallback(this);\n    }\n\n    public void sendCustomMsg(String exchange, String msg) {\n\n\n        CorrelationData correlationData = new CorrelationData(UUID.randomUUID().toString());\n\n\n        log.info(\"id:{}, msg:{}\", correlationData.getId(), msg);\n\n        rabbitTemplate.convertAndSend(exchange, \"key\", msg, correlationData);\n\n        correlationData = new CorrelationData(UUID.randomUUID().toString());\n\n        log.info(\"id:{}, msg:{}\", correlationData.getId(), msg);\n\n        rabbitTemplate.convertAndSend(exchange, \"key2\", msg, correlationData);\n    }\n\n\n    @Override\n    public void confirm(CorrelationData correlationData, boolean b, String s) {\n        String id = correlationData != null ? correlationData.getId() : \"\";\n        if (b) {\n            log.info(\", id:{}\", id);\n        } else {\n            log.error(\", id:{}, cause:{}\", id, s);\n        }\n    }\n\n    @Override\n    public void returnedMessage(Message message, int replyCode, String replyText, String exchange, String routingKey) {\n        log.info(\"msg:{}, replyCode:{}. replyText:{}, exchange:{}, routingKey :{}\",\n                new String(message.getBody()), replyCode, replyText, exchange, routingKey);\n    }\n}\n```\n\n\n\n```java\nid:0a3eca1e-d937-418c-a7ce-bfb8ce25fdd4, msg:1\nid:d8c9e010-e120-46da-a42e-1ba21026ff06, msg:1\n, id:0a3eca1e-d937-418c-a7ce-bfb8ce25fdd4\n, id:d8c9e010-e120-46da-a42e-1ba21026ff06\n1\n1\n```\n\n\n\n## \n\n mandatory \n\nMQ\n\n *RabbitMQ*  *RabbitMQ*  *RabbitMQ* \n\n\n\n[//]: # (![1565529015677.png]&#40;https://i.loli.net/2019/08/11/8MxBPNgyIlTZDRk.png&#41;)\n","source":"_posts/rabbitmq/rabbitmq-how-to-ensure-reliable-delivery-of-message2.md","raw":"---\ntitle: RabbitMQ\ntags:\n  - RabbitMQ\ncategories:\n  - \ntoc: true\ntop: true\ncover: true\ndate: 2020-05-04 01:00:30\n---\n\n## \n\n*RabbitMQ*RabbitMQACKemmm\n\n![1](https://i.loli.net/2019/08/22/nmPFS3RkIMweEXc.png)\n\n## \n\n\n\n\n\n*DirectExchange* *RoutingKey*  *Bindingkey* key\n\n```java\npublic static final String BUSINESS_EXCHANGE_NAME = \"rabbitmq.tx.demo.simple.business.exchange\";\npublic static final String BUSINESS_QUEUEA_NAME = \"rabbitmq.tx.demo.simple.business.queue\";\n\n//  Exchange\n@Bean(\"businessExchange\")\npublic DirectExchange businessExchange(){\n    return new DirectExchange(BUSINESS_EXCHANGE_NAME);\n}\n\n// \n@Bean(\"businessQueue\")\npublic Queue businessQueue(){\n    return QueueBuilder.durable(BUSINESS_QUEUEA_NAME).build();\n}\n\n// \n@Bean\npublic Binding businessBinding(@Qualifier(\"businessQueue\") Queue queue,\n                               @Qualifier(\"businessExchange\") DirectExchange exchange){\n    return BindingBuilder.bind(queue).to(exchange).with(\"key\");\n}\n```\n\n\n\n```java\n@Autowired\nprivate RabbitTemplate rabbitTemplate;\n\n@PostConstruct\nprivate void init() {\n    //        rabbitTemplate.setChannelTransacted(true);\n    rabbitTemplate.setConfirmCallback(this);\n}\n\npublic void sendCustomMsg(String exchange, String msg) {\n    CorrelationData correlationData = new CorrelationData(UUID.randomUUID().toString());\n\n    log.info(\"id:{}, msg:{}\", correlationData.getId(), msg);\n\n    rabbitTemplate.convertAndSend(exchange, \"key\", msg, correlationData);\n\n    correlationData = new CorrelationData(UUID.randomUUID().toString());\n\n    log.info(\"id:{}, msg:{}\", correlationData.getId(), msg);\n\n    rabbitTemplate.convertAndSend(exchange, \"key2\", msg, correlationData);\n}\n\n@Override\npublic void confirm(CorrelationData correlationData, boolean b, String s) {\n    String id = correlationData != null ? correlationData.getId() : \"\";\n    if (b) {\n        log.info(\", id:{}\", id);\n    } else {\n        log.error(\", id:{}, cause:{}\", id, s);\n    }\n}\n```\n\n\n\n```java\nid:ba6bf502-9381-4220-8dc9-313d6a289a4e, msg:1\nid:f0040a41-dc02-4e45-b8af-e3cfa8a118b2, msg:1\n, id:ba6bf502-9381-4220-8dc9-313d6a289a4e\n, id:f0040a41-dc02-4e45-b8af-e3cfa8a118b2\n1\n```\n\n *RoutingKey*  key RoutingKey  key2 *RoutingKey*  *BindingKey* \n\nACK\n\n*RabbitMQ*\n\n1mandatory \n2\n\n## mandatory \n\n *mandatory* \n\n *mandotory*  true false\n\n![2.png](https://i.loli.net/2019/09/01/YZ8acG1HxKQ9fLN.png)\n\n\n\n```java\nrabbitTemplate.setMandatory(true);\n```\n\n\n\n```java\nid:19729f33-15c4-4c1b-8d48-044c301e2a8e, msg:1\nid:4aea5c57-3e71-4a7b-8a00-1595d2b568eb, msg:1\n, id:19729f33-15c4-4c1b-8d48-044c301e2a8e\nReturned message but no callback available\n, id:4aea5c57-3e71-4a7b-8a00-1595d2b568eb\n1\n```\n\n `Returned message but no callback available` \n\n *mandatory* \n\n `RabbitTemplate.ReturnCallback`\n\n```java\n@Slf4j\n@Component\npublic class BusinessMsgProducer implements RabbitTemplate.ConfirmCallback, RabbitTemplate.ReturnCallback{\n\n    @Autowired\n    private RabbitTemplate rabbitTemplate;\n\n    @PostConstruct\n    private void init() {\n        rabbitTemplate.setConfirmCallback(this);\n        rabbitTemplate.setMandatory(true);\n        rabbitTemplate.setReturnCallback(this);\n    }\n\n    public void sendCustomMsg(String exchange, String msg) {\n        CorrelationData correlationData = new CorrelationData(UUID.randomUUID().toString());\n\n        log.info(\"id:{}, msg:{}\", correlationData.getId(), msg);\n\n        rabbitTemplate.convertAndSend(exchange, \"key\", msg, correlationData);\n\n        correlationData = new CorrelationData(UUID.randomUUID().toString());\n\n        log.info(\"id:{}, msg:{}\", correlationData.getId(), msg);\n\n        rabbitTemplate.convertAndSend(exchange, \"key2\", msg, correlationData);\n    }\n\n    @Override\n    public void confirm(CorrelationData correlationData, boolean b, String s) {\n        String id = correlationData != null ? correlationData.getId() : \"\";\n        if (b) {\n            log.info(\", id:{}\", id);\n        } else {\n            log.error(\", id:{}, cause:{}\", id, s);\n        }\n    }\n\n    @Override\n    public void returnedMessage(Message message, int replyCode, String replyText, String exchange, String routingKey) {\n        log.info(\"msg:{}, replyCode:{}. replyText:{}, exchange:{}, routingKey :{}\",\n                new String(message.getBody()), replyCode, replyText, exchange, routingKey);\n    }\n}\n```\n\n\n\n```java\nid:2e5c336a-883a-474e-b40e-b6e3499088ef, msg:1\nid:85c771cb-c88f-47dd-adea-f0da57138423, msg:1\n, id:2e5c336a-883a-474e-b40e-b6e3499088ef\nmsg:1, replyCode:312. replyText:NO_ROUTE, exchange:rabbitmq.tx.demo.simple.business.exchange, routingKey :key2\n, id:85c771cb-c88f-47dd-adea-f0da57138423\n1\n```\n\n`NO_ROUTE` *mandatory*  *mandatory* \n\n## \n\n *mandatory* \n\n *mandatory* \n\n\n\n RabbitMQ \n\n *RabbitMQ*  *Fanout* \n\n\n\n![3.png](https://i.loli.net/2019/09/01/VsGpZJbk2u7wSv4.png)\n\nemmm- - UI\n\n\n\n```java\n@Configuration\npublic class RabbitMQConfig {\n\n    public static final String BUSINESS_EXCHANGE_NAME = \"rabbitmq.backup.test.exchange\";\n    public static final String BUSINESS_QUEUE_NAME = \"rabbitmq.backup.test.queue\";\n    public static final String BUSINESS_BACKUP_EXCHANGE_NAME = \"rabbitmq.backup.test.backup-exchange\";\n    public static final String BUSINESS_BACKUP_QUEUE_NAME = \"rabbitmq.backup.test.backup-queue\";\n    public static final String BUSINESS_BACKUP_WARNING_QUEUE_NAME = \"rabbitmq.backup.test.backup-warning-queue\";\n\n    //  Exchange\n    @Bean(\"businessExchange\")\n    public DirectExchange businessExchange(){\n        ExchangeBuilder exchangeBuilder = ExchangeBuilder.directExchange(BUSINESS_EXCHANGE_NAME)\n                .durable(true)\n                .withArgument(\"alternate-exchange\", BUSINESS_BACKUP_EXCHANGE_NAME);\n\n        return (DirectExchange)exchangeBuilder.build();\n    }\n\n    //  Exchange\n    @Bean(\"backupExchange\")\n    public FanoutExchange backupExchange(){\n        ExchangeBuilder exchangeBuilder = ExchangeBuilder.fanoutExchange(BUSINESS_BACKUP_EXCHANGE_NAME)\n                .durable(true);\n        return (FanoutExchange)exchangeBuilder.build();\n    }\n\n    // \n    @Bean(\"businessQueue\")\n    public Queue businessQueue(){\n        return QueueBuilder.durable(BUSINESS_QUEUE_NAME).build();\n    }\n\n    // \n    @Bean\n    public Binding businessBinding(@Qualifier(\"businessQueue\") Queue queue,\n                                    @Qualifier(\"businessExchange\") DirectExchange exchange){\n        return BindingBuilder.bind(queue).to(exchange).with(\"key\");\n    }\n\n    // \n    @Bean(\"backupQueue\")\n    public Queue backupQueue(){\n        return QueueBuilder.durable(BUSINESS_BACKUP_QUEUE_NAME).build();\n    }\n\n    // \n    @Bean(\"warningQueue\")\n    public Queue warningQueue(){\n        return QueueBuilder.durable(BUSINESS_BACKUP_WARNING_QUEUE_NAME).build();\n    }\n\n    // \n    @Bean\n    public Binding backupBinding(@Qualifier(\"backupQueue\") Queue queue,\n                                   @Qualifier(\"backupExchange\") FanoutExchange exchange){\n        return BindingBuilder.bind(queue).to(exchange);\n    }\n\n    // \n    @Bean\n    public Binding backupWarningBinding(@Qualifier(\"warningQueue\") Queue queue,\n                                 @Qualifier(\"backupExchange\") FanoutExchange exchange){\n        return BindingBuilder.bind(queue).to(exchange);\n    }\n\n}\n```\n\n `ExchangeBuilder` \n\n```java\n .withArgument(\"alternate-exchange\", BUSINESS_BACKUP_EXCHANGE_NAME);\n```\n\n\n\n\n\n```java\n@Slf4j\n@Component\npublic class BusinessMsgConsumer {\n\n    @RabbitListener(queues = BUSINESS_QUEUE_NAME)\n    public void receiveMsg(Message message, Channel channel) throws IOException {\n        String msg = new String(message.getBody());\n        log.info(\"{}\", msg);\n        channel.basicNack(message.getMessageProperties().getDeliveryTag(), false, false);\n    }\n}\n```\n\n```java\n@Slf4j\n@Component\npublic class BusinessWaringConsumer {\n\n    @RabbitListener(queues = BUSINESS_BACKUP_WARNING_QUEUE_NAME)\n    public void receiveMsg(Message message, Channel channel) throws IOException {\n        String msg = new String(message.getBody());\n        log.error(\"{}\", msg);\n        channel.basicAck(message.getMessageProperties().getDeliveryTag(), false);\n    }\n}\n```\n\n\n\n```java\n@Slf4j\n@Component\npublic class BusinessMsgProducer {\n\n    @Autowired\n    private RabbitTemplate rabbitTemplate;\n\n    public void sendCustomMsg(String exchange, String msg) {\n\n\n        CorrelationData correlationData = new CorrelationData(UUID.randomUUID().toString());\n\n\n        log.info(\"id:{}, msg:{}\", correlationData.getId(), msg);\n\n        rabbitTemplate.convertAndSend(exchange, \"key\", msg, correlationData);\n\n        correlationData = new CorrelationData(UUID.randomUUID().toString());\n\n        log.info(\"id:{}, msg:{}\", correlationData.getId(), msg);\n\n        rabbitTemplate.convertAndSend(exchange, \"key2\", msg, correlationData);\n    }\n}\n```\n\n\n\n```java\nid:5c3a33c9-0764-4d1f-bf6a-a00d771dccb4, msg:1\nid:42ac8c35-1d0a-4413-a1df-c26a85435354, msg:1\n1\n1\n```\n\n *error* \n\n*mandatory*  *mandatory* \n\nemmm\n\n\n\n```java\n@Slf4j\n@Component\npublic class BusinessMsgProducer implements RabbitTemplate.ConfirmCallback, RabbitTemplate.ReturnCallback{\n\n    @Autowired\n    private RabbitTemplate rabbitTemplate;\n\n    @PostConstruct\n    private void init() {\n//        rabbitTemplate.setChannelTransacted(true);\n        rabbitTemplate.setConfirmCallback(this);\n        rabbitTemplate.setMandatory(true);\n        rabbitTemplate.setReturnCallback(this);\n    }\n\n    public void sendCustomMsg(String exchange, String msg) {\n\n\n        CorrelationData correlationData = new CorrelationData(UUID.randomUUID().toString());\n\n\n        log.info(\"id:{}, msg:{}\", correlationData.getId(), msg);\n\n        rabbitTemplate.convertAndSend(exchange, \"key\", msg, correlationData);\n\n        correlationData = new CorrelationData(UUID.randomUUID().toString());\n\n        log.info(\"id:{}, msg:{}\", correlationData.getId(), msg);\n\n        rabbitTemplate.convertAndSend(exchange, \"key2\", msg, correlationData);\n    }\n\n\n    @Override\n    public void confirm(CorrelationData correlationData, boolean b, String s) {\n        String id = correlationData != null ? correlationData.getId() : \"\";\n        if (b) {\n            log.info(\", id:{}\", id);\n        } else {\n            log.error(\", id:{}, cause:{}\", id, s);\n        }\n    }\n\n    @Override\n    public void returnedMessage(Message message, int replyCode, String replyText, String exchange, String routingKey) {\n        log.info(\"msg:{}, replyCode:{}. replyText:{}, exchange:{}, routingKey :{}\",\n                new String(message.getBody()), replyCode, replyText, exchange, routingKey);\n    }\n}\n```\n\n\n\n```java\nid:0a3eca1e-d937-418c-a7ce-bfb8ce25fdd4, msg:1\nid:d8c9e010-e120-46da-a42e-1ba21026ff06, msg:1\n, id:0a3eca1e-d937-418c-a7ce-bfb8ce25fdd4\n, id:d8c9e010-e120-46da-a42e-1ba21026ff06\n1\n1\n```\n\n\n\n## \n\n mandatory \n\nMQ\n\n *RabbitMQ*  *RabbitMQ*  *RabbitMQ* \n\n\n\n[//]: # (![1565529015677.png]&#40;https://i.loli.net/2019/08/11/8MxBPNgyIlTZDRk.png&#41;)\n","slug":"rabbitmq/rabbitmq-how-to-ensure-reliable-delivery-of-message2","published":1,"updated":"2020-05-03T17:00:30.000Z","_id":"cl70rsfbk00155ohuf689b5gd","comments":1,"layout":"post","photos":[],"link":"","content":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><em>RabbitMQ</em>RabbitMQACKemmm</p>\n<p><img src=\"https://i.loli.net/2019/08/22/nmPFS3RkIMweEXc.png\" alt=\"1\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p></p>\n<p><em>DirectExchange* *RoutingKey</em>  <em>Bindingkey</em> key</p>\n<pre class=\" language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> String BUSINESS_EXCHANGE_NAME <span class=\"token operator\">=</span> <span class=\"token string\">\"rabbitmq.tx.demo.simple.business.exchange\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> String BUSINESS_QUEUEA_NAME <span class=\"token operator\">=</span> <span class=\"token string\">\"rabbitmq.tx.demo.simple.business.queue\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\" spellcheck=\"true\">//  Exchange</span>\n<span class=\"token annotation punctuation\">@Bean</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"businessExchange\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">public</span> DirectExchange <span class=\"token function\">businessExchange</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">DirectExchange</span><span class=\"token punctuation\">(</span>BUSINESS_EXCHANGE_NAME<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\" spellcheck=\"true\">// </span>\n<span class=\"token annotation punctuation\">@Bean</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"businessQueue\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">public</span> Queue <span class=\"token function\">businessQueue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> QueueBuilder<span class=\"token punctuation\">.</span><span class=\"token function\">durable</span><span class=\"token punctuation\">(</span>BUSINESS_QUEUEA_NAME<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\" spellcheck=\"true\">// </span>\n<span class=\"token annotation punctuation\">@Bean</span>\n<span class=\"token keyword\">public</span> Binding <span class=\"token function\">businessBinding</span><span class=\"token punctuation\">(</span><span class=\"token annotation punctuation\">@Qualifier</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"businessQueue\"</span><span class=\"token punctuation\">)</span> Queue queue<span class=\"token punctuation\">,</span>\n                               <span class=\"token annotation punctuation\">@Qualifier</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"businessExchange\"</span><span class=\"token punctuation\">)</span> DirectExchange exchange<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> BindingBuilder<span class=\"token punctuation\">.</span><span class=\"token function\">bind</span><span class=\"token punctuation\">(</span>queue<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">to</span><span class=\"token punctuation\">(</span>exchange<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">with</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"key\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p></p>\n<pre class=\" language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Autowired</span>\n<span class=\"token keyword\">private</span> RabbitTemplate rabbitTemplate<span class=\"token punctuation\">;</span>\n\n<span class=\"token annotation punctuation\">@PostConstruct</span>\n<span class=\"token keyword\">private</span> <span class=\"token keyword\">void</span> <span class=\"token function\">init</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\" spellcheck=\"true\">//        rabbitTemplate.setChannelTransacted(true);</span>\n    rabbitTemplate<span class=\"token punctuation\">.</span><span class=\"token function\">setConfirmCallback</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">sendCustomMsg</span><span class=\"token punctuation\">(</span>String exchange<span class=\"token punctuation\">,</span> String msg<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    CorrelationData correlationData <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">CorrelationData</span><span class=\"token punctuation\">(</span>UUID<span class=\"token punctuation\">.</span><span class=\"token function\">randomUUID</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    log<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"id:{}, msg:{}\"</span><span class=\"token punctuation\">,</span> correlationData<span class=\"token punctuation\">.</span><span class=\"token function\">getId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> msg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    rabbitTemplate<span class=\"token punctuation\">.</span><span class=\"token function\">convertAndSend</span><span class=\"token punctuation\">(</span>exchange<span class=\"token punctuation\">,</span> <span class=\"token string\">\"key\"</span><span class=\"token punctuation\">,</span> msg<span class=\"token punctuation\">,</span> correlationData<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    correlationData <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">CorrelationData</span><span class=\"token punctuation\">(</span>UUID<span class=\"token punctuation\">.</span><span class=\"token function\">randomUUID</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    log<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"id:{}, msg:{}\"</span><span class=\"token punctuation\">,</span> correlationData<span class=\"token punctuation\">.</span><span class=\"token function\">getId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> msg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    rabbitTemplate<span class=\"token punctuation\">.</span><span class=\"token function\">convertAndSend</span><span class=\"token punctuation\">(</span>exchange<span class=\"token punctuation\">,</span> <span class=\"token string\">\"key2\"</span><span class=\"token punctuation\">,</span> msg<span class=\"token punctuation\">,</span> correlationData<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token annotation punctuation\">@Override</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">confirm</span><span class=\"token punctuation\">(</span>CorrelationData correlationData<span class=\"token punctuation\">,</span> <span class=\"token keyword\">boolean</span> b<span class=\"token punctuation\">,</span> String s<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    String id <span class=\"token operator\">=</span> correlationData <span class=\"token operator\">!=</span> null <span class=\"token operator\">?</span> correlationData<span class=\"token punctuation\">.</span><span class=\"token function\">getId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>b<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        log<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token string\">\", id:{}\"</span><span class=\"token punctuation\">,</span> id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n        log<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span><span class=\"token string\">\", id:{}, cause:{}\"</span><span class=\"token punctuation\">,</span> id<span class=\"token punctuation\">,</span> s<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p></p>\n<pre class=\" language-java\"><code class=\"language-java\">id<span class=\"token operator\">:</span>ba6bf502<span class=\"token operator\">-</span><span class=\"token number\">9381</span><span class=\"token operator\">-</span><span class=\"token number\">4220</span><span class=\"token operator\">-</span>8dc9<span class=\"token operator\">-</span>313d6a289a4e<span class=\"token punctuation\">,</span> msg<span class=\"token operator\">:</span><span class=\"token number\">1</span>\nid<span class=\"token operator\">:</span>f0040a41<span class=\"token operator\">-</span>dc02<span class=\"token operator\">-</span><span class=\"token number\">4e45</span><span class=\"token operator\">-</span>b8af<span class=\"token operator\">-</span>e3cfa8a118b2<span class=\"token punctuation\">,</span> msg<span class=\"token operator\">:</span><span class=\"token number\">1</span>\n<span class=\"token punctuation\">,</span> id<span class=\"token operator\">:</span>ba6bf502<span class=\"token operator\">-</span><span class=\"token number\">9381</span><span class=\"token operator\">-</span><span class=\"token number\">4220</span><span class=\"token operator\">-</span>8dc9<span class=\"token operator\">-</span>313d6a289a4e\n<span class=\"token punctuation\">,</span> id<span class=\"token operator\">:</span>f0040a41<span class=\"token operator\">-</span>dc02<span class=\"token operator\">-</span><span class=\"token number\">4e45</span><span class=\"token operator\">-</span>b8af<span class=\"token operator\">-</span>e3cfa8a118b2\n<span class=\"token number\">1</span></code></pre>\n<p> <em>RoutingKey</em>  key RoutingKey  key2 <em>RoutingKey</em>  <em>BindingKey</em> </p>\n<p>ACK</p>\n<p><em>RabbitMQ</em></p>\n<p>1mandatory <br>2</p>\n<h2 id=\"mandatory-\"><a href=\"#mandatory-\" class=\"headerlink\" title=\"mandatory \"></a>mandatory </h2><p> <em>mandatory</em> </p>\n<p> <em>mandotory</em>  true false</p>\n<p><img src=\"https://i.loli.net/2019/09/01/YZ8acG1HxKQ9fLN.png\" alt=\"2.png\"></p>\n<p></p>\n<pre class=\" language-java\"><code class=\"language-java\">rabbitTemplate<span class=\"token punctuation\">.</span><span class=\"token function\">setMandatory</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p></p>\n<pre class=\" language-java\"><code class=\"language-java\">id<span class=\"token operator\">:</span>19729f33<span class=\"token operator\">-</span>15c4<span class=\"token operator\">-</span>4c1b<span class=\"token operator\">-</span>8d48<span class=\"token operator\">-</span>044c301e2a8e<span class=\"token punctuation\">,</span> msg<span class=\"token operator\">:</span><span class=\"token number\">1</span>\nid<span class=\"token operator\">:</span>4aea5c57<span class=\"token operator\">-</span><span class=\"token number\">3e71</span><span class=\"token operator\">-</span>4a7b<span class=\"token operator\">-</span>8a00<span class=\"token operator\">-</span>1595d2b568eb<span class=\"token punctuation\">,</span> msg<span class=\"token operator\">:</span><span class=\"token number\">1</span>\n<span class=\"token punctuation\">,</span> id<span class=\"token operator\">:</span>19729f33<span class=\"token operator\">-</span>15c4<span class=\"token operator\">-</span>4c1b<span class=\"token operator\">-</span>8d48<span class=\"token operator\">-</span>044c301e2a8e\nReturned message but no callback available\n<span class=\"token punctuation\">,</span> id<span class=\"token operator\">:</span>4aea5c57<span class=\"token operator\">-</span><span class=\"token number\">3e71</span><span class=\"token operator\">-</span>4a7b<span class=\"token operator\">-</span>8a00<span class=\"token operator\">-</span>1595d2b568eb\n<span class=\"token number\">1</span></code></pre>\n<p> <code>Returned message but no callback available</code> </p>\n<p> <em>mandatory</em> </p>\n<p> <code>RabbitTemplate.ReturnCallback</code></p>\n<pre class=\" language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Slf4j</span>\n<span class=\"token annotation punctuation\">@Component</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">BusinessMsgProducer</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">RabbitTemplate<span class=\"token punctuation\">.</span>ConfirmCallback</span><span class=\"token punctuation\">,</span> RabbitTemplate<span class=\"token punctuation\">.</span>ReturnCallback<span class=\"token punctuation\">{</span>\n\n    <span class=\"token annotation punctuation\">@Autowired</span>\n    <span class=\"token keyword\">private</span> RabbitTemplate rabbitTemplate<span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@PostConstruct</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">void</span> <span class=\"token function\">init</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        rabbitTemplate<span class=\"token punctuation\">.</span><span class=\"token function\">setConfirmCallback</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        rabbitTemplate<span class=\"token punctuation\">.</span><span class=\"token function\">setMandatory</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        rabbitTemplate<span class=\"token punctuation\">.</span><span class=\"token function\">setReturnCallback</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">sendCustomMsg</span><span class=\"token punctuation\">(</span>String exchange<span class=\"token punctuation\">,</span> String msg<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        CorrelationData correlationData <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">CorrelationData</span><span class=\"token punctuation\">(</span>UUID<span class=\"token punctuation\">.</span><span class=\"token function\">randomUUID</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        log<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"id:{}, msg:{}\"</span><span class=\"token punctuation\">,</span> correlationData<span class=\"token punctuation\">.</span><span class=\"token function\">getId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> msg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        rabbitTemplate<span class=\"token punctuation\">.</span><span class=\"token function\">convertAndSend</span><span class=\"token punctuation\">(</span>exchange<span class=\"token punctuation\">,</span> <span class=\"token string\">\"key\"</span><span class=\"token punctuation\">,</span> msg<span class=\"token punctuation\">,</span> correlationData<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        correlationData <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">CorrelationData</span><span class=\"token punctuation\">(</span>UUID<span class=\"token punctuation\">.</span><span class=\"token function\">randomUUID</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        log<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"id:{}, msg:{}\"</span><span class=\"token punctuation\">,</span> correlationData<span class=\"token punctuation\">.</span><span class=\"token function\">getId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> msg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        rabbitTemplate<span class=\"token punctuation\">.</span><span class=\"token function\">convertAndSend</span><span class=\"token punctuation\">(</span>exchange<span class=\"token punctuation\">,</span> <span class=\"token string\">\"key2\"</span><span class=\"token punctuation\">,</span> msg<span class=\"token punctuation\">,</span> correlationData<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token annotation punctuation\">@Override</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">confirm</span><span class=\"token punctuation\">(</span>CorrelationData correlationData<span class=\"token punctuation\">,</span> <span class=\"token keyword\">boolean</span> b<span class=\"token punctuation\">,</span> String s<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        String id <span class=\"token operator\">=</span> correlationData <span class=\"token operator\">!=</span> null <span class=\"token operator\">?</span> correlationData<span class=\"token punctuation\">.</span><span class=\"token function\">getId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>b<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            log<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token string\">\", id:{}\"</span><span class=\"token punctuation\">,</span> id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n            log<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span><span class=\"token string\">\", id:{}, cause:{}\"</span><span class=\"token punctuation\">,</span> id<span class=\"token punctuation\">,</span> s<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token annotation punctuation\">@Override</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">returnedMessage</span><span class=\"token punctuation\">(</span>Message message<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> replyCode<span class=\"token punctuation\">,</span> String replyText<span class=\"token punctuation\">,</span> String exchange<span class=\"token punctuation\">,</span> String routingKey<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        log<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"msg:{}, replyCode:{}. replyText:{}, exchange:{}, routingKey :{}\"</span><span class=\"token punctuation\">,</span>\n                <span class=\"token keyword\">new</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">.</span><span class=\"token function\">getBody</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> replyCode<span class=\"token punctuation\">,</span> replyText<span class=\"token punctuation\">,</span> exchange<span class=\"token punctuation\">,</span> routingKey<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p></p>\n<pre class=\" language-java\"><code class=\"language-java\">id<span class=\"token operator\">:</span>2e5c336a<span class=\"token operator\">-</span>883a<span class=\"token operator\">-</span>474e<span class=\"token operator\">-</span>b40e<span class=\"token operator\">-</span>b6e3499088ef<span class=\"token punctuation\">,</span> msg<span class=\"token operator\">:</span><span class=\"token number\">1</span>\nid<span class=\"token operator\">:</span>85c771cb<span class=\"token operator\">-</span>c88f<span class=\"token operator\">-</span>47dd<span class=\"token operator\">-</span>adea<span class=\"token operator\">-</span>f0da57138423<span class=\"token punctuation\">,</span> msg<span class=\"token operator\">:</span><span class=\"token number\">1</span>\n<span class=\"token punctuation\">,</span> id<span class=\"token operator\">:</span>2e5c336a<span class=\"token operator\">-</span>883a<span class=\"token operator\">-</span>474e<span class=\"token operator\">-</span>b40e<span class=\"token operator\">-</span>b6e3499088ef\nmsg<span class=\"token operator\">:</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> replyCode<span class=\"token operator\">:</span><span class=\"token number\">312</span><span class=\"token punctuation\">.</span> replyText<span class=\"token operator\">:</span>NO_ROUTE<span class=\"token punctuation\">,</span> exchange<span class=\"token operator\">:</span>rabbitmq<span class=\"token punctuation\">.</span>tx<span class=\"token punctuation\">.</span>demo<span class=\"token punctuation\">.</span>simple<span class=\"token punctuation\">.</span>business<span class=\"token punctuation\">.</span>exchange<span class=\"token punctuation\">,</span> routingKey <span class=\"token operator\">:</span>key2\n<span class=\"token punctuation\">,</span> id<span class=\"token operator\">:</span>85c771cb<span class=\"token operator\">-</span>c88f<span class=\"token operator\">-</span>47dd<span class=\"token operator\">-</span>adea<span class=\"token operator\">-</span>f0da57138423\n<span class=\"token number\">1</span></code></pre>\n<p><code>NO_ROUTE</code> <em>mandatory</em>  <em>mandatory</em> </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> <em>mandatory</em> </p>\n<p> <em>mandatory</em> </p>\n<p></p>\n<p> RabbitMQ </p>\n<p> <em>RabbitMQ</em>  <em>Fanout</em> </p>\n<p></p>\n<p><img src=\"https://i.loli.net/2019/09/01/VsGpZJbk2u7wSv4.png\" alt=\"3.png\"></p>\n<p>emmm- - UI</p>\n<p></p>\n<pre class=\" language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Configuration</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">RabbitMQConfig</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> String BUSINESS_EXCHANGE_NAME <span class=\"token operator\">=</span> <span class=\"token string\">\"rabbitmq.backup.test.exchange\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> String BUSINESS_QUEUE_NAME <span class=\"token operator\">=</span> <span class=\"token string\">\"rabbitmq.backup.test.queue\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> String BUSINESS_BACKUP_EXCHANGE_NAME <span class=\"token operator\">=</span> <span class=\"token string\">\"rabbitmq.backup.test.backup-exchange\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> String BUSINESS_BACKUP_QUEUE_NAME <span class=\"token operator\">=</span> <span class=\"token string\">\"rabbitmq.backup.test.backup-queue\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> String BUSINESS_BACKUP_WARNING_QUEUE_NAME <span class=\"token operator\">=</span> <span class=\"token string\">\"rabbitmq.backup.test.backup-warning-queue\"</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\" spellcheck=\"true\">//  Exchange</span>\n    <span class=\"token annotation punctuation\">@Bean</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"businessExchange\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">public</span> DirectExchange <span class=\"token function\">businessExchange</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        ExchangeBuilder exchangeBuilder <span class=\"token operator\">=</span> ExchangeBuilder<span class=\"token punctuation\">.</span><span class=\"token function\">directExchange</span><span class=\"token punctuation\">(</span>BUSINESS_EXCHANGE_NAME<span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">durable</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">withArgument</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"alternate-exchange\"</span><span class=\"token punctuation\">,</span> BUSINESS_BACKUP_EXCHANGE_NAME<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>DirectExchange<span class=\"token punctuation\">)</span>exchangeBuilder<span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\" spellcheck=\"true\">//  Exchange</span>\n    <span class=\"token annotation punctuation\">@Bean</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"backupExchange\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">public</span> FanoutExchange <span class=\"token function\">backupExchange</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        ExchangeBuilder exchangeBuilder <span class=\"token operator\">=</span> ExchangeBuilder<span class=\"token punctuation\">.</span><span class=\"token function\">fanoutExchange</span><span class=\"token punctuation\">(</span>BUSINESS_BACKUP_EXCHANGE_NAME<span class=\"token punctuation\">)</span>\n                <span class=\"token punctuation\">.</span><span class=\"token function\">durable</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>FanoutExchange<span class=\"token punctuation\">)</span>exchangeBuilder<span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\" spellcheck=\"true\">// </span>\n    <span class=\"token annotation punctuation\">@Bean</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"businessQueue\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">public</span> Queue <span class=\"token function\">businessQueue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> QueueBuilder<span class=\"token punctuation\">.</span><span class=\"token function\">durable</span><span class=\"token punctuation\">(</span>BUSINESS_QUEUE_NAME<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\" spellcheck=\"true\">// </span>\n    <span class=\"token annotation punctuation\">@Bean</span>\n    <span class=\"token keyword\">public</span> Binding <span class=\"token function\">businessBinding</span><span class=\"token punctuation\">(</span><span class=\"token annotation punctuation\">@Qualifier</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"businessQueue\"</span><span class=\"token punctuation\">)</span> Queue queue<span class=\"token punctuation\">,</span>\n                                    <span class=\"token annotation punctuation\">@Qualifier</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"businessExchange\"</span><span class=\"token punctuation\">)</span> DirectExchange exchange<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> BindingBuilder<span class=\"token punctuation\">.</span><span class=\"token function\">bind</span><span class=\"token punctuation\">(</span>queue<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">to</span><span class=\"token punctuation\">(</span>exchange<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">with</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"key\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\" spellcheck=\"true\">// </span>\n    <span class=\"token annotation punctuation\">@Bean</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"backupQueue\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">public</span> Queue <span class=\"token function\">backupQueue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> QueueBuilder<span class=\"token punctuation\">.</span><span class=\"token function\">durable</span><span class=\"token punctuation\">(</span>BUSINESS_BACKUP_QUEUE_NAME<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\" spellcheck=\"true\">// </span>\n    <span class=\"token annotation punctuation\">@Bean</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"warningQueue\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">public</span> Queue <span class=\"token function\">warningQueue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> QueueBuilder<span class=\"token punctuation\">.</span><span class=\"token function\">durable</span><span class=\"token punctuation\">(</span>BUSINESS_BACKUP_WARNING_QUEUE_NAME<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\" spellcheck=\"true\">// </span>\n    <span class=\"token annotation punctuation\">@Bean</span>\n    <span class=\"token keyword\">public</span> Binding <span class=\"token function\">backupBinding</span><span class=\"token punctuation\">(</span><span class=\"token annotation punctuation\">@Qualifier</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"backupQueue\"</span><span class=\"token punctuation\">)</span> Queue queue<span class=\"token punctuation\">,</span>\n                                   <span class=\"token annotation punctuation\">@Qualifier</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"backupExchange\"</span><span class=\"token punctuation\">)</span> FanoutExchange exchange<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> BindingBuilder<span class=\"token punctuation\">.</span><span class=\"token function\">bind</span><span class=\"token punctuation\">(</span>queue<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">to</span><span class=\"token punctuation\">(</span>exchange<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\" spellcheck=\"true\">// </span>\n    <span class=\"token annotation punctuation\">@Bean</span>\n    <span class=\"token keyword\">public</span> Binding <span class=\"token function\">backupWarningBinding</span><span class=\"token punctuation\">(</span><span class=\"token annotation punctuation\">@Qualifier</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"warningQueue\"</span><span class=\"token punctuation\">)</span> Queue queue<span class=\"token punctuation\">,</span>\n                                 <span class=\"token annotation punctuation\">@Qualifier</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"backupExchange\"</span><span class=\"token punctuation\">)</span> FanoutExchange exchange<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> BindingBuilder<span class=\"token punctuation\">.</span><span class=\"token function\">bind</span><span class=\"token punctuation\">(</span>queue<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">to</span><span class=\"token punctuation\">(</span>exchange<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n<span class=\"token punctuation\">}</span></code></pre>\n<p> <code>ExchangeBuilder</code> </p>\n<pre class=\" language-java\"><code class=\"language-java\"> <span class=\"token punctuation\">.</span><span class=\"token function\">withArgument</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"alternate-exchange\"</span><span class=\"token punctuation\">,</span> BUSINESS_BACKUP_EXCHANGE_NAME<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p></p>\n<p></p>\n<pre class=\" language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Slf4j</span>\n<span class=\"token annotation punctuation\">@Component</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">BusinessMsgConsumer</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token annotation punctuation\">@RabbitListener</span><span class=\"token punctuation\">(</span>queues <span class=\"token operator\">=</span> BUSINESS_QUEUE_NAME<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">receiveMsg</span><span class=\"token punctuation\">(</span>Message message<span class=\"token punctuation\">,</span> Channel channel<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> IOException <span class=\"token punctuation\">{</span>\n        String msg <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">.</span><span class=\"token function\">getBody</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        log<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"{}\"</span><span class=\"token punctuation\">,</span> msg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        channel<span class=\"token punctuation\">.</span><span class=\"token function\">basicNack</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">.</span><span class=\"token function\">getMessageProperties</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getDeliveryTag</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<pre class=\" language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Slf4j</span>\n<span class=\"token annotation punctuation\">@Component</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">BusinessWaringConsumer</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token annotation punctuation\">@RabbitListener</span><span class=\"token punctuation\">(</span>queues <span class=\"token operator\">=</span> BUSINESS_BACKUP_WARNING_QUEUE_NAME<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">receiveMsg</span><span class=\"token punctuation\">(</span>Message message<span class=\"token punctuation\">,</span> Channel channel<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> IOException <span class=\"token punctuation\">{</span>\n        String msg <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">.</span><span class=\"token function\">getBody</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        log<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"{}\"</span><span class=\"token punctuation\">,</span> msg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        channel<span class=\"token punctuation\">.</span><span class=\"token function\">basicAck</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">.</span><span class=\"token function\">getMessageProperties</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getDeliveryTag</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p></p>\n<pre class=\" language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Slf4j</span>\n<span class=\"token annotation punctuation\">@Component</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">BusinessMsgProducer</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token annotation punctuation\">@Autowired</span>\n    <span class=\"token keyword\">private</span> RabbitTemplate rabbitTemplate<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">sendCustomMsg</span><span class=\"token punctuation\">(</span>String exchange<span class=\"token punctuation\">,</span> String msg<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n\n        CorrelationData correlationData <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">CorrelationData</span><span class=\"token punctuation\">(</span>UUID<span class=\"token punctuation\">.</span><span class=\"token function\">randomUUID</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n\n        log<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"id:{}, msg:{}\"</span><span class=\"token punctuation\">,</span> correlationData<span class=\"token punctuation\">.</span><span class=\"token function\">getId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> msg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        rabbitTemplate<span class=\"token punctuation\">.</span><span class=\"token function\">convertAndSend</span><span class=\"token punctuation\">(</span>exchange<span class=\"token punctuation\">,</span> <span class=\"token string\">\"key\"</span><span class=\"token punctuation\">,</span> msg<span class=\"token punctuation\">,</span> correlationData<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        correlationData <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">CorrelationData</span><span class=\"token punctuation\">(</span>UUID<span class=\"token punctuation\">.</span><span class=\"token function\">randomUUID</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        log<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"id:{}, msg:{}\"</span><span class=\"token punctuation\">,</span> correlationData<span class=\"token punctuation\">.</span><span class=\"token function\">getId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> msg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        rabbitTemplate<span class=\"token punctuation\">.</span><span class=\"token function\">convertAndSend</span><span class=\"token punctuation\">(</span>exchange<span class=\"token punctuation\">,</span> <span class=\"token string\">\"key2\"</span><span class=\"token punctuation\">,</span> msg<span class=\"token punctuation\">,</span> correlationData<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p></p>\n<pre class=\" language-java\"><code class=\"language-java\">id<span class=\"token operator\">:</span>5c3a33c9<span class=\"token operator\">-</span><span class=\"token number\">0764</span><span class=\"token operator\">-</span>4d1f<span class=\"token operator\">-</span>bf6a<span class=\"token operator\">-</span>a00d771dccb4<span class=\"token punctuation\">,</span> msg<span class=\"token operator\">:</span><span class=\"token number\">1</span>\nid<span class=\"token operator\">:</span>42ac8c35<span class=\"token operator\">-</span>1d0a<span class=\"token operator\">-</span><span class=\"token number\">4413</span><span class=\"token operator\">-</span>a1df<span class=\"token operator\">-</span>c26a85435354<span class=\"token punctuation\">,</span> msg<span class=\"token operator\">:</span><span class=\"token number\">1</span>\n<span class=\"token number\">1</span>\n<span class=\"token number\">1</span></code></pre>\n<p> <em>error</em> </p>\n<p><em>mandatory</em>  <em>mandatory</em> </p>\n<p>emmm</p>\n<p></p>\n<pre class=\" language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Slf4j</span>\n<span class=\"token annotation punctuation\">@Component</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">BusinessMsgProducer</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">RabbitTemplate<span class=\"token punctuation\">.</span>ConfirmCallback</span><span class=\"token punctuation\">,</span> RabbitTemplate<span class=\"token punctuation\">.</span>ReturnCallback<span class=\"token punctuation\">{</span>\n\n    <span class=\"token annotation punctuation\">@Autowired</span>\n    <span class=\"token keyword\">private</span> RabbitTemplate rabbitTemplate<span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@PostConstruct</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">void</span> <span class=\"token function\">init</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n<span class=\"token comment\" spellcheck=\"true\">//        rabbitTemplate.setChannelTransacted(true);</span>\n        rabbitTemplate<span class=\"token punctuation\">.</span><span class=\"token function\">setConfirmCallback</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        rabbitTemplate<span class=\"token punctuation\">.</span><span class=\"token function\">setMandatory</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        rabbitTemplate<span class=\"token punctuation\">.</span><span class=\"token function\">setReturnCallback</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">sendCustomMsg</span><span class=\"token punctuation\">(</span>String exchange<span class=\"token punctuation\">,</span> String msg<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n\n        CorrelationData correlationData <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">CorrelationData</span><span class=\"token punctuation\">(</span>UUID<span class=\"token punctuation\">.</span><span class=\"token function\">randomUUID</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n\n        log<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"id:{}, msg:{}\"</span><span class=\"token punctuation\">,</span> correlationData<span class=\"token punctuation\">.</span><span class=\"token function\">getId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> msg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        rabbitTemplate<span class=\"token punctuation\">.</span><span class=\"token function\">convertAndSend</span><span class=\"token punctuation\">(</span>exchange<span class=\"token punctuation\">,</span> <span class=\"token string\">\"key\"</span><span class=\"token punctuation\">,</span> msg<span class=\"token punctuation\">,</span> correlationData<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        correlationData <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">CorrelationData</span><span class=\"token punctuation\">(</span>UUID<span class=\"token punctuation\">.</span><span class=\"token function\">randomUUID</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        log<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"id:{}, msg:{}\"</span><span class=\"token punctuation\">,</span> correlationData<span class=\"token punctuation\">.</span><span class=\"token function\">getId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> msg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        rabbitTemplate<span class=\"token punctuation\">.</span><span class=\"token function\">convertAndSend</span><span class=\"token punctuation\">(</span>exchange<span class=\"token punctuation\">,</span> <span class=\"token string\">\"key2\"</span><span class=\"token punctuation\">,</span> msg<span class=\"token punctuation\">,</span> correlationData<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n\n    <span class=\"token annotation punctuation\">@Override</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">confirm</span><span class=\"token punctuation\">(</span>CorrelationData correlationData<span class=\"token punctuation\">,</span> <span class=\"token keyword\">boolean</span> b<span class=\"token punctuation\">,</span> String s<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        String id <span class=\"token operator\">=</span> correlationData <span class=\"token operator\">!=</span> null <span class=\"token operator\">?</span> correlationData<span class=\"token punctuation\">.</span><span class=\"token function\">getId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>b<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            log<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token string\">\", id:{}\"</span><span class=\"token punctuation\">,</span> id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n            log<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span><span class=\"token string\">\", id:{}, cause:{}\"</span><span class=\"token punctuation\">,</span> id<span class=\"token punctuation\">,</span> s<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token annotation punctuation\">@Override</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">returnedMessage</span><span class=\"token punctuation\">(</span>Message message<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> replyCode<span class=\"token punctuation\">,</span> String replyText<span class=\"token punctuation\">,</span> String exchange<span class=\"token punctuation\">,</span> String routingKey<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        log<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"msg:{}, replyCode:{}. replyText:{}, exchange:{}, routingKey :{}\"</span><span class=\"token punctuation\">,</span>\n                <span class=\"token keyword\">new</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">.</span><span class=\"token function\">getBody</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> replyCode<span class=\"token punctuation\">,</span> replyText<span class=\"token punctuation\">,</span> exchange<span class=\"token punctuation\">,</span> routingKey<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p></p>\n<pre class=\" language-java\"><code class=\"language-java\">id<span class=\"token operator\">:</span>0a3eca1e<span class=\"token operator\">-</span>d937<span class=\"token operator\">-</span>418c<span class=\"token operator\">-</span>a7ce<span class=\"token operator\">-</span>bfb8ce25fdd4<span class=\"token punctuation\">,</span> msg<span class=\"token operator\">:</span><span class=\"token number\">1</span>\nid<span class=\"token operator\">:</span>d8c9e010<span class=\"token operator\">-</span>e120<span class=\"token operator\">-</span>46da<span class=\"token operator\">-</span>a42e<span class=\"token operator\">-</span>1ba21026ff06<span class=\"token punctuation\">,</span> msg<span class=\"token operator\">:</span><span class=\"token number\">1</span>\n<span class=\"token punctuation\">,</span> id<span class=\"token operator\">:</span>0a3eca1e<span class=\"token operator\">-</span>d937<span class=\"token operator\">-</span>418c<span class=\"token operator\">-</span>a7ce<span class=\"token operator\">-</span>bfb8ce25fdd4\n<span class=\"token punctuation\">,</span> id<span class=\"token operator\">:</span>d8c9e010<span class=\"token operator\">-</span>e120<span class=\"token operator\">-</span>46da<span class=\"token operator\">-</span>a42e<span class=\"token operator\">-</span>1ba21026ff06\n<span class=\"token number\">1</span>\n<span class=\"token number\">1</span></code></pre>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> mandatory </p>\n<p>MQ</p>\n<p> <em>RabbitMQ</em>  <em>RabbitMQ</em>  <em>RabbitMQ</em> </p>\n<p></p>\n<script>\n        document.querySelectorAll('.github-emoji')\n          .forEach(el => {\n            if (!el.dataset.src) { return; }\n            const img = document.createElement('img');\n            img.style = 'display:none !important;';\n            img.src = el.dataset.src;\n            img.addEventListener('error', () => {\n              img.remove();\n              el.style.color = 'inherit';\n              el.style.backgroundImage = 'none';\n              el.style.background = 'none';\n            });\n            img.addEventListener('load', () => {\n              img.remove();\n            });\n            document.body.appendChild(img);\n          });\n      </script>","site":{"data":{"friends":[{"avatar":"http://43.142.191.46:8080/crmebimage/public/operation/2022/08/19/e4c5aacf44c44157ac8381896a4f33bfiwjztayaan.png","name":"","introduction":"","url":"http://43.142.191.46:9527/","title":""},{"avatar":"http://43.142.191.46:8080/crmebimage/public/operation/2022/08/19/e4c5aacf44c44157ac8381896a4f33bfiwjztayaan.png","name":"RabbitMQ","introduction":"","url":"http://43.142.191.46:15672/","title":""}]}},"excerpt":"","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><em>RabbitMQ</em>RabbitMQACKemmm</p>\n<p><img src=\"https://i.loli.net/2019/08/22/nmPFS3RkIMweEXc.png\" alt=\"1\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p></p>\n<p><em>DirectExchange* *RoutingKey</em>  <em>Bindingkey</em> key</p>\n<pre><code class=\"java\">public static final String BUSINESS_EXCHANGE_NAME = &quot;rabbitmq.tx.demo.simple.business.exchange&quot;;\npublic static final String BUSINESS_QUEUEA_NAME = &quot;rabbitmq.tx.demo.simple.business.queue&quot;;\n\n//  Exchange\n@Bean(&quot;businessExchange&quot;)\npublic DirectExchange businessExchange(){\n    return new DirectExchange(BUSINESS_EXCHANGE_NAME);\n}\n\n// \n@Bean(&quot;businessQueue&quot;)\npublic Queue businessQueue(){\n    return QueueBuilder.durable(BUSINESS_QUEUEA_NAME).build();\n}\n\n// \n@Bean\npublic Binding businessBinding(@Qualifier(&quot;businessQueue&quot;) Queue queue,\n                               @Qualifier(&quot;businessExchange&quot;) DirectExchange exchange){\n    return BindingBuilder.bind(queue).to(exchange).with(&quot;key&quot;);\n}</code></pre>\n<p></p>\n<pre><code class=\"java\">@Autowired\nprivate RabbitTemplate rabbitTemplate;\n\n@PostConstruct\nprivate void init() {\n    //        rabbitTemplate.setChannelTransacted(true);\n    rabbitTemplate.setConfirmCallback(this);\n}\n\npublic void sendCustomMsg(String exchange, String msg) {\n    CorrelationData correlationData = new CorrelationData(UUID.randomUUID().toString());\n\n    log.info(&quot;id:{}, msg:{}&quot;, correlationData.getId(), msg);\n\n    rabbitTemplate.convertAndSend(exchange, &quot;key&quot;, msg, correlationData);\n\n    correlationData = new CorrelationData(UUID.randomUUID().toString());\n\n    log.info(&quot;id:{}, msg:{}&quot;, correlationData.getId(), msg);\n\n    rabbitTemplate.convertAndSend(exchange, &quot;key2&quot;, msg, correlationData);\n}\n\n@Override\npublic void confirm(CorrelationData correlationData, boolean b, String s) {\n    String id = correlationData != null ? correlationData.getId() : &quot;&quot;;\n    if (b) {\n        log.info(&quot;, id:{}&quot;, id);\n    } else {\n        log.error(&quot;, id:{}, cause:{}&quot;, id, s);\n    }\n}</code></pre>\n<p></p>\n<pre><code class=\"java\">id:ba6bf502-9381-4220-8dc9-313d6a289a4e, msg:1\nid:f0040a41-dc02-4e45-b8af-e3cfa8a118b2, msg:1\n, id:ba6bf502-9381-4220-8dc9-313d6a289a4e\n, id:f0040a41-dc02-4e45-b8af-e3cfa8a118b2\n1</code></pre>\n<p> <em>RoutingKey</em>  key RoutingKey  key2 <em>RoutingKey</em>  <em>BindingKey</em> </p>\n<p>ACK</p>\n<p><em>RabbitMQ</em></p>\n<p>1mandatory <br>2</p>\n<h2 id=\"mandatory-\"><a href=\"#mandatory-\" class=\"headerlink\" title=\"mandatory \"></a>mandatory </h2><p> <em>mandatory</em> </p>\n<p> <em>mandotory</em>  true false</p>\n<p><img src=\"https://i.loli.net/2019/09/01/YZ8acG1HxKQ9fLN.png\" alt=\"2.png\"></p>\n<p></p>\n<pre><code class=\"java\">rabbitTemplate.setMandatory(true);</code></pre>\n<p></p>\n<pre><code class=\"java\">id:19729f33-15c4-4c1b-8d48-044c301e2a8e, msg:1\nid:4aea5c57-3e71-4a7b-8a00-1595d2b568eb, msg:1\n, id:19729f33-15c4-4c1b-8d48-044c301e2a8e\nReturned message but no callback available\n, id:4aea5c57-3e71-4a7b-8a00-1595d2b568eb\n1</code></pre>\n<p> <code>Returned message but no callback available</code> </p>\n<p> <em>mandatory</em> </p>\n<p> <code>RabbitTemplate.ReturnCallback</code></p>\n<pre><code class=\"java\">@Slf4j\n@Component\npublic class BusinessMsgProducer implements RabbitTemplate.ConfirmCallback, RabbitTemplate.ReturnCallback{\n\n    @Autowired\n    private RabbitTemplate rabbitTemplate;\n\n    @PostConstruct\n    private void init() {\n        rabbitTemplate.setConfirmCallback(this);\n        rabbitTemplate.setMandatory(true);\n        rabbitTemplate.setReturnCallback(this);\n    }\n\n    public void sendCustomMsg(String exchange, String msg) {\n        CorrelationData correlationData = new CorrelationData(UUID.randomUUID().toString());\n\n        log.info(&quot;id:{}, msg:{}&quot;, correlationData.getId(), msg);\n\n        rabbitTemplate.convertAndSend(exchange, &quot;key&quot;, msg, correlationData);\n\n        correlationData = new CorrelationData(UUID.randomUUID().toString());\n\n        log.info(&quot;id:{}, msg:{}&quot;, correlationData.getId(), msg);\n\n        rabbitTemplate.convertAndSend(exchange, &quot;key2&quot;, msg, correlationData);\n    }\n\n    @Override\n    public void confirm(CorrelationData correlationData, boolean b, String s) {\n        String id = correlationData != null ? correlationData.getId() : &quot;&quot;;\n        if (b) {\n            log.info(&quot;, id:{}&quot;, id);\n        } else {\n            log.error(&quot;, id:{}, cause:{}&quot;, id, s);\n        }\n    }\n\n    @Override\n    public void returnedMessage(Message message, int replyCode, String replyText, String exchange, String routingKey) {\n        log.info(&quot;msg:{}, replyCode:{}. replyText:{}, exchange:{}, routingKey :{}&quot;,\n                new String(message.getBody()), replyCode, replyText, exchange, routingKey);\n    }\n}</code></pre>\n<p></p>\n<pre><code class=\"java\">id:2e5c336a-883a-474e-b40e-b6e3499088ef, msg:1\nid:85c771cb-c88f-47dd-adea-f0da57138423, msg:1\n, id:2e5c336a-883a-474e-b40e-b6e3499088ef\nmsg:1, replyCode:312. replyText:NO_ROUTE, exchange:rabbitmq.tx.demo.simple.business.exchange, routingKey :key2\n, id:85c771cb-c88f-47dd-adea-f0da57138423\n1</code></pre>\n<p><code>NO_ROUTE</code> <em>mandatory</em>  <em>mandatory</em> </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> <em>mandatory</em> </p>\n<p> <em>mandatory</em> </p>\n<p></p>\n<p> RabbitMQ </p>\n<p> <em>RabbitMQ</em>  <em>Fanout</em> </p>\n<p></p>\n<p><img src=\"https://i.loli.net/2019/09/01/VsGpZJbk2u7wSv4.png\" alt=\"3.png\"></p>\n<p>emmm- - UI</p>\n<p></p>\n<pre><code class=\"java\">@Configuration\npublic class RabbitMQConfig {\n\n    public static final String BUSINESS_EXCHANGE_NAME = &quot;rabbitmq.backup.test.exchange&quot;;\n    public static final String BUSINESS_QUEUE_NAME = &quot;rabbitmq.backup.test.queue&quot;;\n    public static final String BUSINESS_BACKUP_EXCHANGE_NAME = &quot;rabbitmq.backup.test.backup-exchange&quot;;\n    public static final String BUSINESS_BACKUP_QUEUE_NAME = &quot;rabbitmq.backup.test.backup-queue&quot;;\n    public static final String BUSINESS_BACKUP_WARNING_QUEUE_NAME = &quot;rabbitmq.backup.test.backup-warning-queue&quot;;\n\n    //  Exchange\n    @Bean(&quot;businessExchange&quot;)\n    public DirectExchange businessExchange(){\n        ExchangeBuilder exchangeBuilder = ExchangeBuilder.directExchange(BUSINESS_EXCHANGE_NAME)\n                .durable(true)\n                .withArgument(&quot;alternate-exchange&quot;, BUSINESS_BACKUP_EXCHANGE_NAME);\n\n        return (DirectExchange)exchangeBuilder.build();\n    }\n\n    //  Exchange\n    @Bean(&quot;backupExchange&quot;)\n    public FanoutExchange backupExchange(){\n        ExchangeBuilder exchangeBuilder = ExchangeBuilder.fanoutExchange(BUSINESS_BACKUP_EXCHANGE_NAME)\n                .durable(true);\n        return (FanoutExchange)exchangeBuilder.build();\n    }\n\n    // \n    @Bean(&quot;businessQueue&quot;)\n    public Queue businessQueue(){\n        return QueueBuilder.durable(BUSINESS_QUEUE_NAME).build();\n    }\n\n    // \n    @Bean\n    public Binding businessBinding(@Qualifier(&quot;businessQueue&quot;) Queue queue,\n                                    @Qualifier(&quot;businessExchange&quot;) DirectExchange exchange){\n        return BindingBuilder.bind(queue).to(exchange).with(&quot;key&quot;);\n    }\n\n    // \n    @Bean(&quot;backupQueue&quot;)\n    public Queue backupQueue(){\n        return QueueBuilder.durable(BUSINESS_BACKUP_QUEUE_NAME).build();\n    }\n\n    // \n    @Bean(&quot;warningQueue&quot;)\n    public Queue warningQueue(){\n        return QueueBuilder.durable(BUSINESS_BACKUP_WARNING_QUEUE_NAME).build();\n    }\n\n    // \n    @Bean\n    public Binding backupBinding(@Qualifier(&quot;backupQueue&quot;) Queue queue,\n                                   @Qualifier(&quot;backupExchange&quot;) FanoutExchange exchange){\n        return BindingBuilder.bind(queue).to(exchange);\n    }\n\n    // \n    @Bean\n    public Binding backupWarningBinding(@Qualifier(&quot;warningQueue&quot;) Queue queue,\n                                 @Qualifier(&quot;backupExchange&quot;) FanoutExchange exchange){\n        return BindingBuilder.bind(queue).to(exchange);\n    }\n\n}</code></pre>\n<p> <code>ExchangeBuilder</code> </p>\n<pre><code class=\"java\"> .withArgument(&quot;alternate-exchange&quot;, BUSINESS_BACKUP_EXCHANGE_NAME);</code></pre>\n<p></p>\n<p></p>\n<pre><code class=\"java\">@Slf4j\n@Component\npublic class BusinessMsgConsumer {\n\n    @RabbitListener(queues = BUSINESS_QUEUE_NAME)\n    public void receiveMsg(Message message, Channel channel) throws IOException {\n        String msg = new String(message.getBody());\n        log.info(&quot;{}&quot;, msg);\n        channel.basicNack(message.getMessageProperties().getDeliveryTag(), false, false);\n    }\n}</code></pre>\n<pre><code class=\"java\">@Slf4j\n@Component\npublic class BusinessWaringConsumer {\n\n    @RabbitListener(queues = BUSINESS_BACKUP_WARNING_QUEUE_NAME)\n    public void receiveMsg(Message message, Channel channel) throws IOException {\n        String msg = new String(message.getBody());\n        log.error(&quot;{}&quot;, msg);\n        channel.basicAck(message.getMessageProperties().getDeliveryTag(), false);\n    }\n}</code></pre>\n<p></p>\n<pre><code class=\"java\">@Slf4j\n@Component\npublic class BusinessMsgProducer {\n\n    @Autowired\n    private RabbitTemplate rabbitTemplate;\n\n    public void sendCustomMsg(String exchange, String msg) {\n\n\n        CorrelationData correlationData = new CorrelationData(UUID.randomUUID().toString());\n\n\n        log.info(&quot;id:{}, msg:{}&quot;, correlationData.getId(), msg);\n\n        rabbitTemplate.convertAndSend(exchange, &quot;key&quot;, msg, correlationData);\n\n        correlationData = new CorrelationData(UUID.randomUUID().toString());\n\n        log.info(&quot;id:{}, msg:{}&quot;, correlationData.getId(), msg);\n\n        rabbitTemplate.convertAndSend(exchange, &quot;key2&quot;, msg, correlationData);\n    }\n}</code></pre>\n<p></p>\n<pre><code class=\"java\">id:5c3a33c9-0764-4d1f-bf6a-a00d771dccb4, msg:1\nid:42ac8c35-1d0a-4413-a1df-c26a85435354, msg:1\n1\n1</code></pre>\n<p> <em>error</em> </p>\n<p><em>mandatory</em>  <em>mandatory</em> </p>\n<p>emmm</p>\n<p></p>\n<pre><code class=\"java\">@Slf4j\n@Component\npublic class BusinessMsgProducer implements RabbitTemplate.ConfirmCallback, RabbitTemplate.ReturnCallback{\n\n    @Autowired\n    private RabbitTemplate rabbitTemplate;\n\n    @PostConstruct\n    private void init() {\n//        rabbitTemplate.setChannelTransacted(true);\n        rabbitTemplate.setConfirmCallback(this);\n        rabbitTemplate.setMandatory(true);\n        rabbitTemplate.setReturnCallback(this);\n    }\n\n    public void sendCustomMsg(String exchange, String msg) {\n\n\n        CorrelationData correlationData = new CorrelationData(UUID.randomUUID().toString());\n\n\n        log.info(&quot;id:{}, msg:{}&quot;, correlationData.getId(), msg);\n\n        rabbitTemplate.convertAndSend(exchange, &quot;key&quot;, msg, correlationData);\n\n        correlationData = new CorrelationData(UUID.randomUUID().toString());\n\n        log.info(&quot;id:{}, msg:{}&quot;, correlationData.getId(), msg);\n\n        rabbitTemplate.convertAndSend(exchange, &quot;key2&quot;, msg, correlationData);\n    }\n\n\n    @Override\n    public void confirm(CorrelationData correlationData, boolean b, String s) {\n        String id = correlationData != null ? correlationData.getId() : &quot;&quot;;\n        if (b) {\n            log.info(&quot;, id:{}&quot;, id);\n        } else {\n            log.error(&quot;, id:{}, cause:{}&quot;, id, s);\n        }\n    }\n\n    @Override\n    public void returnedMessage(Message message, int replyCode, String replyText, String exchange, String routingKey) {\n        log.info(&quot;msg:{}, replyCode:{}. replyText:{}, exchange:{}, routingKey :{}&quot;,\n                new String(message.getBody()), replyCode, replyText, exchange, routingKey);\n    }\n}</code></pre>\n<p></p>\n<pre><code class=\"java\">id:0a3eca1e-d937-418c-a7ce-bfb8ce25fdd4, msg:1\nid:d8c9e010-e120-46da-a42e-1ba21026ff06, msg:1\n, id:0a3eca1e-d937-418c-a7ce-bfb8ce25fdd4\n, id:d8c9e010-e120-46da-a42e-1ba21026ff06\n1\n1</code></pre>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> mandatory </p>\n<p>MQ</p>\n<p> <em>RabbitMQ</em>  <em>RabbitMQ</em>  <em>RabbitMQ</em> </p>\n<p></p>\n"},{"title":"RabbitMQRabbitMQ","toc":true,"top":true,"cover":true,"date":"2020-05-03T17:00:40.000Z","_content":"\n 15\n\n## \n\nRabbitMQerlang\n\nRabbitMQ\n\n\n\n## \n\n\n\n![AG4T332}_NEUNPUAU(A_)U6.png](https://i.loli.net/2019/07/14/5d2af4176d1d483480.png)\n\nRabbitMQ\n\n## \n\nDead Letter\n\nRabbitMQ\n\n1.  `channel.basicNack`   `channel.basicReject` `requeue` `false`\n2. TTL\n3. \n\n\n\nRabbitMQ\n\n## \n\n\n\n1. \n2. key\n3. \n\nkey\n\nkeyDirectFanoutTopickey\n\nRabbitMQ\n\nSpringbootpom `spring-boot-starter-amqp`  `spring-boot-starter-web` Config\n\n```java\n@Configuration\npublic class RabbitMQConfig {\n\n    public static final String BUSINESS_EXCHANGE_NAME = \"dead.letter.demo.simple.business.exchange\";\n    public static final String BUSINESS_QUEUEA_NAME = \"dead.letter.demo.simple.business.queuea\";\n    public static final String BUSINESS_QUEUEB_NAME = \"dead.letter.demo.simple.business.queueb\";\n    public static final String DEAD_LETTER_EXCHANGE = \"dead.letter.demo.simple.deadletter.exchange\";\n    public static final String DEAD_LETTER_QUEUEA_ROUTING_KEY = \"dead.letter.demo.simple.deadletter.queuea.routingkey\";\n    public static final String DEAD_LETTER_QUEUEB_ROUTING_KEY = \"dead.letter.demo.simple.deadletter.queueb.routingkey\";\n    public static final String DEAD_LETTER_QUEUEA_NAME = \"dead.letter.demo.simple.deadletter.queuea\";\n    public static final String DEAD_LETTER_QUEUEB_NAME = \"dead.letter.demo.simple.deadletter.queueb\";\n\n    // Exchange\n    @Bean(\"businessExchange\")\n    public FanoutExchange businessExchange(){\n        return new FanoutExchange(BUSINESS_EXCHANGE_NAME);\n    }\n\n    // Exchange\n    @Bean(\"deadLetterExchange\")\n    public DirectExchange deadLetterExchange(){\n        return new DirectExchange(DEAD_LETTER_EXCHANGE);\n    }\n\n    // A\n    @Bean(\"businessQueueA\")\n    public Queue businessQueueA(){\n        Map<String, Object> args = new HashMap<>(2);\n//       x-dead-letter-exchange    \n        args.put(\"x-dead-letter-exchange\", DEAD_LETTER_EXCHANGE);\n//       x-dead-letter-routing-key  key\n        args.put(\"x-dead-letter-routing-key\", DEAD_LETTER_QUEUEA_ROUTING_KEY);\n        return QueueBuilder.durable(BUSINESS_QUEUEA_NAME).withArguments(args).build();\n    }\n\n    // B\n    @Bean(\"businessQueueB\")\n    public Queue businessQueueB(){\n        Map<String, Object> args = new HashMap<>(2);\n//       x-dead-letter-exchange    \n        args.put(\"x-dead-letter-exchange\", DEAD_LETTER_EXCHANGE);\n//       x-dead-letter-routing-key  key\n        args.put(\"x-dead-letter-routing-key\", DEAD_LETTER_QUEUEB_ROUTING_KEY);\n        return QueueBuilder.durable(BUSINESS_QUEUEB_NAME).withArguments(args).build();\n    }\n\n    // A\n    @Bean(\"deadLetterQueueA\")\n    public Queue deadLetterQueueA(){\n        return new Queue(DEAD_LETTER_QUEUEA_NAME);\n    }\n\n    // B\n    @Bean(\"deadLetterQueueB\")\n    public Queue deadLetterQueueB(){\n        return new Queue(DEAD_LETTER_QUEUEB_NAME);\n    }\n\n    // A\n    @Bean\n    public Binding businessBindingA(@Qualifier(\"businessQueueA\") Queue queue,\n                                    @Qualifier(\"businessExchange\") FanoutExchange exchange){\n        return BindingBuilder.bind(queue).to(exchange);\n    }\n\n    // B\n    @Bean\n    public Binding businessBindingB(@Qualifier(\"businessQueueB\") Queue queue,\n                                    @Qualifier(\"businessExchange\") FanoutExchange exchange){\n        return BindingBuilder.bind(queue).to(exchange);\n    }\n\n    // A\n    @Bean\n    public Binding deadLetterBindingA(@Qualifier(\"deadLetterQueueA\") Queue queue,\n                                    @Qualifier(\"deadLetterExchange\") DirectExchange exchange){\n        return BindingBuilder.bind(queue).to(exchange).with(DEAD_LETTER_QUEUEA_ROUTING_KEY);\n    }\n\n    // B\n    @Bean\n    public Binding deadLetterBindingB(@Qualifier(\"deadLetterQueueB\") Queue queue,\n                                      @Qualifier(\"deadLetterExchange\") DirectExchange exchange){\n        return BindingBuilder.bind(queue).to(exchange).with(DEAD_LETTER_QUEUEB_ROUTING_KEY);\n    }\n}\n```\n\nExchangeExchangeExchangeExchangeExchangekeyExchangekeykey\n\napplication.yml\n\n```yml\nspring:\n  rabbitmq:\n    host: localhost\n    password: guest\n    username: guest\n    listener:\n      type: simple\n      simple:\n          default-requeue-rejected: false\n          acknowledge-mode: manual\n```\n\n`default-requeue-rejected`false\n\n\n\n```java\n@Slf4j\n@Component\npublic class BusinessMessageReceiver {\n\n    @RabbitListener(queues = BUSINESS_QUEUEA_NAME)\n    public void receiveA(Message message, Channel channel) throws IOException {\n        String msg = new String(message.getBody());\n        log.info(\"A{}\", msg);\n        boolean ack = true;\n        Exception exception = null;\n        try {\n            if (msg.contains(\"deadletter\")){\n                throw new RuntimeException(\"dead letter exception\");\n            }\n        } catch (Exception e){\n            ack = false;\n            exception = e;\n        }\n        if (!ack){\n            log.error(\"error msg:{}\", exception.getMessage(), exception);\n            channel.basicNack(message.getMessageProperties().getDeliveryTag(), false, false);\n        } else {\n            channel.basicAck(message.getMessageProperties().getDeliveryTag(), false);\n        }\n    }\n\n    @RabbitListener(queues = BUSINESS_QUEUEB_NAME)\n    public void receiveB(Message message, Channel channel) throws IOException {\n        System.out.println(\"B\" + new String(message.getBody()));\n        channel.basicAck(message.getMessageProperties().getDeliveryTag(), false);\n    }\n}\n```\n\n\n\n```java\n@Component\npublic class DeadLetterMessageReceiver {\n\n\n    @RabbitListener(queues = DEAD_LETTER_QUEUEA_NAME)\n    public void receiveA(Message message, Channel channel) throws IOException {\n        System.out.println(\"A\" + new String(message.getBody()));\n        channel.basicAck(message.getMessageProperties().getDeliveryTag(), false);\n    }\n\n    @RabbitListener(queues = DEAD_LETTER_QUEUEB_NAME)\n    public void receiveB(Message message, Channel channel) throws IOException {\n        System.out.println(\"B\" + new String(message.getBody()));\n        channel.basicAck(message.getMessageProperties().getDeliveryTag(), false);\n    }\n}\n```\n\ncontroller\n\n```java\n@Component\npublic class BusinessMessageSender {\n\n    @Autowired\n    private RabbitTemplate rabbitTemplate;\n\n    public void sendMsg(String msg){\n        rabbitTemplate.convertSendAndReceive(BUSINESS_EXCHANGE_NAME, \"\", msg);\n    }\n}\n```\n\n```java\n@RequestMapping(\"rabbitmq\")\n@RestController\npublic class RabbitMQMsgController {\n\n    @Autowired\n    private BusinessMessageSender sender;\n\n    @RequestMapping(\"sendmsg\")\n    public void sendMsg(String msg){\n        sender.sendMsg(msg);\n    }\n}\n```\n\n\n\nRabbitMQExchangeExchange\n\n![8(%(3A_Y`_N8XX8W5XHZMWY.png](https://i.loli.net/2019/07/14/5d2ae72753a8e90481.png)\n\n![123.png](https://i.loli.net/2019/07/14/5d2ae792598f781012.png)\n\nurl\n\n```\nhttp://localhost:8080/rabbitmq/sendmsg?msg=msg\n```\n\n\n\n```java\nAmsg\nBmsg\n```\n\nConsumeracknck\n\n```\nhttp://localhost:8080/rabbitmq/sendmsg?msg=deadletter\n```\n\nANCKNCK\n\n```\nAdeadletter\nerror msg:dead letter exception\njava.lang.RuntimeException: dead letter exception\n...\n\nAdeadletter\n```\n\nConsumer\n\n## \n\n\n\n `x-dead-letter-routing-key` keykey\n\n\n\nkey`testA`ExchageQueueA`x-dead-letter-routing-key`key`testA``testB`key`testB`\n\nExchange Name\n\nHeader\n\n```java\nlog.info(\"properties{}\", message.getMessageProperties());\n```\n\nHeader\n\n```\npropertiesMessageProperties [headers={x-first-death-exchange=dead.letter.demo.simple.business.exchange, x-death=[{reason=rejected, count=1, exchange=dead.letter.demo.simple.business.exchange, time=Sun Jul 14 16:48:16 CST 2019, routing-keys=[], queue=dead.letter.demo.simple.business.queuea}], x-first-death-reason=rejected, x-first-death-queue=dead.letter.demo.simple.business.queuea}, correlationId=1, replyTo=amq.rabbitmq.reply-to.g2dkABZyYWJiaXRAREVTS1RPUC1DUlZGUzBOAAAPQAAAAAAB.bLbsdR1DnuRSwiKKmtdOGw==, contentType=text/plain, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=dead.letter.demo.simple.deadletter.exchange, receivedRoutingKey=dead.letter.demo.simple.deadletter.queuea.routingkey, deliveryTag=1, consumerTag=amq.ctag-NSp18SUPoCNvQcoYoS2lPg, consumerQueue=dead.letter.demo.simple.deadletter.queuea]\n```\n\nHeaderHeader\n\n|  |  |\n| --- | --- |\n| x-first-death-exchange |  |\n| x-first-death-reason | `rejected``default-requeue-rejected` `false``expired`  `maxlen`  |\n| x-first-death-queue |  |\n| x-death | |\n\n## \n\n\n\n= =\n\n## \n\n\n\n\n\n1. \n2. nckreject\n3. nckrejectRabbitMQ\n4. \n5. \n\nRabbitMQExchangeQueue\n\n\n\n[//]: # (![TIM20190714173105.png]&#40;https://i.loli.net/2019/07/14/5d2af6692a8f432182.png&#41;)\n","source":"_posts/rabbitmq/rabbitmq-how-to-use-dead-letter-queue.md","raw":"---\ntitle: RabbitMQRabbitMQ\ntags:\n  - RabbitMQ\ncategories:\n  - \ntoc: true\ntop: true\ncover: true\ndate: 2020-05-04 01:00:40\n---\n\n 15\n\n## \n\nRabbitMQerlang\n\nRabbitMQ\n\n\n\n## \n\n\n\n![AG4T332}_NEUNPUAU(A_)U6.png](https://i.loli.net/2019/07/14/5d2af4176d1d483480.png)\n\nRabbitMQ\n\n## \n\nDead Letter\n\nRabbitMQ\n\n1.  `channel.basicNack`   `channel.basicReject` `requeue` `false`\n2. TTL\n3. \n\n\n\nRabbitMQ\n\n## \n\n\n\n1. \n2. key\n3. \n\nkey\n\nkeyDirectFanoutTopickey\n\nRabbitMQ\n\nSpringbootpom `spring-boot-starter-amqp`  `spring-boot-starter-web` Config\n\n```java\n@Configuration\npublic class RabbitMQConfig {\n\n    public static final String BUSINESS_EXCHANGE_NAME = \"dead.letter.demo.simple.business.exchange\";\n    public static final String BUSINESS_QUEUEA_NAME = \"dead.letter.demo.simple.business.queuea\";\n    public static final String BUSINESS_QUEUEB_NAME = \"dead.letter.demo.simple.business.queueb\";\n    public static final String DEAD_LETTER_EXCHANGE = \"dead.letter.demo.simple.deadletter.exchange\";\n    public static final String DEAD_LETTER_QUEUEA_ROUTING_KEY = \"dead.letter.demo.simple.deadletter.queuea.routingkey\";\n    public static final String DEAD_LETTER_QUEUEB_ROUTING_KEY = \"dead.letter.demo.simple.deadletter.queueb.routingkey\";\n    public static final String DEAD_LETTER_QUEUEA_NAME = \"dead.letter.demo.simple.deadletter.queuea\";\n    public static final String DEAD_LETTER_QUEUEB_NAME = \"dead.letter.demo.simple.deadletter.queueb\";\n\n    // Exchange\n    @Bean(\"businessExchange\")\n    public FanoutExchange businessExchange(){\n        return new FanoutExchange(BUSINESS_EXCHANGE_NAME);\n    }\n\n    // Exchange\n    @Bean(\"deadLetterExchange\")\n    public DirectExchange deadLetterExchange(){\n        return new DirectExchange(DEAD_LETTER_EXCHANGE);\n    }\n\n    // A\n    @Bean(\"businessQueueA\")\n    public Queue businessQueueA(){\n        Map<String, Object> args = new HashMap<>(2);\n//       x-dead-letter-exchange    \n        args.put(\"x-dead-letter-exchange\", DEAD_LETTER_EXCHANGE);\n//       x-dead-letter-routing-key  key\n        args.put(\"x-dead-letter-routing-key\", DEAD_LETTER_QUEUEA_ROUTING_KEY);\n        return QueueBuilder.durable(BUSINESS_QUEUEA_NAME).withArguments(args).build();\n    }\n\n    // B\n    @Bean(\"businessQueueB\")\n    public Queue businessQueueB(){\n        Map<String, Object> args = new HashMap<>(2);\n//       x-dead-letter-exchange    \n        args.put(\"x-dead-letter-exchange\", DEAD_LETTER_EXCHANGE);\n//       x-dead-letter-routing-key  key\n        args.put(\"x-dead-letter-routing-key\", DEAD_LETTER_QUEUEB_ROUTING_KEY);\n        return QueueBuilder.durable(BUSINESS_QUEUEB_NAME).withArguments(args).build();\n    }\n\n    // A\n    @Bean(\"deadLetterQueueA\")\n    public Queue deadLetterQueueA(){\n        return new Queue(DEAD_LETTER_QUEUEA_NAME);\n    }\n\n    // B\n    @Bean(\"deadLetterQueueB\")\n    public Queue deadLetterQueueB(){\n        return new Queue(DEAD_LETTER_QUEUEB_NAME);\n    }\n\n    // A\n    @Bean\n    public Binding businessBindingA(@Qualifier(\"businessQueueA\") Queue queue,\n                                    @Qualifier(\"businessExchange\") FanoutExchange exchange){\n        return BindingBuilder.bind(queue).to(exchange);\n    }\n\n    // B\n    @Bean\n    public Binding businessBindingB(@Qualifier(\"businessQueueB\") Queue queue,\n                                    @Qualifier(\"businessExchange\") FanoutExchange exchange){\n        return BindingBuilder.bind(queue).to(exchange);\n    }\n\n    // A\n    @Bean\n    public Binding deadLetterBindingA(@Qualifier(\"deadLetterQueueA\") Queue queue,\n                                    @Qualifier(\"deadLetterExchange\") DirectExchange exchange){\n        return BindingBuilder.bind(queue).to(exchange).with(DEAD_LETTER_QUEUEA_ROUTING_KEY);\n    }\n\n    // B\n    @Bean\n    public Binding deadLetterBindingB(@Qualifier(\"deadLetterQueueB\") Queue queue,\n                                      @Qualifier(\"deadLetterExchange\") DirectExchange exchange){\n        return BindingBuilder.bind(queue).to(exchange).with(DEAD_LETTER_QUEUEB_ROUTING_KEY);\n    }\n}\n```\n\nExchangeExchangeExchangeExchangeExchangekeyExchangekeykey\n\napplication.yml\n\n```yml\nspring:\n  rabbitmq:\n    host: localhost\n    password: guest\n    username: guest\n    listener:\n      type: simple\n      simple:\n          default-requeue-rejected: false\n          acknowledge-mode: manual\n```\n\n`default-requeue-rejected`false\n\n\n\n```java\n@Slf4j\n@Component\npublic class BusinessMessageReceiver {\n\n    @RabbitListener(queues = BUSINESS_QUEUEA_NAME)\n    public void receiveA(Message message, Channel channel) throws IOException {\n        String msg = new String(message.getBody());\n        log.info(\"A{}\", msg);\n        boolean ack = true;\n        Exception exception = null;\n        try {\n            if (msg.contains(\"deadletter\")){\n                throw new RuntimeException(\"dead letter exception\");\n            }\n        } catch (Exception e){\n            ack = false;\n            exception = e;\n        }\n        if (!ack){\n            log.error(\"error msg:{}\", exception.getMessage(), exception);\n            channel.basicNack(message.getMessageProperties().getDeliveryTag(), false, false);\n        } else {\n            channel.basicAck(message.getMessageProperties().getDeliveryTag(), false);\n        }\n    }\n\n    @RabbitListener(queues = BUSINESS_QUEUEB_NAME)\n    public void receiveB(Message message, Channel channel) throws IOException {\n        System.out.println(\"B\" + new String(message.getBody()));\n        channel.basicAck(message.getMessageProperties().getDeliveryTag(), false);\n    }\n}\n```\n\n\n\n```java\n@Component\npublic class DeadLetterMessageReceiver {\n\n\n    @RabbitListener(queues = DEAD_LETTER_QUEUEA_NAME)\n    public void receiveA(Message message, Channel channel) throws IOException {\n        System.out.println(\"A\" + new String(message.getBody()));\n        channel.basicAck(message.getMessageProperties().getDeliveryTag(), false);\n    }\n\n    @RabbitListener(queues = DEAD_LETTER_QUEUEB_NAME)\n    public void receiveB(Message message, Channel channel) throws IOException {\n        System.out.println(\"B\" + new String(message.getBody()));\n        channel.basicAck(message.getMessageProperties().getDeliveryTag(), false);\n    }\n}\n```\n\ncontroller\n\n```java\n@Component\npublic class BusinessMessageSender {\n\n    @Autowired\n    private RabbitTemplate rabbitTemplate;\n\n    public void sendMsg(String msg){\n        rabbitTemplate.convertSendAndReceive(BUSINESS_EXCHANGE_NAME, \"\", msg);\n    }\n}\n```\n\n```java\n@RequestMapping(\"rabbitmq\")\n@RestController\npublic class RabbitMQMsgController {\n\n    @Autowired\n    private BusinessMessageSender sender;\n\n    @RequestMapping(\"sendmsg\")\n    public void sendMsg(String msg){\n        sender.sendMsg(msg);\n    }\n}\n```\n\n\n\nRabbitMQExchangeExchange\n\n![8(%(3A_Y`_N8XX8W5XHZMWY.png](https://i.loli.net/2019/07/14/5d2ae72753a8e90481.png)\n\n![123.png](https://i.loli.net/2019/07/14/5d2ae792598f781012.png)\n\nurl\n\n```\nhttp://localhost:8080/rabbitmq/sendmsg?msg=msg\n```\n\n\n\n```java\nAmsg\nBmsg\n```\n\nConsumeracknck\n\n```\nhttp://localhost:8080/rabbitmq/sendmsg?msg=deadletter\n```\n\nANCKNCK\n\n```\nAdeadletter\nerror msg:dead letter exception\njava.lang.RuntimeException: dead letter exception\n...\n\nAdeadletter\n```\n\nConsumer\n\n## \n\n\n\n `x-dead-letter-routing-key` keykey\n\n\n\nkey`testA`ExchageQueueA`x-dead-letter-routing-key`key`testA``testB`key`testB`\n\nExchange Name\n\nHeader\n\n```java\nlog.info(\"properties{}\", message.getMessageProperties());\n```\n\nHeader\n\n```\npropertiesMessageProperties [headers={x-first-death-exchange=dead.letter.demo.simple.business.exchange, x-death=[{reason=rejected, count=1, exchange=dead.letter.demo.simple.business.exchange, time=Sun Jul 14 16:48:16 CST 2019, routing-keys=[], queue=dead.letter.demo.simple.business.queuea}], x-first-death-reason=rejected, x-first-death-queue=dead.letter.demo.simple.business.queuea}, correlationId=1, replyTo=amq.rabbitmq.reply-to.g2dkABZyYWJiaXRAREVTS1RPUC1DUlZGUzBOAAAPQAAAAAAB.bLbsdR1DnuRSwiKKmtdOGw==, contentType=text/plain, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=dead.letter.demo.simple.deadletter.exchange, receivedRoutingKey=dead.letter.demo.simple.deadletter.queuea.routingkey, deliveryTag=1, consumerTag=amq.ctag-NSp18SUPoCNvQcoYoS2lPg, consumerQueue=dead.letter.demo.simple.deadletter.queuea]\n```\n\nHeaderHeader\n\n|  |  |\n| --- | --- |\n| x-first-death-exchange |  |\n| x-first-death-reason | `rejected``default-requeue-rejected` `false``expired`  `maxlen`  |\n| x-first-death-queue |  |\n| x-death | |\n\n## \n\n\n\n= =\n\n## \n\n\n\n\n\n1. \n2. nckreject\n3. nckrejectRabbitMQ\n4. \n5. \n\nRabbitMQExchangeQueue\n\n\n\n[//]: # (![TIM20190714173105.png]&#40;https://i.loli.net/2019/07/14/5d2af6692a8f432182.png&#41;)\n","slug":"rabbitmq/rabbitmq-how-to-use-dead-letter-queue","published":1,"updated":"2020-05-03T17:00:40.000Z","_id":"cl70rsfbm00195ohu6z1m6rv7","comments":1,"layout":"post","photos":[],"link":"","content":"<p>   15</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>RabbitMQerlang</p>\n<p>RabbitMQ</p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p><img src=\"https://i.loli.net/2019/07/14/5d2af4176d1d483480.png\" alt=\"AG4T332}_NEUNPUAU(A_)U6.png\"></p>\n<p>RabbitMQ</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Dead Letter</p>\n<p>RabbitMQ</p>\n<ol>\n<li> <code>channel.basicNack</code>   <code>channel.basicReject</code> <code>requeue</code> <code>false</code></li>\n<li>TTL</li>\n<li></li>\n</ol>\n<p></p>\n<p>RabbitMQ</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<ol>\n<li></li>\n<li>key</li>\n<li></li>\n</ol>\n<p>key</p>\n<p>keyDirectFanoutTopickey</p>\n<p>RabbitMQ</p>\n<p>Springbootpom <code>spring-boot-starter-amqp</code>  <code>spring-boot-starter-web</code> Config</p>\n<pre class=\" language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Configuration</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">RabbitMQConfig</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> String BUSINESS_EXCHANGE_NAME <span class=\"token operator\">=</span> <span class=\"token string\">\"dead.letter.demo.simple.business.exchange\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> String BUSINESS_QUEUEA_NAME <span class=\"token operator\">=</span> <span class=\"token string\">\"dead.letter.demo.simple.business.queuea\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> String BUSINESS_QUEUEB_NAME <span class=\"token operator\">=</span> <span class=\"token string\">\"dead.letter.demo.simple.business.queueb\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> String DEAD_LETTER_EXCHANGE <span class=\"token operator\">=</span> <span class=\"token string\">\"dead.letter.demo.simple.deadletter.exchange\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> String DEAD_LETTER_QUEUEA_ROUTING_KEY <span class=\"token operator\">=</span> <span class=\"token string\">\"dead.letter.demo.simple.deadletter.queuea.routingkey\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> String DEAD_LETTER_QUEUEB_ROUTING_KEY <span class=\"token operator\">=</span> <span class=\"token string\">\"dead.letter.demo.simple.deadletter.queueb.routingkey\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> String DEAD_LETTER_QUEUEA_NAME <span class=\"token operator\">=</span> <span class=\"token string\">\"dead.letter.demo.simple.deadletter.queuea\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> String DEAD_LETTER_QUEUEB_NAME <span class=\"token operator\">=</span> <span class=\"token string\">\"dead.letter.demo.simple.deadletter.queueb\"</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\" spellcheck=\"true\">// Exchange</span>\n    <span class=\"token annotation punctuation\">@Bean</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"businessExchange\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">public</span> FanoutExchange <span class=\"token function\">businessExchange</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">FanoutExchange</span><span class=\"token punctuation\">(</span>BUSINESS_EXCHANGE_NAME<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\" spellcheck=\"true\">// Exchange</span>\n    <span class=\"token annotation punctuation\">@Bean</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"deadLetterExchange\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">public</span> DirectExchange <span class=\"token function\">deadLetterExchange</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">DirectExchange</span><span class=\"token punctuation\">(</span>DEAD_LETTER_EXCHANGE<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\" spellcheck=\"true\">// A</span>\n    <span class=\"token annotation punctuation\">@Bean</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"businessQueueA\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">public</span> Queue <span class=\"token function\">businessQueueA</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        Map<span class=\"token operator\">&lt;</span>String<span class=\"token punctuation\">,</span> Object<span class=\"token operator\">></span> args <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">HashMap</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">></span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\" spellcheck=\"true\">//       x-dead-letter-exchange    </span>\n        args<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"x-dead-letter-exchange\"</span><span class=\"token punctuation\">,</span> DEAD_LETTER_EXCHANGE<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\" spellcheck=\"true\">//       x-dead-letter-routing-key  key</span>\n        args<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"x-dead-letter-routing-key\"</span><span class=\"token punctuation\">,</span> DEAD_LETTER_QUEUEA_ROUTING_KEY<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> QueueBuilder<span class=\"token punctuation\">.</span><span class=\"token function\">durable</span><span class=\"token punctuation\">(</span>BUSINESS_QUEUEA_NAME<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">withArguments</span><span class=\"token punctuation\">(</span>args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\" spellcheck=\"true\">// B</span>\n    <span class=\"token annotation punctuation\">@Bean</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"businessQueueB\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">public</span> Queue <span class=\"token function\">businessQueueB</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        Map<span class=\"token operator\">&lt;</span>String<span class=\"token punctuation\">,</span> Object<span class=\"token operator\">></span> args <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">HashMap</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">></span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\" spellcheck=\"true\">//       x-dead-letter-exchange    </span>\n        args<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"x-dead-letter-exchange\"</span><span class=\"token punctuation\">,</span> DEAD_LETTER_EXCHANGE<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\" spellcheck=\"true\">//       x-dead-letter-routing-key  key</span>\n        args<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"x-dead-letter-routing-key\"</span><span class=\"token punctuation\">,</span> DEAD_LETTER_QUEUEB_ROUTING_KEY<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> QueueBuilder<span class=\"token punctuation\">.</span><span class=\"token function\">durable</span><span class=\"token punctuation\">(</span>BUSINESS_QUEUEB_NAME<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">withArguments</span><span class=\"token punctuation\">(</span>args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\" spellcheck=\"true\">// A</span>\n    <span class=\"token annotation punctuation\">@Bean</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"deadLetterQueueA\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">public</span> Queue <span class=\"token function\">deadLetterQueueA</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Queue</span><span class=\"token punctuation\">(</span>DEAD_LETTER_QUEUEA_NAME<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\" spellcheck=\"true\">// B</span>\n    <span class=\"token annotation punctuation\">@Bean</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"deadLetterQueueB\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">public</span> Queue <span class=\"token function\">deadLetterQueueB</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Queue</span><span class=\"token punctuation\">(</span>DEAD_LETTER_QUEUEB_NAME<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\" spellcheck=\"true\">// A</span>\n    <span class=\"token annotation punctuation\">@Bean</span>\n    <span class=\"token keyword\">public</span> Binding <span class=\"token function\">businessBindingA</span><span class=\"token punctuation\">(</span><span class=\"token annotation punctuation\">@Qualifier</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"businessQueueA\"</span><span class=\"token punctuation\">)</span> Queue queue<span class=\"token punctuation\">,</span>\n                                    <span class=\"token annotation punctuation\">@Qualifier</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"businessExchange\"</span><span class=\"token punctuation\">)</span> FanoutExchange exchange<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> BindingBuilder<span class=\"token punctuation\">.</span><span class=\"token function\">bind</span><span class=\"token punctuation\">(</span>queue<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">to</span><span class=\"token punctuation\">(</span>exchange<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\" spellcheck=\"true\">// B</span>\n    <span class=\"token annotation punctuation\">@Bean</span>\n    <span class=\"token keyword\">public</span> Binding <span class=\"token function\">businessBindingB</span><span class=\"token punctuation\">(</span><span class=\"token annotation punctuation\">@Qualifier</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"businessQueueB\"</span><span class=\"token punctuation\">)</span> Queue queue<span class=\"token punctuation\">,</span>\n                                    <span class=\"token annotation punctuation\">@Qualifier</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"businessExchange\"</span><span class=\"token punctuation\">)</span> FanoutExchange exchange<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> BindingBuilder<span class=\"token punctuation\">.</span><span class=\"token function\">bind</span><span class=\"token punctuation\">(</span>queue<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">to</span><span class=\"token punctuation\">(</span>exchange<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\" spellcheck=\"true\">// A</span>\n    <span class=\"token annotation punctuation\">@Bean</span>\n    <span class=\"token keyword\">public</span> Binding <span class=\"token function\">deadLetterBindingA</span><span class=\"token punctuation\">(</span><span class=\"token annotation punctuation\">@Qualifier</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"deadLetterQueueA\"</span><span class=\"token punctuation\">)</span> Queue queue<span class=\"token punctuation\">,</span>\n                                    <span class=\"token annotation punctuation\">@Qualifier</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"deadLetterExchange\"</span><span class=\"token punctuation\">)</span> DirectExchange exchange<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> BindingBuilder<span class=\"token punctuation\">.</span><span class=\"token function\">bind</span><span class=\"token punctuation\">(</span>queue<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">to</span><span class=\"token punctuation\">(</span>exchange<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">with</span><span class=\"token punctuation\">(</span>DEAD_LETTER_QUEUEA_ROUTING_KEY<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\" spellcheck=\"true\">// B</span>\n    <span class=\"token annotation punctuation\">@Bean</span>\n    <span class=\"token keyword\">public</span> Binding <span class=\"token function\">deadLetterBindingB</span><span class=\"token punctuation\">(</span><span class=\"token annotation punctuation\">@Qualifier</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"deadLetterQueueB\"</span><span class=\"token punctuation\">)</span> Queue queue<span class=\"token punctuation\">,</span>\n                                      <span class=\"token annotation punctuation\">@Qualifier</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"deadLetterExchange\"</span><span class=\"token punctuation\">)</span> DirectExchange exchange<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> BindingBuilder<span class=\"token punctuation\">.</span><span class=\"token function\">bind</span><span class=\"token punctuation\">(</span>queue<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">to</span><span class=\"token punctuation\">(</span>exchange<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">with</span><span class=\"token punctuation\">(</span>DEAD_LETTER_QUEUEB_ROUTING_KEY<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p>ExchangeExchangeExchangeExchangeExchangekeyExchangekeykey</p>\n<p>application.yml</p>\n<pre class=\" language-yml\"><code class=\"language-yml\">spring:\n  rabbitmq:\n    host: localhost\n    password: guest\n    username: guest\n    listener:\n      type: simple\n      simple:\n          default-requeue-rejected: false\n          acknowledge-mode: manual</code></pre>\n<p><code>default-requeue-rejected</code>false</p>\n<p></p>\n<pre class=\" language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Slf4j</span>\n<span class=\"token annotation punctuation\">@Component</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">BusinessMessageReceiver</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token annotation punctuation\">@RabbitListener</span><span class=\"token punctuation\">(</span>queues <span class=\"token operator\">=</span> BUSINESS_QUEUEA_NAME<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">receiveA</span><span class=\"token punctuation\">(</span>Message message<span class=\"token punctuation\">,</span> Channel channel<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> IOException <span class=\"token punctuation\">{</span>\n        String msg <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">.</span><span class=\"token function\">getBody</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        log<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"A{}\"</span><span class=\"token punctuation\">,</span> msg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">boolean</span> ack <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">;</span>\n        Exception exception <span class=\"token operator\">=</span> null<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>msg<span class=\"token punctuation\">.</span><span class=\"token function\">contains</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"deadletter\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n                <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">RuntimeException</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"dead letter exception\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">Exception</span> e<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n            ack <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n            exception <span class=\"token operator\">=</span> e<span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>ack<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n            log<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"error msg:{}\"</span><span class=\"token punctuation\">,</span> exception<span class=\"token punctuation\">.</span><span class=\"token function\">getMessage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> exception<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n            channel<span class=\"token punctuation\">.</span><span class=\"token function\">basicNack</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">.</span><span class=\"token function\">getMessageProperties</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getDeliveryTag</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n            channel<span class=\"token punctuation\">.</span><span class=\"token function\">basicAck</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">.</span><span class=\"token function\">getMessageProperties</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getDeliveryTag</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token annotation punctuation\">@RabbitListener</span><span class=\"token punctuation\">(</span>queues <span class=\"token operator\">=</span> BUSINESS_QUEUEB_NAME<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">receiveB</span><span class=\"token punctuation\">(</span>Message message<span class=\"token punctuation\">,</span> Channel channel<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> IOException <span class=\"token punctuation\">{</span>\n        System<span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"B\"</span> <span class=\"token operator\">+</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">.</span><span class=\"token function\">getBody</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        channel<span class=\"token punctuation\">.</span><span class=\"token function\">basicAck</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">.</span><span class=\"token function\">getMessageProperties</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getDeliveryTag</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p></p>\n<pre class=\" language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Component</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">DeadLetterMessageReceiver</span> <span class=\"token punctuation\">{</span>\n\n\n    <span class=\"token annotation punctuation\">@RabbitListener</span><span class=\"token punctuation\">(</span>queues <span class=\"token operator\">=</span> DEAD_LETTER_QUEUEA_NAME<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">receiveA</span><span class=\"token punctuation\">(</span>Message message<span class=\"token punctuation\">,</span> Channel channel<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> IOException <span class=\"token punctuation\">{</span>\n        System<span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"A\"</span> <span class=\"token operator\">+</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">.</span><span class=\"token function\">getBody</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        channel<span class=\"token punctuation\">.</span><span class=\"token function\">basicAck</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">.</span><span class=\"token function\">getMessageProperties</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getDeliveryTag</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token annotation punctuation\">@RabbitListener</span><span class=\"token punctuation\">(</span>queues <span class=\"token operator\">=</span> DEAD_LETTER_QUEUEB_NAME<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">receiveB</span><span class=\"token punctuation\">(</span>Message message<span class=\"token punctuation\">,</span> Channel channel<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> IOException <span class=\"token punctuation\">{</span>\n        System<span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"B\"</span> <span class=\"token operator\">+</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">.</span><span class=\"token function\">getBody</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        channel<span class=\"token punctuation\">.</span><span class=\"token function\">basicAck</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">.</span><span class=\"token function\">getMessageProperties</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getDeliveryTag</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p>controller</p>\n<pre class=\" language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Component</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">BusinessMessageSender</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token annotation punctuation\">@Autowired</span>\n    <span class=\"token keyword\">private</span> RabbitTemplate rabbitTemplate<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">sendMsg</span><span class=\"token punctuation\">(</span>String msg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        rabbitTemplate<span class=\"token punctuation\">.</span><span class=\"token function\">convertSendAndReceive</span><span class=\"token punctuation\">(</span>BUSINESS_EXCHANGE_NAME<span class=\"token punctuation\">,</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span> msg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<pre class=\" language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@RequestMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"rabbitmq\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token annotation punctuation\">@RestController</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">RabbitMQMsgController</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token annotation punctuation\">@Autowired</span>\n    <span class=\"token keyword\">private</span> BusinessMessageSender sender<span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@RequestMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"sendmsg\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">sendMsg</span><span class=\"token punctuation\">(</span>String msg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        sender<span class=\"token punctuation\">.</span><span class=\"token function\">sendMsg</span><span class=\"token punctuation\">(</span>msg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p></p>\n<p>RabbitMQExchangeExchange</p>\n<p>![8(%(3A_Y`_N8XX8W5XHZMWY.png](<a href=\"https://i.loli.net/2019/07/14/5d2ae72753a8e90481.png\" target=\"_blank\" rel=\"noopener\">https://i.loli.net/2019/07/14/5d2ae72753a8e90481.png</a>)</p>\n<p><img src=\"https://i.loli.net/2019/07/14/5d2ae792598f781012.png\" alt=\"123.png\"></p>\n<p>url</p>\n<pre><code>http://localhost:8080/rabbitmq/sendmsg?msg=msg</code></pre><p></p>\n<pre class=\" language-java\"><code class=\"language-java\">Amsg\nBmsg</code></pre>\n<p>Consumeracknck</p>\n<pre><code>http://localhost:8080/rabbitmq/sendmsg?msg=deadletter</code></pre><p>ANCKNCK</p>\n<pre><code>Adeadletter\nerror msg:dead letter exception\njava.lang.RuntimeException: dead letter exception\n...\n\nAdeadletter</code></pre><p>Consumer</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p> <code>x-dead-letter-routing-key</code> keykey</p>\n<p></p>\n<p>key<code>testA</code>ExchageQueueA<code>x-dead-letter-routing-key</code>key<code>testA</code><code>testB</code>key<code>testB</code></p>\n<p>Exchange Name</p>\n<p>Header</p>\n<pre class=\" language-java\"><code class=\"language-java\">log<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"properties{}\"</span><span class=\"token punctuation\">,</span> message<span class=\"token punctuation\">.</span><span class=\"token function\">getMessageProperties</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>Header</p>\n<pre><code>propertiesMessageProperties [headers={x-first-death-exchange=dead.letter.demo.simple.business.exchange, x-death=[{reason=rejected, count=1, exchange=dead.letter.demo.simple.business.exchange, time=Sun Jul 14 16:48:16 CST 2019, routing-keys=[], queue=dead.letter.demo.simple.business.queuea}], x-first-death-reason=rejected, x-first-death-queue=dead.letter.demo.simple.business.queuea}, correlationId=1, replyTo=amq.rabbitmq.reply-to.g2dkABZyYWJiaXRAREVTS1RPUC1DUlZGUzBOAAAPQAAAAAAB.bLbsdR1DnuRSwiKKmtdOGw==, contentType=text/plain, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=dead.letter.demo.simple.deadletter.exchange, receivedRoutingKey=dead.letter.demo.simple.deadletter.queuea.routingkey, deliveryTag=1, consumerTag=amq.ctag-NSp18SUPoCNvQcoYoS2lPg, consumerQueue=dead.letter.demo.simple.deadletter.queuea]</code></pre><p>HeaderHeader</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>x-first-death-exchange</td>\n<td></td>\n</tr>\n<tr>\n<td>x-first-death-reason</td>\n<td><code>rejected</code><code>default-requeue-rejected</code> <code>false</code><code>expired</code>  <code>maxlen</code>  </td>\n</tr>\n<tr>\n<td>x-first-death-queue</td>\n<td></td>\n</tr>\n<tr>\n<td>x-death</td>\n<td></td>\n</tr>\n</tbody></table>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p>= =</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p></p>\n<ol>\n<li></li>\n<li>nckreject</li>\n<li>nckrejectRabbitMQ</li>\n<li></li>\n<li></li>\n</ol>\n<p>RabbitMQExchangeQueue</p>\n<p></p>\n<script>\n        document.querySelectorAll('.github-emoji')\n          .forEach(el => {\n            if (!el.dataset.src) { return; }\n            const img = document.createElement('img');\n            img.style = 'display:none !important;';\n            img.src = el.dataset.src;\n            img.addEventListener('error', () => {\n              img.remove();\n              el.style.color = 'inherit';\n              el.style.backgroundImage = 'none';\n              el.style.background = 'none';\n            });\n            img.addEventListener('load', () => {\n              img.remove();\n            });\n            document.body.appendChild(img);\n          });\n      </script>","site":{"data":{"friends":[{"avatar":"http://43.142.191.46:8080/crmebimage/public/operation/2022/08/19/e4c5aacf44c44157ac8381896a4f33bfiwjztayaan.png","name":"","introduction":"","url":"http://43.142.191.46:9527/","title":""},{"avatar":"http://43.142.191.46:8080/crmebimage/public/operation/2022/08/19/e4c5aacf44c44157ac8381896a4f33bfiwjztayaan.png","name":"RabbitMQ","introduction":"","url":"http://43.142.191.46:15672/","title":""}]}},"excerpt":"","more":"<p>   15</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>RabbitMQerlang</p>\n<p>RabbitMQ</p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p><img src=\"https://i.loli.net/2019/07/14/5d2af4176d1d483480.png\" alt=\"AG4T332}_NEUNPUAU(A_)U6.png\"></p>\n<p>RabbitMQ</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Dead Letter</p>\n<p>RabbitMQ</p>\n<ol>\n<li> <code>channel.basicNack</code>   <code>channel.basicReject</code> <code>requeue</code> <code>false</code></li>\n<li>TTL</li>\n<li></li>\n</ol>\n<p></p>\n<p>RabbitMQ</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<ol>\n<li></li>\n<li>key</li>\n<li></li>\n</ol>\n<p>key</p>\n<p>keyDirectFanoutTopickey</p>\n<p>RabbitMQ</p>\n<p>Springbootpom <code>spring-boot-starter-amqp</code>  <code>spring-boot-starter-web</code> Config</p>\n<pre><code class=\"java\">@Configuration\npublic class RabbitMQConfig {\n\n    public static final String BUSINESS_EXCHANGE_NAME = &quot;dead.letter.demo.simple.business.exchange&quot;;\n    public static final String BUSINESS_QUEUEA_NAME = &quot;dead.letter.demo.simple.business.queuea&quot;;\n    public static final String BUSINESS_QUEUEB_NAME = &quot;dead.letter.demo.simple.business.queueb&quot;;\n    public static final String DEAD_LETTER_EXCHANGE = &quot;dead.letter.demo.simple.deadletter.exchange&quot;;\n    public static final String DEAD_LETTER_QUEUEA_ROUTING_KEY = &quot;dead.letter.demo.simple.deadletter.queuea.routingkey&quot;;\n    public static final String DEAD_LETTER_QUEUEB_ROUTING_KEY = &quot;dead.letter.demo.simple.deadletter.queueb.routingkey&quot;;\n    public static final String DEAD_LETTER_QUEUEA_NAME = &quot;dead.letter.demo.simple.deadletter.queuea&quot;;\n    public static final String DEAD_LETTER_QUEUEB_NAME = &quot;dead.letter.demo.simple.deadletter.queueb&quot;;\n\n    // Exchange\n    @Bean(&quot;businessExchange&quot;)\n    public FanoutExchange businessExchange(){\n        return new FanoutExchange(BUSINESS_EXCHANGE_NAME);\n    }\n\n    // Exchange\n    @Bean(&quot;deadLetterExchange&quot;)\n    public DirectExchange deadLetterExchange(){\n        return new DirectExchange(DEAD_LETTER_EXCHANGE);\n    }\n\n    // A\n    @Bean(&quot;businessQueueA&quot;)\n    public Queue businessQueueA(){\n        Map&lt;String, Object&gt; args = new HashMap&lt;&gt;(2);\n//       x-dead-letter-exchange    \n        args.put(&quot;x-dead-letter-exchange&quot;, DEAD_LETTER_EXCHANGE);\n//       x-dead-letter-routing-key  key\n        args.put(&quot;x-dead-letter-routing-key&quot;, DEAD_LETTER_QUEUEA_ROUTING_KEY);\n        return QueueBuilder.durable(BUSINESS_QUEUEA_NAME).withArguments(args).build();\n    }\n\n    // B\n    @Bean(&quot;businessQueueB&quot;)\n    public Queue businessQueueB(){\n        Map&lt;String, Object&gt; args = new HashMap&lt;&gt;(2);\n//       x-dead-letter-exchange    \n        args.put(&quot;x-dead-letter-exchange&quot;, DEAD_LETTER_EXCHANGE);\n//       x-dead-letter-routing-key  key\n        args.put(&quot;x-dead-letter-routing-key&quot;, DEAD_LETTER_QUEUEB_ROUTING_KEY);\n        return QueueBuilder.durable(BUSINESS_QUEUEB_NAME).withArguments(args).build();\n    }\n\n    // A\n    @Bean(&quot;deadLetterQueueA&quot;)\n    public Queue deadLetterQueueA(){\n        return new Queue(DEAD_LETTER_QUEUEA_NAME);\n    }\n\n    // B\n    @Bean(&quot;deadLetterQueueB&quot;)\n    public Queue deadLetterQueueB(){\n        return new Queue(DEAD_LETTER_QUEUEB_NAME);\n    }\n\n    // A\n    @Bean\n    public Binding businessBindingA(@Qualifier(&quot;businessQueueA&quot;) Queue queue,\n                                    @Qualifier(&quot;businessExchange&quot;) FanoutExchange exchange){\n        return BindingBuilder.bind(queue).to(exchange);\n    }\n\n    // B\n    @Bean\n    public Binding businessBindingB(@Qualifier(&quot;businessQueueB&quot;) Queue queue,\n                                    @Qualifier(&quot;businessExchange&quot;) FanoutExchange exchange){\n        return BindingBuilder.bind(queue).to(exchange);\n    }\n\n    // A\n    @Bean\n    public Binding deadLetterBindingA(@Qualifier(&quot;deadLetterQueueA&quot;) Queue queue,\n                                    @Qualifier(&quot;deadLetterExchange&quot;) DirectExchange exchange){\n        return BindingBuilder.bind(queue).to(exchange).with(DEAD_LETTER_QUEUEA_ROUTING_KEY);\n    }\n\n    // B\n    @Bean\n    public Binding deadLetterBindingB(@Qualifier(&quot;deadLetterQueueB&quot;) Queue queue,\n                                      @Qualifier(&quot;deadLetterExchange&quot;) DirectExchange exchange){\n        return BindingBuilder.bind(queue).to(exchange).with(DEAD_LETTER_QUEUEB_ROUTING_KEY);\n    }\n}</code></pre>\n<p>ExchangeExchangeExchangeExchangeExchangekeyExchangekeykey</p>\n<p>application.yml</p>\n<pre><code class=\"yml\">spring:\n  rabbitmq:\n    host: localhost\n    password: guest\n    username: guest\n    listener:\n      type: simple\n      simple:\n          default-requeue-rejected: false\n          acknowledge-mode: manual</code></pre>\n<p><code>default-requeue-rejected</code>false</p>\n<p></p>\n<pre><code class=\"java\">@Slf4j\n@Component\npublic class BusinessMessageReceiver {\n\n    @RabbitListener(queues = BUSINESS_QUEUEA_NAME)\n    public void receiveA(Message message, Channel channel) throws IOException {\n        String msg = new String(message.getBody());\n        log.info(&quot;A{}&quot;, msg);\n        boolean ack = true;\n        Exception exception = null;\n        try {\n            if (msg.contains(&quot;deadletter&quot;)){\n                throw new RuntimeException(&quot;dead letter exception&quot;);\n            }\n        } catch (Exception e){\n            ack = false;\n            exception = e;\n        }\n        if (!ack){\n            log.error(&quot;error msg:{}&quot;, exception.getMessage(), exception);\n            channel.basicNack(message.getMessageProperties().getDeliveryTag(), false, false);\n        } else {\n            channel.basicAck(message.getMessageProperties().getDeliveryTag(), false);\n        }\n    }\n\n    @RabbitListener(queues = BUSINESS_QUEUEB_NAME)\n    public void receiveB(Message message, Channel channel) throws IOException {\n        System.out.println(&quot;B&quot; + new String(message.getBody()));\n        channel.basicAck(message.getMessageProperties().getDeliveryTag(), false);\n    }\n}</code></pre>\n<p></p>\n<pre><code class=\"java\">@Component\npublic class DeadLetterMessageReceiver {\n\n\n    @RabbitListener(queues = DEAD_LETTER_QUEUEA_NAME)\n    public void receiveA(Message message, Channel channel) throws IOException {\n        System.out.println(&quot;A&quot; + new String(message.getBody()));\n        channel.basicAck(message.getMessageProperties().getDeliveryTag(), false);\n    }\n\n    @RabbitListener(queues = DEAD_LETTER_QUEUEB_NAME)\n    public void receiveB(Message message, Channel channel) throws IOException {\n        System.out.println(&quot;B&quot; + new String(message.getBody()));\n        channel.basicAck(message.getMessageProperties().getDeliveryTag(), false);\n    }\n}</code></pre>\n<p>controller</p>\n<pre><code class=\"java\">@Component\npublic class BusinessMessageSender {\n\n    @Autowired\n    private RabbitTemplate rabbitTemplate;\n\n    public void sendMsg(String msg){\n        rabbitTemplate.convertSendAndReceive(BUSINESS_EXCHANGE_NAME, &quot;&quot;, msg);\n    }\n}</code></pre>\n<pre><code class=\"java\">@RequestMapping(&quot;rabbitmq&quot;)\n@RestController\npublic class RabbitMQMsgController {\n\n    @Autowired\n    private BusinessMessageSender sender;\n\n    @RequestMapping(&quot;sendmsg&quot;)\n    public void sendMsg(String msg){\n        sender.sendMsg(msg);\n    }\n}</code></pre>\n<p></p>\n<p>RabbitMQExchangeExchange</p>\n<p>![8(%(3A_Y`_N8XX8W5XHZMWY.png](<a href=\"https://i.loli.net/2019/07/14/5d2ae72753a8e90481.png\" target=\"_blank\" rel=\"noopener\">https://i.loli.net/2019/07/14/5d2ae72753a8e90481.png</a>)</p>\n<p><img src=\"https://i.loli.net/2019/07/14/5d2ae792598f781012.png\" alt=\"123.png\"></p>\n<p>url</p>\n<pre><code>http://localhost:8080/rabbitmq/sendmsg?msg=msg</code></pre><p></p>\n<pre><code class=\"java\">Amsg\nBmsg</code></pre>\n<p>Consumeracknck</p>\n<pre><code>http://localhost:8080/rabbitmq/sendmsg?msg=deadletter</code></pre><p>ANCKNCK</p>\n<pre><code>Adeadletter\nerror msg:dead letter exception\njava.lang.RuntimeException: dead letter exception\n...\n\nAdeadletter</code></pre><p>Consumer</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p> <code>x-dead-letter-routing-key</code> keykey</p>\n<p></p>\n<p>key<code>testA</code>ExchageQueueA<code>x-dead-letter-routing-key</code>key<code>testA</code><code>testB</code>key<code>testB</code></p>\n<p>Exchange Name</p>\n<p>Header</p>\n<pre><code class=\"java\">log.info(&quot;properties{}&quot;, message.getMessageProperties());</code></pre>\n<p>Header</p>\n<pre><code>propertiesMessageProperties [headers={x-first-death-exchange=dead.letter.demo.simple.business.exchange, x-death=[{reason=rejected, count=1, exchange=dead.letter.demo.simple.business.exchange, time=Sun Jul 14 16:48:16 CST 2019, routing-keys=[], queue=dead.letter.demo.simple.business.queuea}], x-first-death-reason=rejected, x-first-death-queue=dead.letter.demo.simple.business.queuea}, correlationId=1, replyTo=amq.rabbitmq.reply-to.g2dkABZyYWJiaXRAREVTS1RPUC1DUlZGUzBOAAAPQAAAAAAB.bLbsdR1DnuRSwiKKmtdOGw==, contentType=text/plain, contentEncoding=UTF-8, contentLength=0, receivedDeliveryMode=PERSISTENT, priority=0, redelivered=false, receivedExchange=dead.letter.demo.simple.deadletter.exchange, receivedRoutingKey=dead.letter.demo.simple.deadletter.queuea.routingkey, deliveryTag=1, consumerTag=amq.ctag-NSp18SUPoCNvQcoYoS2lPg, consumerQueue=dead.letter.demo.simple.deadletter.queuea]</code></pre><p>HeaderHeader</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>x-first-death-exchange</td>\n<td></td>\n</tr>\n<tr>\n<td>x-first-death-reason</td>\n<td><code>rejected</code><code>default-requeue-rejected</code> <code>false</code><code>expired</code>  <code>maxlen</code>  </td>\n</tr>\n<tr>\n<td>x-first-death-queue</td>\n<td></td>\n</tr>\n<tr>\n<td>x-death</td>\n<td></td>\n</tr>\n</tbody></table>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p>= =</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p></p>\n<ol>\n<li></li>\n<li>nckreject</li>\n<li>nckrejectRabbitMQ</li>\n<li></li>\n<li></li>\n</ol>\n<p>RabbitMQExchangeQueue</p>\n<p></p>\n"},{"title":"","toc":true,"top":true,"cover":true,"date":"2020-11-01T15:45:35.000Z","_content":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","source":"_posts/thoughts/cogito-ergo-sum.md","raw":"---\ntitle: \ntags:\n  - Thoughts\ncategories:\n  - \ntoc: true\ntop: true\ncover: true\ndate: 2020-11-01 23:45:35\n---\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","slug":"thoughts/cogito-ergo-sum","published":1,"updated":"2020-11-01T15:45:35.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cl70rsfbn001b5ohu702z6i5x","content":"<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<script>\n        document.querySelectorAll('.github-emoji')\n          .forEach(el => {\n            if (!el.dataset.src) { return; }\n            const img = document.createElement('img');\n            img.style = 'display:none !important;';\n            img.src = el.dataset.src;\n            img.addEventListener('error', () => {\n              img.remove();\n              el.style.color = 'inherit';\n              el.style.backgroundImage = 'none';\n              el.style.background = 'none';\n            });\n            img.addEventListener('load', () => {\n              img.remove();\n            });\n            document.body.appendChild(img);\n          });\n      </script>","site":{"data":{"friends":[{"avatar":"https://draveness.me/images/draven-logo.png","name":"","introduction":"","url":"https://draveness.me/","title":""}]}},"excerpt":"","more":"<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n"},{"title":"RabbitMQRabbitMQ","toc":true,"top":true,"cover":true,"date":"2020-05-03T17:00:50.000Z","_content":"\n 10\n\n## \n\nRabbitMQRabbitMQ\n\nRabbitMQ\n1. \n2. \n3. RabbitMQTTL\n4. RabbitMQ\n\n## \n\n\n\n![1.png](https://i.loli.net/2019/07/28/5d3d74d99699d43032.png)\n\nRabbitMQ\n\n## \n\n````\n\n``````\n\n\n\n## \n\n\n\n1. \n2. \n3. \n4. \n5. \n6. \n\n0\n\n\n\n\n\n\n\n\n\n``RabbitMQ\n\n## RabbitMQTTL\n\nRabbitMQ`TTLTime To Live`\n\n`TTL``TTL`RabbitMQ``TTLTTLTTLTTLTTL\n\nTTLx-message-ttl\n\n```java\nMap<String, Object> args = new HashMap<String, Object>();\nargs.put(\"x-message-ttl\", 6000);\nchannel.queueDeclare(queueName, durable, exclusive, autoDelete, args);\n```\n\n6s\n\nTTL\n\n```java\nAMQP.BasicProperties.Builder builder = new AMQP.BasicProperties.Builder();\nbuilder.expiration(\"6000\");\nAMQP.BasicProperties properties = builder.build();\nchannel.basicPublish(exchangeName, routingKey, mandatory, properties, \"msg body\".getBytes());\n```\n\n6s\n\n**TTL**\n\nTTLTTL0\n\n## RabbitMQ\n\nTTLRabbitMQ\n\n``TTL\n\n\n\n![23.png](https://i.loli.net/2019/07/28/5d3d743143ecc85643.png)\n\nroutingkeyTTLroutingkey\n\n\n\n\n\n```java\n@Configuration\npublic class RabbitMQConfig {\n\n    public static final String DELAY_EXCHANGE_NAME = \"delay.queue.demo.business.exchange\";\n    public static final String DELAY_QUEUEA_NAME = \"delay.queue.demo.business.queuea\";\n    public static final String DELAY_QUEUEA_ROUTING_KEY = \"delay.queue.demo.business.queuea.routingkey\";\n    public static final String DELAY_QUEUEB_ROUTING_KEY = \"delay.queue.demo.business.queueb.routingkey\";\n    public static final String DEAD_LETTER_EXCHANGE = \"delay.queue.demo.deadletter.exchange\";\n    public static final String DEAD_LETTER_QUEUEA_ROUTING_KEY = \"delay.queue.demo.deadletter.delay_10s.routingkey\";\n    public static final String DEAD_LETTER_QUEUEB_ROUTING_KEY = \"delay.queue.demo.deadletter.delay_60s.routingkey\";\n    public static final String DEAD_LETTER_QUEUEA_NAME = \"delay.queue.demo.deadletter.queuea\";\n    public static final String DEAD_LETTER_QUEUEB_NAME = \"delay.queue.demo.deadletter.queueb\";\n\n    // Exchange\n    @Bean(\"delayExchange\")\n    public DirectExchange delayExchange(){\n        return new DirectExchange(DELAY_EXCHANGE_NAME);\n    }\n\n    // Exchange\n    @Bean(\"deadLetterExchange\")\n    public DirectExchange deadLetterExchange(){\n        return new DirectExchange(DEAD_LETTER_EXCHANGE);\n    }\n\n    // A 10s\n    // \n    @Bean(\"delayQueueA\")\n    public Queue delayQueueA(){\n        Map<String, Object> args = new HashMap<>(2);\n        // x-dead-letter-exchange    \n        args.put(\"x-dead-letter-exchange\", DEAD_LETTER_EXCHANGE);\n        // x-dead-letter-routing-key  key\n        args.put(\"x-dead-letter-routing-key\", DEAD_LETTER_QUEUEA_ROUTING_KEY);\n        // x-message-ttl  TTL\n        args.put(\"x-message-ttl\", 6000);\n        return QueueBuilder.durable(DEAD_LETTER_QUEUEA_NAME).withArguments(args).build();\n    }\n\n    // B  60s\n    // \n    @Bean(\"delayQueueB\")\n    public Queue delayQueueB(){\n        Map<String, Object> args = new HashMap<>(2);\n        // x-dead-letter-exchange    \n        args.put(\"x-dead-letter-exchange\", DEAD_LETTER_EXCHANGE);\n        // x-dead-letter-routing-key  key\n        args.put(\"x-dead-letter-routing-key\", DEAD_LETTER_QUEUEB_ROUTING_KEY);\n        // x-message-ttl  TTL\n        args.put(\"x-message-ttl\", 60000);\n        return QueueBuilder.durable(DEAD_LETTER_QUEUEB_NAME).withArguments(args).build();\n    }\n\n    // A 10s\n    @Bean(\"deadLetterQueueA\")\n    public Queue deadLetterQueueA(){\n        return new Queue(DEAD_LETTER_QUEUEA_NAME);\n    }\n\n    // B 60s\n    @Bean(\"deadLetterQueueB\")\n    public Queue deadLetterQueueB(){\n        return new Queue(DEAD_LETTER_QUEUEB_NAME);\n    }\n\n    // A\n    @Bean\n    public Binding delayBindingA(@Qualifier(\"delayQueueA\") Queue queue,\n                                    @Qualifier(\"delayExchange\") DirectExchange exchange){\n        return BindingBuilder.bind(queue).to(exchange).with(DELAY_QUEUEA_ROUTING_KEY);\n    }\n\n    // B\n    @Bean\n    public Binding delayBindingB(@Qualifier(\"delayQueueB\") Queue queue,\n                                    @Qualifier(\"delayExchange\") DirectExchange exchange){\n        return BindingBuilder.bind(queue).to(exchange).with(DELAY_QUEUEB_ROUTING_KEY);\n    }\n\n    // A\n    @Bean\n    public Binding deadLetterBindingA(@Qualifier(\"deadLetterQueueA\") Queue queue,\n                                    @Qualifier(\"deadLetterExchange\") DirectExchange exchange){\n        return BindingBuilder.bind(queue).to(exchange).with(DEAD_LETTER_QUEUEA_ROUTING_KEY);\n    }\n\n    // B\n    @Bean\n    public Binding deadLetterBindingB(@Qualifier(\"deadLetterQueueB\") Queue queue,\n                                      @Qualifier(\"deadLetterExchange\") DirectExchange exchange){\n        return BindingBuilder.bind(queue).to(exchange).with(DEAD_LETTER_QUEUEB_ROUTING_KEY);\n    }\n}\n```\n\n\n\n```java\n@Slf4j\n@Component\npublic class DeadLetterQueueConsumer {\n\n    @RabbitListener(queues = DEAD_LETTER_QUEUEA_NAME)\n    public void receiveA(Message message, Channel channel) throws IOException {\n        String msg = new String(message.getBody());\n        log.info(\"{},A{}\", new Date().toString(), msg);\n        channel.basicAck(message.getMessageProperties().getDeliveryTag(), false);\n    }\n\n    @RabbitListener(queues = DEAD_LETTER_QUEUEB_NAME)\n    public void receiveB(Message message, Channel channel) throws IOException {\n        String msg = new String(message.getBody());\n        log.info(\"{},B{}\", new Date().toString(), msg);\n        channel.basicAck(message.getMessageProperties().getDeliveryTag(), false);\n    }\n}\n```\n\n\n\n```java\n@Component\npublic class DelayMessageSender {\n\n    @Autowired\n    private RabbitTemplate rabbitTemplate;\n\n    public void sendMsg(String msg, DelayTypeEnum type){\n        switch (type){\n            case DELAY_10s:\n                rabbitTemplate.convertAndSend(DELAY_EXCHANGE_NAME, DELAY_QUEUEA_ROUTING_KEY, msg);\n                break;\n            case DELAY_60s:\n                rabbitTemplate.convertAndSend(DELAY_EXCHANGE_NAME, DELAY_QUEUEB_ROUTING_KEY, msg);\n                break;\n        }\n    }\n}\n```\n\nweb\n\n```java\n@Slf4j\n@RequestMapping(\"rabbitmq\")\n@RestController\npublic class RabbitMQMsgController {\n\n    @Autowired\n    private DelayMessageSender sender;\n\n    @RequestMapping(\"sendmsg\")\n    public void sendMsg(String msg, Integer delayType){\n        log.info(\"{},msg:{},delayType:{}\", new Date(), msg, delayType);\n        sender.sendMsg(msg, Objects.requireNonNull(DelayTypeEnum.getDelayTypeEnumByValue(delayType)));\n    }\n}\n```\n\n\n\nrabbitMQ[](http://localhost:15672)\n\n![2.png](https://i.loli.net/2019/07/28/5d3d54e15534398514.png)\n\n![4.png](https://i.loli.net/2019/07/28/5d3d54e17df8183993.png)\n\n![3.png](https://i.loli.net/2019/07/28/5d3d54e16952546955.png)\n\nhttp://localhost:8080/rabbitmq/sendmsg?msg=testMsg1&delayType=1 http://localhost:8080/rabbitmq/sendmsg?msg=testMsg2&delayType=2\n\n\n\n```powershell\n2019-07-28 16:02:19.813  INFO 3860 --- [nio-8080-exec-9] c.m.d.controller.RabbitMQMsgController   : Sun Jul 28 16:02:19 CST 2019,msg:testMsg1,delayType:1\n2019-07-28 16:02:19.815  INFO 3860 --- [nio-8080-exec-9] .l.DirectReplyToMessageListenerContainer : SimpleConsumer [queue=amq.rabbitmq.reply-to, consumerTag=amq.ctag-o-qPpkWIkRm73DIrOIVhig identity=766339] started\n2019-07-28 16:02:25.829  INFO 3860 --- [ntContainer#1-1] c.m.d.mq.DeadLetterQueueConsumer         : Sun Jul 28 16:02:25 CST 2019,AtestMsg1\n2019-07-28 16:02:41.326  INFO 3860 --- [nio-8080-exec-1] c.m.d.controller.RabbitMQMsgController   : Sun Jul 28 16:02:41 CST 2019,msg:testMsg2,delayType:2\n2019-07-28 16:03:41.329  INFO 3860 --- [ntContainer#0-1] c.m.d.mq.DeadLetterQueueConsumer         : Sun Jul 28 16:03:41 CST 2019,BtestMsg2\n```\n\n6s60sok\n\n6s60sTTL\n\n\n\n## RabbitMQ\n\nTTL\n\nroutingkey\n\n```java\n@Configuration\npublic class RabbitMQConfig {\n\n    public static final String DELAY_EXCHANGE_NAME = \"delay.queue.demo.business.exchange\";\n    public static final String DELAY_QUEUEC_NAME = \"delay.queue.demo.business.queuec\";\n    public static final String DELAY_QUEUEC_ROUTING_KEY = \"delay.queue.demo.business.queuec.routingkey\";\n    public static final String DEAD_LETTER_EXCHANGE = \"delay.queue.demo.deadletter.exchange\";\n    public static final String DEAD_LETTER_QUEUEC_ROUTING_KEY = \"delay.queue.demo.deadletter.delay_anytime.routingkey\";\n    public static final String DEAD_LETTER_QUEUEC_NAME = \"delay.queue.demo.deadletter.queuec\";\n\n    // Exchange\n    @Bean(\"delayExchange\")\n    public DirectExchange delayExchange(){\n        return new DirectExchange(DELAY_EXCHANGE_NAME);\n    }\n\n    // Exchange\n    @Bean(\"deadLetterExchange\")\n    public DirectExchange deadLetterExchange(){\n        return new DirectExchange(DEAD_LETTER_EXCHANGE);\n    }\n\n    // C TTL\n    // \n    @Bean(\"delayQueueC\")\n    public Queue delayQueueC(){\n        Map<String, Object> args = new HashMap<>(3);\n        // x-dead-letter-exchange    \n        args.put(\"x-dead-letter-exchange\", DEAD_LETTER_EXCHANGE);\n        // x-dead-letter-routing-key  key\n        args.put(\"x-dead-letter-routing-key\", DEAD_LETTER_QUEUEC_ROUTING_KEY);\n        return QueueBuilder.durable(DELAY_QUEUEC_NAME).withArguments(args).build();\n    }\n\n    // C \n    @Bean(\"deadLetterQueueC\")\n    public Queue deadLetterQueueC(){\n        return new Queue(DEAD_LETTER_QUEUEC_NAME);\n    }\n\n    // C\n    @Bean\n    public Binding delayBindingC(@Qualifier(\"delayQueueC\") Queue queue,\n                                 @Qualifier(\"delayExchange\") DirectExchange exchange){\n        return BindingBuilder.bind(queue).to(exchange).with(DELAY_QUEUEC_ROUTING_KEY);\n    }\n\n    // C\n    @Bean\n    public Binding deadLetterBindingC(@Qualifier(\"deadLetterQueueC\") Queue queue,\n                                      @Qualifier(\"deadLetterExchange\") DirectExchange exchange){\n        return BindingBuilder.bind(queue).to(exchange).with(DEAD_LETTER_QUEUEC_ROUTING_KEY);\n    }\n}\n```\n\nC\n\n```java\n@RabbitListener(queues = DEAD_LETTER_QUEUEC_NAME)\npublic void receiveC(Message message, Channel channel) throws IOException {\n    String msg = new String(message.getBody());\n    log.info(\"{},C{}\", new Date().toString(), msg);\n    channel.basicAck(message.getMessageProperties().getDeliveryTag(), false);\n}\n```\n\nhttp://localhost:8080/rabbitmq/delayMsg?msg=testMsg1delayTime=5000 \n\n```\n2019-07-28 16:45:07.033  INFO 31468 --- [nio-8080-exec-4] c.m.d.controller.RabbitMQMsgController   : Sun Jul 28 16:45:07 CST 2019,msg:testMsg1,delayTime:5000\n2019-07-28 16:45:11.694  INFO 31468 --- [nio-8080-exec-5] c.m.d.controller.RabbitMQMsgController   : Sun Jul 28 16:45:11 CST 2019,msg:testMsg2,delayTime:5000\n2019-07-28 16:45:12.048  INFO 31468 --- [ntContainer#1-1] c.m.d.mq.DeadLetterQueueConsumer         : Sun Jul 28 16:45:12 CST 2019,CtestMsg1\n2019-07-28 16:45:16.709  INFO 31468 --- [ntContainer#1-1] c.m.d.mq.DeadLetterQueueConsumer         : Sun Jul 28 16:45:16 CST 2019,CtestMsg2\n```\n\nTTLRabbitMQ\n\n\n\n```\n2019-07-28 16:49:02.957  INFO 31468 --- [nio-8080-exec-8] c.m.d.controller.RabbitMQMsgController   : Sun Jul 28 16:49:02 CST 2019,msg:longDelayedMsg,delayTime:20000\n2019-07-28 16:49:10.671  INFO 31468 --- [nio-8080-exec-9] c.m.d.controller.RabbitMQMsgController   : Sun Jul 28 16:49:10 CST 2019,msg:shortDelayedMsg,delayTime:2000\n2019-07-28 16:49:22.969  INFO 31468 --- [ntContainer#1-1] c.m.d.mq.DeadLetterQueueConsumer         : Sun Jul 28 16:49:22 CST 2019,ClongDelayedMsg\n2019-07-28 16:49:22.970  INFO 31468 --- [ntContainer#1-1] c.m.d.mq.DeadLetterQueueConsumer         : Sun Jul 28 16:49:22 CST 2019,CshortDelayedMsg\n```\n\n20s2s\n\n## RabbitMQ\n\nTTLTTL\n\nhttps://www.rabbitmq.com/community-plugins.html rabbitmq_delayed_message_exchangeRabbitMQ\n\nRabbitMQsbinRabbitMQ\n\n```shell\nrabbitmq-plugins enable rabbitmq_delayed_message_exchange\n```\n\nBean\n\n```java\n@Configuration\npublic class DelayedRabbitMQConfig {\n    public static final String DELAYED_QUEUE_NAME = \"delay.queue.demo.delay.queue\";\n    public static final String DELAYED_EXCHANGE_NAME = \"delay.queue.demo.delay.exchange\";\n    public static final String DELAYED_ROUTING_KEY = \"delay.queue.demo.delay.routingkey\";\n\n    @Bean\n    public Queue immediateQueue() {\n        return new Queue(DELAYED_QUEUE_NAME);\n    }\n\n    @Bean\n    public CustomExchange customExchange() {\n        Map<String, Object> args = new HashMap<>();\n        args.put(\"x-delayed-type\", \"direct\");\n        return new CustomExchange(DELAYED_EXCHANGE_NAME, \"x-delayed-message\", true, false, args);\n    }\n\n    @Bean\n    public Binding bindingNotify(@Qualifier(\"immediateQueue\") Queue queue,\n                                 @Qualifier(\"customExchange\") CustomExchange customExchange) {\n        return BindingBuilder.bind(queue).to(customExchange).with(DELAYED_ROUTING_KEY).noargs();\n    }\n}\n```\n\ncontroller\n\n```java \n@RequestMapping(\"delayMsg2\")\npublic void delayMsg2(String msg, Integer delayTime) {\n    log.info(\"{},msg:{},delayTime:{}\", new Date(), msg, delayTime);\n    sender.sendDelayMsg(msg, delayTime);\n}\n```\n\n\n\n```java\npublic void sendDelayMsg(String msg, Integer delayTime) {\n    rabbitTemplate.convertAndSend(DELAYED_EXCHANGE_NAME, DELAYED_ROUTING_KEY, msg, a ->{\n        a.getMessageProperties().setDelay(delayTime);\n        return a;\n    });\n}\n```\n\n\n\n```java\n@RabbitListener(queues = DELAYED_QUEUE_NAME)\npublic void receiveD(Message message, Channel channel) throws IOException {\n    String msg = new String(message.getBody());\n    log.info(\"{},{}\", new Date().toString(), msg);\n    channel.basicAck(message.getMessageProperties().getDeliveryTag(), false);\n}\n```\n\n\n\n```url\nhttp://localhost:8080/rabbitmq/delayMsg2?msg=msg1&delayTime=20000\nhttp://localhost:8080/rabbitmq/delayMsg2?msg=msg2&delayTime=2000\n```\n\n\n\n```java\n2019-07-28 17:28:13.729  INFO 25804 --- [nio-8080-exec-2] c.m.d.controller.RabbitMQMsgController   : Sun Jul 28 17:28:13 CST 2019,msg:msg1,delayTime:20000\n2019-07-28 17:28:20.607  INFO 25804 --- [nio-8080-exec-1] c.m.d.controller.RabbitMQMsgController   : Sun Jul 28 17:28:20 CST 2019,msg:msg2,delayTime:2000\n2019-07-28 17:28:22.624  INFO 25804 --- [ntContainer#1-1] c.m.d.mq.DeadLetterQueueConsumer         : Sun Jul 28 17:28:22 CST 2019,msg2\n2019-07-28 17:28:33.751  INFO 25804 --- [ntContainer#1-1] c.m.d.mq.DeadLetterQueueConsumer         : Sun Jul 28 17:28:33 CST 2019,msg1\n```\n\nRabbitMQ\n\n## \n\nRabbitMQRabbitMQRabbitMQ\n\nJavaDelayQueuRediszsetQuartzkafka\n\n\n\n[github](https://github.com/MFrank2016/delayed-queue-demo)\n\n[//]: # (![TIM20190714173105.png]&#40;https://i.loli.net/2019/07/14/5d2af6692a8f432182.png&#41;)\n","source":"_posts/rabbitmq/rabbitmq-how-to-use-delay-queue.md","raw":"---\ntitle: RabbitMQRabbitMQ\ntags:\n  - RabbitMQ\n  - DelayQueue\ncategories:\n  - \ntoc: true\ntop: true\ncover: true\ndate: 2020-05-04 01:00:50\n---\n\n 10\n\n## \n\nRabbitMQRabbitMQ\n\nRabbitMQ\n1. \n2. \n3. RabbitMQTTL\n4. RabbitMQ\n\n## \n\n\n\n![1.png](https://i.loli.net/2019/07/28/5d3d74d99699d43032.png)\n\nRabbitMQ\n\n## \n\n````\n\n``````\n\n\n\n## \n\n\n\n1. \n2. \n3. \n4. \n5. \n6. \n\n0\n\n\n\n\n\n\n\n\n\n``RabbitMQ\n\n## RabbitMQTTL\n\nRabbitMQ`TTLTime To Live`\n\n`TTL``TTL`RabbitMQ``TTLTTLTTLTTLTTL\n\nTTLx-message-ttl\n\n```java\nMap<String, Object> args = new HashMap<String, Object>();\nargs.put(\"x-message-ttl\", 6000);\nchannel.queueDeclare(queueName, durable, exclusive, autoDelete, args);\n```\n\n6s\n\nTTL\n\n```java\nAMQP.BasicProperties.Builder builder = new AMQP.BasicProperties.Builder();\nbuilder.expiration(\"6000\");\nAMQP.BasicProperties properties = builder.build();\nchannel.basicPublish(exchangeName, routingKey, mandatory, properties, \"msg body\".getBytes());\n```\n\n6s\n\n**TTL**\n\nTTLTTL0\n\n## RabbitMQ\n\nTTLRabbitMQ\n\n``TTL\n\n\n\n![23.png](https://i.loli.net/2019/07/28/5d3d743143ecc85643.png)\n\nroutingkeyTTLroutingkey\n\n\n\n\n\n```java\n@Configuration\npublic class RabbitMQConfig {\n\n    public static final String DELAY_EXCHANGE_NAME = \"delay.queue.demo.business.exchange\";\n    public static final String DELAY_QUEUEA_NAME = \"delay.queue.demo.business.queuea\";\n    public static final String DELAY_QUEUEA_ROUTING_KEY = \"delay.queue.demo.business.queuea.routingkey\";\n    public static final String DELAY_QUEUEB_ROUTING_KEY = \"delay.queue.demo.business.queueb.routingkey\";\n    public static final String DEAD_LETTER_EXCHANGE = \"delay.queue.demo.deadletter.exchange\";\n    public static final String DEAD_LETTER_QUEUEA_ROUTING_KEY = \"delay.queue.demo.deadletter.delay_10s.routingkey\";\n    public static final String DEAD_LETTER_QUEUEB_ROUTING_KEY = \"delay.queue.demo.deadletter.delay_60s.routingkey\";\n    public static final String DEAD_LETTER_QUEUEA_NAME = \"delay.queue.demo.deadletter.queuea\";\n    public static final String DEAD_LETTER_QUEUEB_NAME = \"delay.queue.demo.deadletter.queueb\";\n\n    // Exchange\n    @Bean(\"delayExchange\")\n    public DirectExchange delayExchange(){\n        return new DirectExchange(DELAY_EXCHANGE_NAME);\n    }\n\n    // Exchange\n    @Bean(\"deadLetterExchange\")\n    public DirectExchange deadLetterExchange(){\n        return new DirectExchange(DEAD_LETTER_EXCHANGE);\n    }\n\n    // A 10s\n    // \n    @Bean(\"delayQueueA\")\n    public Queue delayQueueA(){\n        Map<String, Object> args = new HashMap<>(2);\n        // x-dead-letter-exchange    \n        args.put(\"x-dead-letter-exchange\", DEAD_LETTER_EXCHANGE);\n        // x-dead-letter-routing-key  key\n        args.put(\"x-dead-letter-routing-key\", DEAD_LETTER_QUEUEA_ROUTING_KEY);\n        // x-message-ttl  TTL\n        args.put(\"x-message-ttl\", 6000);\n        return QueueBuilder.durable(DEAD_LETTER_QUEUEA_NAME).withArguments(args).build();\n    }\n\n    // B  60s\n    // \n    @Bean(\"delayQueueB\")\n    public Queue delayQueueB(){\n        Map<String, Object> args = new HashMap<>(2);\n        // x-dead-letter-exchange    \n        args.put(\"x-dead-letter-exchange\", DEAD_LETTER_EXCHANGE);\n        // x-dead-letter-routing-key  key\n        args.put(\"x-dead-letter-routing-key\", DEAD_LETTER_QUEUEB_ROUTING_KEY);\n        // x-message-ttl  TTL\n        args.put(\"x-message-ttl\", 60000);\n        return QueueBuilder.durable(DEAD_LETTER_QUEUEB_NAME).withArguments(args).build();\n    }\n\n    // A 10s\n    @Bean(\"deadLetterQueueA\")\n    public Queue deadLetterQueueA(){\n        return new Queue(DEAD_LETTER_QUEUEA_NAME);\n    }\n\n    // B 60s\n    @Bean(\"deadLetterQueueB\")\n    public Queue deadLetterQueueB(){\n        return new Queue(DEAD_LETTER_QUEUEB_NAME);\n    }\n\n    // A\n    @Bean\n    public Binding delayBindingA(@Qualifier(\"delayQueueA\") Queue queue,\n                                    @Qualifier(\"delayExchange\") DirectExchange exchange){\n        return BindingBuilder.bind(queue).to(exchange).with(DELAY_QUEUEA_ROUTING_KEY);\n    }\n\n    // B\n    @Bean\n    public Binding delayBindingB(@Qualifier(\"delayQueueB\") Queue queue,\n                                    @Qualifier(\"delayExchange\") DirectExchange exchange){\n        return BindingBuilder.bind(queue).to(exchange).with(DELAY_QUEUEB_ROUTING_KEY);\n    }\n\n    // A\n    @Bean\n    public Binding deadLetterBindingA(@Qualifier(\"deadLetterQueueA\") Queue queue,\n                                    @Qualifier(\"deadLetterExchange\") DirectExchange exchange){\n        return BindingBuilder.bind(queue).to(exchange).with(DEAD_LETTER_QUEUEA_ROUTING_KEY);\n    }\n\n    // B\n    @Bean\n    public Binding deadLetterBindingB(@Qualifier(\"deadLetterQueueB\") Queue queue,\n                                      @Qualifier(\"deadLetterExchange\") DirectExchange exchange){\n        return BindingBuilder.bind(queue).to(exchange).with(DEAD_LETTER_QUEUEB_ROUTING_KEY);\n    }\n}\n```\n\n\n\n```java\n@Slf4j\n@Component\npublic class DeadLetterQueueConsumer {\n\n    @RabbitListener(queues = DEAD_LETTER_QUEUEA_NAME)\n    public void receiveA(Message message, Channel channel) throws IOException {\n        String msg = new String(message.getBody());\n        log.info(\"{},A{}\", new Date().toString(), msg);\n        channel.basicAck(message.getMessageProperties().getDeliveryTag(), false);\n    }\n\n    @RabbitListener(queues = DEAD_LETTER_QUEUEB_NAME)\n    public void receiveB(Message message, Channel channel) throws IOException {\n        String msg = new String(message.getBody());\n        log.info(\"{},B{}\", new Date().toString(), msg);\n        channel.basicAck(message.getMessageProperties().getDeliveryTag(), false);\n    }\n}\n```\n\n\n\n```java\n@Component\npublic class DelayMessageSender {\n\n    @Autowired\n    private RabbitTemplate rabbitTemplate;\n\n    public void sendMsg(String msg, DelayTypeEnum type){\n        switch (type){\n            case DELAY_10s:\n                rabbitTemplate.convertAndSend(DELAY_EXCHANGE_NAME, DELAY_QUEUEA_ROUTING_KEY, msg);\n                break;\n            case DELAY_60s:\n                rabbitTemplate.convertAndSend(DELAY_EXCHANGE_NAME, DELAY_QUEUEB_ROUTING_KEY, msg);\n                break;\n        }\n    }\n}\n```\n\nweb\n\n```java\n@Slf4j\n@RequestMapping(\"rabbitmq\")\n@RestController\npublic class RabbitMQMsgController {\n\n    @Autowired\n    private DelayMessageSender sender;\n\n    @RequestMapping(\"sendmsg\")\n    public void sendMsg(String msg, Integer delayType){\n        log.info(\"{},msg:{},delayType:{}\", new Date(), msg, delayType);\n        sender.sendMsg(msg, Objects.requireNonNull(DelayTypeEnum.getDelayTypeEnumByValue(delayType)));\n    }\n}\n```\n\n\n\nrabbitMQ[](http://localhost:15672)\n\n![2.png](https://i.loli.net/2019/07/28/5d3d54e15534398514.png)\n\n![4.png](https://i.loli.net/2019/07/28/5d3d54e17df8183993.png)\n\n![3.png](https://i.loli.net/2019/07/28/5d3d54e16952546955.png)\n\nhttp://localhost:8080/rabbitmq/sendmsg?msg=testMsg1&delayType=1 http://localhost:8080/rabbitmq/sendmsg?msg=testMsg2&delayType=2\n\n\n\n```powershell\n2019-07-28 16:02:19.813  INFO 3860 --- [nio-8080-exec-9] c.m.d.controller.RabbitMQMsgController   : Sun Jul 28 16:02:19 CST 2019,msg:testMsg1,delayType:1\n2019-07-28 16:02:19.815  INFO 3860 --- [nio-8080-exec-9] .l.DirectReplyToMessageListenerContainer : SimpleConsumer [queue=amq.rabbitmq.reply-to, consumerTag=amq.ctag-o-qPpkWIkRm73DIrOIVhig identity=766339] started\n2019-07-28 16:02:25.829  INFO 3860 --- [ntContainer#1-1] c.m.d.mq.DeadLetterQueueConsumer         : Sun Jul 28 16:02:25 CST 2019,AtestMsg1\n2019-07-28 16:02:41.326  INFO 3860 --- [nio-8080-exec-1] c.m.d.controller.RabbitMQMsgController   : Sun Jul 28 16:02:41 CST 2019,msg:testMsg2,delayType:2\n2019-07-28 16:03:41.329  INFO 3860 --- [ntContainer#0-1] c.m.d.mq.DeadLetterQueueConsumer         : Sun Jul 28 16:03:41 CST 2019,BtestMsg2\n```\n\n6s60sok\n\n6s60sTTL\n\n\n\n## RabbitMQ\n\nTTL\n\nroutingkey\n\n```java\n@Configuration\npublic class RabbitMQConfig {\n\n    public static final String DELAY_EXCHANGE_NAME = \"delay.queue.demo.business.exchange\";\n    public static final String DELAY_QUEUEC_NAME = \"delay.queue.demo.business.queuec\";\n    public static final String DELAY_QUEUEC_ROUTING_KEY = \"delay.queue.demo.business.queuec.routingkey\";\n    public static final String DEAD_LETTER_EXCHANGE = \"delay.queue.demo.deadletter.exchange\";\n    public static final String DEAD_LETTER_QUEUEC_ROUTING_KEY = \"delay.queue.demo.deadletter.delay_anytime.routingkey\";\n    public static final String DEAD_LETTER_QUEUEC_NAME = \"delay.queue.demo.deadletter.queuec\";\n\n    // Exchange\n    @Bean(\"delayExchange\")\n    public DirectExchange delayExchange(){\n        return new DirectExchange(DELAY_EXCHANGE_NAME);\n    }\n\n    // Exchange\n    @Bean(\"deadLetterExchange\")\n    public DirectExchange deadLetterExchange(){\n        return new DirectExchange(DEAD_LETTER_EXCHANGE);\n    }\n\n    // C TTL\n    // \n    @Bean(\"delayQueueC\")\n    public Queue delayQueueC(){\n        Map<String, Object> args = new HashMap<>(3);\n        // x-dead-letter-exchange    \n        args.put(\"x-dead-letter-exchange\", DEAD_LETTER_EXCHANGE);\n        // x-dead-letter-routing-key  key\n        args.put(\"x-dead-letter-routing-key\", DEAD_LETTER_QUEUEC_ROUTING_KEY);\n        return QueueBuilder.durable(DELAY_QUEUEC_NAME).withArguments(args).build();\n    }\n\n    // C \n    @Bean(\"deadLetterQueueC\")\n    public Queue deadLetterQueueC(){\n        return new Queue(DEAD_LETTER_QUEUEC_NAME);\n    }\n\n    // C\n    @Bean\n    public Binding delayBindingC(@Qualifier(\"delayQueueC\") Queue queue,\n                                 @Qualifier(\"delayExchange\") DirectExchange exchange){\n        return BindingBuilder.bind(queue).to(exchange).with(DELAY_QUEUEC_ROUTING_KEY);\n    }\n\n    // C\n    @Bean\n    public Binding deadLetterBindingC(@Qualifier(\"deadLetterQueueC\") Queue queue,\n                                      @Qualifier(\"deadLetterExchange\") DirectExchange exchange){\n        return BindingBuilder.bind(queue).to(exchange).with(DEAD_LETTER_QUEUEC_ROUTING_KEY);\n    }\n}\n```\n\nC\n\n```java\n@RabbitListener(queues = DEAD_LETTER_QUEUEC_NAME)\npublic void receiveC(Message message, Channel channel) throws IOException {\n    String msg = new String(message.getBody());\n    log.info(\"{},C{}\", new Date().toString(), msg);\n    channel.basicAck(message.getMessageProperties().getDeliveryTag(), false);\n}\n```\n\nhttp://localhost:8080/rabbitmq/delayMsg?msg=testMsg1delayTime=5000 \n\n```\n2019-07-28 16:45:07.033  INFO 31468 --- [nio-8080-exec-4] c.m.d.controller.RabbitMQMsgController   : Sun Jul 28 16:45:07 CST 2019,msg:testMsg1,delayTime:5000\n2019-07-28 16:45:11.694  INFO 31468 --- [nio-8080-exec-5] c.m.d.controller.RabbitMQMsgController   : Sun Jul 28 16:45:11 CST 2019,msg:testMsg2,delayTime:5000\n2019-07-28 16:45:12.048  INFO 31468 --- [ntContainer#1-1] c.m.d.mq.DeadLetterQueueConsumer         : Sun Jul 28 16:45:12 CST 2019,CtestMsg1\n2019-07-28 16:45:16.709  INFO 31468 --- [ntContainer#1-1] c.m.d.mq.DeadLetterQueueConsumer         : Sun Jul 28 16:45:16 CST 2019,CtestMsg2\n```\n\nTTLRabbitMQ\n\n\n\n```\n2019-07-28 16:49:02.957  INFO 31468 --- [nio-8080-exec-8] c.m.d.controller.RabbitMQMsgController   : Sun Jul 28 16:49:02 CST 2019,msg:longDelayedMsg,delayTime:20000\n2019-07-28 16:49:10.671  INFO 31468 --- [nio-8080-exec-9] c.m.d.controller.RabbitMQMsgController   : Sun Jul 28 16:49:10 CST 2019,msg:shortDelayedMsg,delayTime:2000\n2019-07-28 16:49:22.969  INFO 31468 --- [ntContainer#1-1] c.m.d.mq.DeadLetterQueueConsumer         : Sun Jul 28 16:49:22 CST 2019,ClongDelayedMsg\n2019-07-28 16:49:22.970  INFO 31468 --- [ntContainer#1-1] c.m.d.mq.DeadLetterQueueConsumer         : Sun Jul 28 16:49:22 CST 2019,CshortDelayedMsg\n```\n\n20s2s\n\n## RabbitMQ\n\nTTLTTL\n\nhttps://www.rabbitmq.com/community-plugins.html rabbitmq_delayed_message_exchangeRabbitMQ\n\nRabbitMQsbinRabbitMQ\n\n```shell\nrabbitmq-plugins enable rabbitmq_delayed_message_exchange\n```\n\nBean\n\n```java\n@Configuration\npublic class DelayedRabbitMQConfig {\n    public static final String DELAYED_QUEUE_NAME = \"delay.queue.demo.delay.queue\";\n    public static final String DELAYED_EXCHANGE_NAME = \"delay.queue.demo.delay.exchange\";\n    public static final String DELAYED_ROUTING_KEY = \"delay.queue.demo.delay.routingkey\";\n\n    @Bean\n    public Queue immediateQueue() {\n        return new Queue(DELAYED_QUEUE_NAME);\n    }\n\n    @Bean\n    public CustomExchange customExchange() {\n        Map<String, Object> args = new HashMap<>();\n        args.put(\"x-delayed-type\", \"direct\");\n        return new CustomExchange(DELAYED_EXCHANGE_NAME, \"x-delayed-message\", true, false, args);\n    }\n\n    @Bean\n    public Binding bindingNotify(@Qualifier(\"immediateQueue\") Queue queue,\n                                 @Qualifier(\"customExchange\") CustomExchange customExchange) {\n        return BindingBuilder.bind(queue).to(customExchange).with(DELAYED_ROUTING_KEY).noargs();\n    }\n}\n```\n\ncontroller\n\n```java \n@RequestMapping(\"delayMsg2\")\npublic void delayMsg2(String msg, Integer delayTime) {\n    log.info(\"{},msg:{},delayTime:{}\", new Date(), msg, delayTime);\n    sender.sendDelayMsg(msg, delayTime);\n}\n```\n\n\n\n```java\npublic void sendDelayMsg(String msg, Integer delayTime) {\n    rabbitTemplate.convertAndSend(DELAYED_EXCHANGE_NAME, DELAYED_ROUTING_KEY, msg, a ->{\n        a.getMessageProperties().setDelay(delayTime);\n        return a;\n    });\n}\n```\n\n\n\n```java\n@RabbitListener(queues = DELAYED_QUEUE_NAME)\npublic void receiveD(Message message, Channel channel) throws IOException {\n    String msg = new String(message.getBody());\n    log.info(\"{},{}\", new Date().toString(), msg);\n    channel.basicAck(message.getMessageProperties().getDeliveryTag(), false);\n}\n```\n\n\n\n```url\nhttp://localhost:8080/rabbitmq/delayMsg2?msg=msg1&delayTime=20000\nhttp://localhost:8080/rabbitmq/delayMsg2?msg=msg2&delayTime=2000\n```\n\n\n\n```java\n2019-07-28 17:28:13.729  INFO 25804 --- [nio-8080-exec-2] c.m.d.controller.RabbitMQMsgController   : Sun Jul 28 17:28:13 CST 2019,msg:msg1,delayTime:20000\n2019-07-28 17:28:20.607  INFO 25804 --- [nio-8080-exec-1] c.m.d.controller.RabbitMQMsgController   : Sun Jul 28 17:28:20 CST 2019,msg:msg2,delayTime:2000\n2019-07-28 17:28:22.624  INFO 25804 --- [ntContainer#1-1] c.m.d.mq.DeadLetterQueueConsumer         : Sun Jul 28 17:28:22 CST 2019,msg2\n2019-07-28 17:28:33.751  INFO 25804 --- [ntContainer#1-1] c.m.d.mq.DeadLetterQueueConsumer         : Sun Jul 28 17:28:33 CST 2019,msg1\n```\n\nRabbitMQ\n\n## \n\nRabbitMQRabbitMQRabbitMQ\n\nJavaDelayQueuRediszsetQuartzkafka\n\n\n\n[github](https://github.com/MFrank2016/delayed-queue-demo)\n\n[//]: # (![TIM20190714173105.png]&#40;https://i.loli.net/2019/07/14/5d2af6692a8f432182.png&#41;)\n","slug":"rabbitmq/rabbitmq-how-to-use-delay-queue","published":1,"updated":"2020-05-03T17:00:50.000Z","_id":"cl70rsfbo001f5ohucfcngr87","comments":1,"layout":"post","photos":[],"link":"","content":"<p>   10</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>RabbitMQRabbitMQ</p>\n<p>RabbitMQ</p>\n<ol>\n<li></li>\n<li></li>\n<li>RabbitMQTTL</li>\n<li>RabbitMQ</li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p><img src=\"https://i.loli.net/2019/07/28/5d3d74d99699d43032.png\" alt=\"1.png\"></p>\n<p>RabbitMQ</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><code></code><code></code></p>\n<p><code></code><code></code><code></code></p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<ol>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ol>\n<p>0</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p><code></code>RabbitMQ</p>\n<h2 id=\"RabbitMQTTL\"><a href=\"#RabbitMQTTL\" class=\"headerlink\" title=\"RabbitMQTTL\"></a>RabbitMQTTL</h2><p>RabbitMQ<code>TTLTime To Live</code></p>\n<p><code>TTL</code><code>TTL</code>RabbitMQ<code></code>TTLTTLTTLTTLTTL</p>\n<p>TTLx-message-ttl</p>\n<pre class=\" language-java\"><code class=\"language-java\">Map<span class=\"token operator\">&lt;</span>String<span class=\"token punctuation\">,</span> Object<span class=\"token operator\">></span> args <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">HashMap</span><span class=\"token operator\">&lt;</span>String<span class=\"token punctuation\">,</span> Object<span class=\"token operator\">></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nargs<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"x-message-ttl\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nchannel<span class=\"token punctuation\">.</span><span class=\"token function\">queueDeclare</span><span class=\"token punctuation\">(</span>queueName<span class=\"token punctuation\">,</span> durable<span class=\"token punctuation\">,</span> exclusive<span class=\"token punctuation\">,</span> autoDelete<span class=\"token punctuation\">,</span> args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>6s</p>\n<p>TTL</p>\n<pre class=\" language-java\"><code class=\"language-java\">AMQP<span class=\"token punctuation\">.</span>BasicProperties<span class=\"token punctuation\">.</span>Builder builder <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">AMQP<span class=\"token punctuation\">.</span>BasicProperties<span class=\"token punctuation\">.</span>Builder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nbuilder<span class=\"token punctuation\">.</span><span class=\"token function\">expiration</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"6000\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nAMQP<span class=\"token punctuation\">.</span>BasicProperties properties <span class=\"token operator\">=</span> builder<span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nchannel<span class=\"token punctuation\">.</span><span class=\"token function\">basicPublish</span><span class=\"token punctuation\">(</span>exchangeName<span class=\"token punctuation\">,</span> routingKey<span class=\"token punctuation\">,</span> mandatory<span class=\"token punctuation\">,</span> properties<span class=\"token punctuation\">,</span> <span class=\"token string\">\"msg body\"</span><span class=\"token punctuation\">.</span><span class=\"token function\">getBytes</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p>6s</p>\n<p><strong>TTL</strong></p>\n<p>TTLTTL0</p>\n<h2 id=\"RabbitMQ\"><a href=\"#RabbitMQ\" class=\"headerlink\" title=\"RabbitMQ\"></a>RabbitMQ</h2><p>TTLRabbitMQ</p>\n<p><code></code>TTL</p>\n<p></p>\n<p><img src=\"https://i.loli.net/2019/07/28/5d3d743143ecc85643.png\" alt=\"23.png\"></p>\n<p>routingkeyTTLroutingkey</p>\n<p></p>\n<p></p>\n<pre class=\" language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Configuration</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">RabbitMQConfig</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> String DELAY_EXCHANGE_NAME <span class=\"token operator\">=</span> <span class=\"token string\">\"delay.queue.demo.business.exchange\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> String DELAY_QUEUEA_NAME <span class=\"token operator\">=</span> <span class=\"token string\">\"delay.queue.demo.business.queuea\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> String DELAY_QUEUEA_ROUTING_KEY <span class=\"token operator\">=</span> <span class=\"token string\">\"delay.queue.demo.business.queuea.routingkey\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> String DELAY_QUEUEB_ROUTING_KEY <span class=\"token operator\">=</span> <span class=\"token string\">\"delay.queue.demo.business.queueb.routingkey\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> String DEAD_LETTER_EXCHANGE <span class=\"token operator\">=</span> <span class=\"token string\">\"delay.queue.demo.deadletter.exchange\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> String DEAD_LETTER_QUEUEA_ROUTING_KEY <span class=\"token operator\">=</span> <span class=\"token string\">\"delay.queue.demo.deadletter.delay_10s.routingkey\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> String DEAD_LETTER_QUEUEB_ROUTING_KEY <span class=\"token operator\">=</span> <span class=\"token string\">\"delay.queue.demo.deadletter.delay_60s.routingkey\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> String DEAD_LETTER_QUEUEA_NAME <span class=\"token operator\">=</span> <span class=\"token string\">\"delay.queue.demo.deadletter.queuea\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> String DEAD_LETTER_QUEUEB_NAME <span class=\"token operator\">=</span> <span class=\"token string\">\"delay.queue.demo.deadletter.queueb\"</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\" spellcheck=\"true\">// Exchange</span>\n    <span class=\"token annotation punctuation\">@Bean</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"delayExchange\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">public</span> DirectExchange <span class=\"token function\">delayExchange</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">DirectExchange</span><span class=\"token punctuation\">(</span>DELAY_EXCHANGE_NAME<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\" spellcheck=\"true\">// Exchange</span>\n    <span class=\"token annotation punctuation\">@Bean</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"deadLetterExchange\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">public</span> DirectExchange <span class=\"token function\">deadLetterExchange</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">DirectExchange</span><span class=\"token punctuation\">(</span>DEAD_LETTER_EXCHANGE<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\" spellcheck=\"true\">// A 10s</span>\n    <span class=\"token comment\" spellcheck=\"true\">// </span>\n    <span class=\"token annotation punctuation\">@Bean</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"delayQueueA\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">public</span> Queue <span class=\"token function\">delayQueueA</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        Map<span class=\"token operator\">&lt;</span>String<span class=\"token punctuation\">,</span> Object<span class=\"token operator\">></span> args <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">HashMap</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">></span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\" spellcheck=\"true\">// x-dead-letter-exchange    </span>\n        args<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"x-dead-letter-exchange\"</span><span class=\"token punctuation\">,</span> DEAD_LETTER_EXCHANGE<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\" spellcheck=\"true\">// x-dead-letter-routing-key  key</span>\n        args<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"x-dead-letter-routing-key\"</span><span class=\"token punctuation\">,</span> DEAD_LETTER_QUEUEA_ROUTING_KEY<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\" spellcheck=\"true\">// x-message-ttl  TTL</span>\n        args<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"x-message-ttl\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> QueueBuilder<span class=\"token punctuation\">.</span><span class=\"token function\">durable</span><span class=\"token punctuation\">(</span>DEAD_LETTER_QUEUEA_NAME<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">withArguments</span><span class=\"token punctuation\">(</span>args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\" spellcheck=\"true\">// B  60s</span>\n    <span class=\"token comment\" spellcheck=\"true\">// </span>\n    <span class=\"token annotation punctuation\">@Bean</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"delayQueueB\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">public</span> Queue <span class=\"token function\">delayQueueB</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        Map<span class=\"token operator\">&lt;</span>String<span class=\"token punctuation\">,</span> Object<span class=\"token operator\">></span> args <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">HashMap</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">></span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\" spellcheck=\"true\">// x-dead-letter-exchange    </span>\n        args<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"x-dead-letter-exchange\"</span><span class=\"token punctuation\">,</span> DEAD_LETTER_EXCHANGE<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\" spellcheck=\"true\">// x-dead-letter-routing-key  key</span>\n        args<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"x-dead-letter-routing-key\"</span><span class=\"token punctuation\">,</span> DEAD_LETTER_QUEUEB_ROUTING_KEY<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\" spellcheck=\"true\">// x-message-ttl  TTL</span>\n        args<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"x-message-ttl\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">60000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> QueueBuilder<span class=\"token punctuation\">.</span><span class=\"token function\">durable</span><span class=\"token punctuation\">(</span>DEAD_LETTER_QUEUEB_NAME<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">withArguments</span><span class=\"token punctuation\">(</span>args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\" spellcheck=\"true\">// A 10s</span>\n    <span class=\"token annotation punctuation\">@Bean</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"deadLetterQueueA\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">public</span> Queue <span class=\"token function\">deadLetterQueueA</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Queue</span><span class=\"token punctuation\">(</span>DEAD_LETTER_QUEUEA_NAME<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\" spellcheck=\"true\">// B 60s</span>\n    <span class=\"token annotation punctuation\">@Bean</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"deadLetterQueueB\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">public</span> Queue <span class=\"token function\">deadLetterQueueB</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Queue</span><span class=\"token punctuation\">(</span>DEAD_LETTER_QUEUEB_NAME<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\" spellcheck=\"true\">// A</span>\n    <span class=\"token annotation punctuation\">@Bean</span>\n    <span class=\"token keyword\">public</span> Binding <span class=\"token function\">delayBindingA</span><span class=\"token punctuation\">(</span><span class=\"token annotation punctuation\">@Qualifier</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"delayQueueA\"</span><span class=\"token punctuation\">)</span> Queue queue<span class=\"token punctuation\">,</span>\n                                    <span class=\"token annotation punctuation\">@Qualifier</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"delayExchange\"</span><span class=\"token punctuation\">)</span> DirectExchange exchange<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> BindingBuilder<span class=\"token punctuation\">.</span><span class=\"token function\">bind</span><span class=\"token punctuation\">(</span>queue<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">to</span><span class=\"token punctuation\">(</span>exchange<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">with</span><span class=\"token punctuation\">(</span>DELAY_QUEUEA_ROUTING_KEY<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\" spellcheck=\"true\">// B</span>\n    <span class=\"token annotation punctuation\">@Bean</span>\n    <span class=\"token keyword\">public</span> Binding <span class=\"token function\">delayBindingB</span><span class=\"token punctuation\">(</span><span class=\"token annotation punctuation\">@Qualifier</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"delayQueueB\"</span><span class=\"token punctuation\">)</span> Queue queue<span class=\"token punctuation\">,</span>\n                                    <span class=\"token annotation punctuation\">@Qualifier</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"delayExchange\"</span><span class=\"token punctuation\">)</span> DirectExchange exchange<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> BindingBuilder<span class=\"token punctuation\">.</span><span class=\"token function\">bind</span><span class=\"token punctuation\">(</span>queue<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">to</span><span class=\"token punctuation\">(</span>exchange<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">with</span><span class=\"token punctuation\">(</span>DELAY_QUEUEB_ROUTING_KEY<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\" spellcheck=\"true\">// A</span>\n    <span class=\"token annotation punctuation\">@Bean</span>\n    <span class=\"token keyword\">public</span> Binding <span class=\"token function\">deadLetterBindingA</span><span class=\"token punctuation\">(</span><span class=\"token annotation punctuation\">@Qualifier</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"deadLetterQueueA\"</span><span class=\"token punctuation\">)</span> Queue queue<span class=\"token punctuation\">,</span>\n                                    <span class=\"token annotation punctuation\">@Qualifier</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"deadLetterExchange\"</span><span class=\"token punctuation\">)</span> DirectExchange exchange<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> BindingBuilder<span class=\"token punctuation\">.</span><span class=\"token function\">bind</span><span class=\"token punctuation\">(</span>queue<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">to</span><span class=\"token punctuation\">(</span>exchange<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">with</span><span class=\"token punctuation\">(</span>DEAD_LETTER_QUEUEA_ROUTING_KEY<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\" spellcheck=\"true\">// B</span>\n    <span class=\"token annotation punctuation\">@Bean</span>\n    <span class=\"token keyword\">public</span> Binding <span class=\"token function\">deadLetterBindingB</span><span class=\"token punctuation\">(</span><span class=\"token annotation punctuation\">@Qualifier</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"deadLetterQueueB\"</span><span class=\"token punctuation\">)</span> Queue queue<span class=\"token punctuation\">,</span>\n                                      <span class=\"token annotation punctuation\">@Qualifier</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"deadLetterExchange\"</span><span class=\"token punctuation\">)</span> DirectExchange exchange<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> BindingBuilder<span class=\"token punctuation\">.</span><span class=\"token function\">bind</span><span class=\"token punctuation\">(</span>queue<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">to</span><span class=\"token punctuation\">(</span>exchange<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">with</span><span class=\"token punctuation\">(</span>DEAD_LETTER_QUEUEB_ROUTING_KEY<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p></p>\n<pre class=\" language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Slf4j</span>\n<span class=\"token annotation punctuation\">@Component</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">DeadLetterQueueConsumer</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token annotation punctuation\">@RabbitListener</span><span class=\"token punctuation\">(</span>queues <span class=\"token operator\">=</span> DEAD_LETTER_QUEUEA_NAME<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">receiveA</span><span class=\"token punctuation\">(</span>Message message<span class=\"token punctuation\">,</span> Channel channel<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> IOException <span class=\"token punctuation\">{</span>\n        String msg <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">.</span><span class=\"token function\">getBody</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        log<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"{},A{}\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> msg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        channel<span class=\"token punctuation\">.</span><span class=\"token function\">basicAck</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">.</span><span class=\"token function\">getMessageProperties</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getDeliveryTag</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token annotation punctuation\">@RabbitListener</span><span class=\"token punctuation\">(</span>queues <span class=\"token operator\">=</span> DEAD_LETTER_QUEUEB_NAME<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">receiveB</span><span class=\"token punctuation\">(</span>Message message<span class=\"token punctuation\">,</span> Channel channel<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> IOException <span class=\"token punctuation\">{</span>\n        String msg <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">.</span><span class=\"token function\">getBody</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        log<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"{},B{}\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> msg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        channel<span class=\"token punctuation\">.</span><span class=\"token function\">basicAck</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">.</span><span class=\"token function\">getMessageProperties</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getDeliveryTag</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p></p>\n<pre class=\" language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Component</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">DelayMessageSender</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token annotation punctuation\">@Autowired</span>\n    <span class=\"token keyword\">private</span> RabbitTemplate rabbitTemplate<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">sendMsg</span><span class=\"token punctuation\">(</span>String msg<span class=\"token punctuation\">,</span> DelayTypeEnum type<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>type<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">case</span> DELAY_10s<span class=\"token operator\">:</span>\n                rabbitTemplate<span class=\"token punctuation\">.</span><span class=\"token function\">convertAndSend</span><span class=\"token punctuation\">(</span>DELAY_EXCHANGE_NAME<span class=\"token punctuation\">,</span> DELAY_QUEUEA_ROUTING_KEY<span class=\"token punctuation\">,</span> msg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n            <span class=\"token keyword\">case</span> DELAY_60s<span class=\"token operator\">:</span>\n                rabbitTemplate<span class=\"token punctuation\">.</span><span class=\"token function\">convertAndSend</span><span class=\"token punctuation\">(</span>DELAY_EXCHANGE_NAME<span class=\"token punctuation\">,</span> DELAY_QUEUEB_ROUTING_KEY<span class=\"token punctuation\">,</span> msg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p>web</p>\n<pre class=\" language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Slf4j</span>\n<span class=\"token annotation punctuation\">@RequestMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"rabbitmq\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token annotation punctuation\">@RestController</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">RabbitMQMsgController</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token annotation punctuation\">@Autowired</span>\n    <span class=\"token keyword\">private</span> DelayMessageSender sender<span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@RequestMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"sendmsg\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">sendMsg</span><span class=\"token punctuation\">(</span>String msg<span class=\"token punctuation\">,</span> Integer delayType<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        log<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"{},msg:{},delayType:{}\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> msg<span class=\"token punctuation\">,</span> delayType<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        sender<span class=\"token punctuation\">.</span><span class=\"token function\">sendMsg</span><span class=\"token punctuation\">(</span>msg<span class=\"token punctuation\">,</span> Objects<span class=\"token punctuation\">.</span><span class=\"token function\">requireNonNull</span><span class=\"token punctuation\">(</span>DelayTypeEnum<span class=\"token punctuation\">.</span><span class=\"token function\">getDelayTypeEnumByValue</span><span class=\"token punctuation\">(</span>delayType<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p></p>\n<p>rabbitMQ<a href=\"http://localhost:15672\" target=\"_blank\" rel=\"noopener\"></a></p>\n<p><img src=\"https://i.loli.net/2019/07/28/5d3d54e15534398514.png\" alt=\"2.png\"></p>\n<p><img src=\"https://i.loli.net/2019/07/28/5d3d54e17df8183993.png\" alt=\"4.png\"></p>\n<p><img src=\"https://i.loli.net/2019/07/28/5d3d54e16952546955.png\" alt=\"3.png\"></p>\n<p><a href=\"http://localhost:8080/rabbitmq/sendmsg?msg=testMsg1&amp;delayType=1\" target=\"_blank\" rel=\"noopener\">http://localhost:8080/rabbitmq/sendmsg?msg=testMsg1&amp;delayType=1</a> <a href=\"http://localhost:8080/rabbitmq/sendmsg?msg=testMsg2&amp;delayType=2\" target=\"_blank\" rel=\"noopener\">http://localhost:8080/rabbitmq/sendmsg?msg=testMsg2&amp;delayType=2</a></p>\n<p></p>\n<pre class=\" language-powershell\"><code class=\"language-powershell\">2019<span class=\"token operator\">-</span>07<span class=\"token operator\">-</span>28 16:02:19<span class=\"token punctuation\">.</span>813  INFO 3860 <span class=\"token operator\">--</span><span class=\"token operator\">-</span> <span class=\"token namespace\">[nio-8080-exec-9]</span> c<span class=\"token punctuation\">.</span>m<span class=\"token punctuation\">.</span>d<span class=\"token punctuation\">.</span>controller<span class=\"token punctuation\">.</span>RabbitMQMsgController   : Sun Jul 28 16:02:19 CST 2019<span class=\"token punctuation\">,</span>msg:testMsg1<span class=\"token punctuation\">,</span>delayType:1\n2019<span class=\"token operator\">-</span>07<span class=\"token operator\">-</span>28 16:02:19<span class=\"token punctuation\">.</span>815  INFO 3860 <span class=\"token operator\">--</span><span class=\"token operator\">-</span> <span class=\"token namespace\">[nio-8080-exec-9]</span> <span class=\"token punctuation\">.</span>l<span class=\"token punctuation\">.</span>DirectReplyToMessageListenerContainer : SimpleConsumer <span class=\"token namespace\">[queue=amq.rabbitmq.reply-to, consumerTag=amq.ctag-o-qPpkWIkRm73DIrOIVhig identity=766339]</span> started\n2019<span class=\"token operator\">-</span>07<span class=\"token operator\">-</span>28 16:02:25<span class=\"token punctuation\">.</span>829  INFO 3860 <span class=\"token operator\">--</span><span class=\"token operator\">-</span> <span class=\"token punctuation\">[</span>ntContainer<span class=\"token comment\" spellcheck=\"true\">#1-1] c.m.d.mq.DeadLetterQueueConsumer         : Sun Jul 28 16:02:25 CST 2019,AtestMsg1</span>\n2019<span class=\"token operator\">-</span>07<span class=\"token operator\">-</span>28 16:02:41<span class=\"token punctuation\">.</span>326  INFO 3860 <span class=\"token operator\">--</span><span class=\"token operator\">-</span> <span class=\"token namespace\">[nio-8080-exec-1]</span> c<span class=\"token punctuation\">.</span>m<span class=\"token punctuation\">.</span>d<span class=\"token punctuation\">.</span>controller<span class=\"token punctuation\">.</span>RabbitMQMsgController   : Sun Jul 28 16:02:41 CST 2019<span class=\"token punctuation\">,</span>msg:testMsg2<span class=\"token punctuation\">,</span>delayType:2\n2019<span class=\"token operator\">-</span>07<span class=\"token operator\">-</span>28 16:03:41<span class=\"token punctuation\">.</span>329  INFO 3860 <span class=\"token operator\">--</span><span class=\"token operator\">-</span> <span class=\"token punctuation\">[</span>ntContainer<span class=\"token comment\" spellcheck=\"true\">#0-1] c.m.d.mq.DeadLetterQueueConsumer         : Sun Jul 28 16:03:41 CST 2019,BtestMsg2</span></code></pre>\n<p>6s60sok</p>\n<p>6s60sTTL</p>\n<p></p>\n<h2 id=\"RabbitMQ\"><a href=\"#RabbitMQ\" class=\"headerlink\" title=\"RabbitMQ\"></a>RabbitMQ</h2><p>TTL</p>\n<p>routingkey</p>\n<pre class=\" language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Configuration</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">RabbitMQConfig</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> String DELAY_EXCHANGE_NAME <span class=\"token operator\">=</span> <span class=\"token string\">\"delay.queue.demo.business.exchange\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> String DELAY_QUEUEC_NAME <span class=\"token operator\">=</span> <span class=\"token string\">\"delay.queue.demo.business.queuec\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> String DELAY_QUEUEC_ROUTING_KEY <span class=\"token operator\">=</span> <span class=\"token string\">\"delay.queue.demo.business.queuec.routingkey\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> String DEAD_LETTER_EXCHANGE <span class=\"token operator\">=</span> <span class=\"token string\">\"delay.queue.demo.deadletter.exchange\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> String DEAD_LETTER_QUEUEC_ROUTING_KEY <span class=\"token operator\">=</span> <span class=\"token string\">\"delay.queue.demo.deadletter.delay_anytime.routingkey\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> String DEAD_LETTER_QUEUEC_NAME <span class=\"token operator\">=</span> <span class=\"token string\">\"delay.queue.demo.deadletter.queuec\"</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\" spellcheck=\"true\">// Exchange</span>\n    <span class=\"token annotation punctuation\">@Bean</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"delayExchange\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">public</span> DirectExchange <span class=\"token function\">delayExchange</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">DirectExchange</span><span class=\"token punctuation\">(</span>DELAY_EXCHANGE_NAME<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\" spellcheck=\"true\">// Exchange</span>\n    <span class=\"token annotation punctuation\">@Bean</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"deadLetterExchange\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">public</span> DirectExchange <span class=\"token function\">deadLetterExchange</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">DirectExchange</span><span class=\"token punctuation\">(</span>DEAD_LETTER_EXCHANGE<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\" spellcheck=\"true\">// C TTL</span>\n    <span class=\"token comment\" spellcheck=\"true\">// </span>\n    <span class=\"token annotation punctuation\">@Bean</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"delayQueueC\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">public</span> Queue <span class=\"token function\">delayQueueC</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        Map<span class=\"token operator\">&lt;</span>String<span class=\"token punctuation\">,</span> Object<span class=\"token operator\">></span> args <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">HashMap</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">></span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\" spellcheck=\"true\">// x-dead-letter-exchange    </span>\n        args<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"x-dead-letter-exchange\"</span><span class=\"token punctuation\">,</span> DEAD_LETTER_EXCHANGE<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\" spellcheck=\"true\">// x-dead-letter-routing-key  key</span>\n        args<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"x-dead-letter-routing-key\"</span><span class=\"token punctuation\">,</span> DEAD_LETTER_QUEUEC_ROUTING_KEY<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> QueueBuilder<span class=\"token punctuation\">.</span><span class=\"token function\">durable</span><span class=\"token punctuation\">(</span>DELAY_QUEUEC_NAME<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">withArguments</span><span class=\"token punctuation\">(</span>args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\" spellcheck=\"true\">// C </span>\n    <span class=\"token annotation punctuation\">@Bean</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"deadLetterQueueC\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">public</span> Queue <span class=\"token function\">deadLetterQueueC</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Queue</span><span class=\"token punctuation\">(</span>DEAD_LETTER_QUEUEC_NAME<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\" spellcheck=\"true\">// C</span>\n    <span class=\"token annotation punctuation\">@Bean</span>\n    <span class=\"token keyword\">public</span> Binding <span class=\"token function\">delayBindingC</span><span class=\"token punctuation\">(</span><span class=\"token annotation punctuation\">@Qualifier</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"delayQueueC\"</span><span class=\"token punctuation\">)</span> Queue queue<span class=\"token punctuation\">,</span>\n                                 <span class=\"token annotation punctuation\">@Qualifier</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"delayExchange\"</span><span class=\"token punctuation\">)</span> DirectExchange exchange<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> BindingBuilder<span class=\"token punctuation\">.</span><span class=\"token function\">bind</span><span class=\"token punctuation\">(</span>queue<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">to</span><span class=\"token punctuation\">(</span>exchange<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">with</span><span class=\"token punctuation\">(</span>DELAY_QUEUEC_ROUTING_KEY<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\" spellcheck=\"true\">// C</span>\n    <span class=\"token annotation punctuation\">@Bean</span>\n    <span class=\"token keyword\">public</span> Binding <span class=\"token function\">deadLetterBindingC</span><span class=\"token punctuation\">(</span><span class=\"token annotation punctuation\">@Qualifier</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"deadLetterQueueC\"</span><span class=\"token punctuation\">)</span> Queue queue<span class=\"token punctuation\">,</span>\n                                      <span class=\"token annotation punctuation\">@Qualifier</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"deadLetterExchange\"</span><span class=\"token punctuation\">)</span> DirectExchange exchange<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> BindingBuilder<span class=\"token punctuation\">.</span><span class=\"token function\">bind</span><span class=\"token punctuation\">(</span>queue<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">to</span><span class=\"token punctuation\">(</span>exchange<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">with</span><span class=\"token punctuation\">(</span>DEAD_LETTER_QUEUEC_ROUTING_KEY<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p>C</p>\n<pre class=\" language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@RabbitListener</span><span class=\"token punctuation\">(</span>queues <span class=\"token operator\">=</span> DEAD_LETTER_QUEUEC_NAME<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">receiveC</span><span class=\"token punctuation\">(</span>Message message<span class=\"token punctuation\">,</span> Channel channel<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> IOException <span class=\"token punctuation\">{</span>\n    String msg <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">.</span><span class=\"token function\">getBody</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    log<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"{},C{}\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> msg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    channel<span class=\"token punctuation\">.</span><span class=\"token function\">basicAck</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">.</span><span class=\"token function\">getMessageProperties</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getDeliveryTag</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p><a href=\"http://localhost:8080/rabbitmq/delayMsg?msg=testMsg1delayTime=5000\" target=\"_blank\" rel=\"noopener\">http://localhost:8080/rabbitmq/delayMsg?msg=testMsg1delayTime=5000</a> </p>\n<pre><code>2019-07-28 16:45:07.033  INFO 31468 --- [nio-8080-exec-4] c.m.d.controller.RabbitMQMsgController   : Sun Jul 28 16:45:07 CST 2019,msg:testMsg1,delayTime:5000\n2019-07-28 16:45:11.694  INFO 31468 --- [nio-8080-exec-5] c.m.d.controller.RabbitMQMsgController   : Sun Jul 28 16:45:11 CST 2019,msg:testMsg2,delayTime:5000\n2019-07-28 16:45:12.048  INFO 31468 --- [ntContainer#1-1] c.m.d.mq.DeadLetterQueueConsumer         : Sun Jul 28 16:45:12 CST 2019,CtestMsg1\n2019-07-28 16:45:16.709  INFO 31468 --- [ntContainer#1-1] c.m.d.mq.DeadLetterQueueConsumer         : Sun Jul 28 16:45:16 CST 2019,CtestMsg2</code></pre><p>TTLRabbitMQ</p>\n<p></p>\n<pre><code>2019-07-28 16:49:02.957  INFO 31468 --- [nio-8080-exec-8] c.m.d.controller.RabbitMQMsgController   : Sun Jul 28 16:49:02 CST 2019,msg:longDelayedMsg,delayTime:20000\n2019-07-28 16:49:10.671  INFO 31468 --- [nio-8080-exec-9] c.m.d.controller.RabbitMQMsgController   : Sun Jul 28 16:49:10 CST 2019,msg:shortDelayedMsg,delayTime:2000\n2019-07-28 16:49:22.969  INFO 31468 --- [ntContainer#1-1] c.m.d.mq.DeadLetterQueueConsumer         : Sun Jul 28 16:49:22 CST 2019,ClongDelayedMsg\n2019-07-28 16:49:22.970  INFO 31468 --- [ntContainer#1-1] c.m.d.mq.DeadLetterQueueConsumer         : Sun Jul 28 16:49:22 CST 2019,CshortDelayedMsg</code></pre><p>20s2s</p>\n<h2 id=\"RabbitMQ\"><a href=\"#RabbitMQ\" class=\"headerlink\" title=\"RabbitMQ\"></a>RabbitMQ</h2><p>TTLTTL</p>\n<p><a href=\"https://www.rabbitmq.com/community-plugins.html\" target=\"_blank\" rel=\"noopener\">https://www.rabbitmq.com/community-plugins.html</a> rabbitmq_delayed_message_exchangeRabbitMQ</p>\n<p>RabbitMQsbinRabbitMQ</p>\n<pre class=\" language-shell\"><code class=\"language-shell\">rabbitmq-plugins enable rabbitmq_delayed_message_exchange</code></pre>\n<p>Bean</p>\n<pre class=\" language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Configuration</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">DelayedRabbitMQConfig</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> String DELAYED_QUEUE_NAME <span class=\"token operator\">=</span> <span class=\"token string\">\"delay.queue.demo.delay.queue\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> String DELAYED_EXCHANGE_NAME <span class=\"token operator\">=</span> <span class=\"token string\">\"delay.queue.demo.delay.exchange\"</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">final</span> String DELAYED_ROUTING_KEY <span class=\"token operator\">=</span> <span class=\"token string\">\"delay.queue.demo.delay.routingkey\"</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@Bean</span>\n    <span class=\"token keyword\">public</span> Queue <span class=\"token function\">immediateQueue</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Queue</span><span class=\"token punctuation\">(</span>DELAYED_QUEUE_NAME<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token annotation punctuation\">@Bean</span>\n    <span class=\"token keyword\">public</span> CustomExchange <span class=\"token function\">customExchange</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        Map<span class=\"token operator\">&lt;</span>String<span class=\"token punctuation\">,</span> Object<span class=\"token operator\">></span> args <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">HashMap</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        args<span class=\"token punctuation\">.</span><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"x-delayed-type\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"direct\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">CustomExchange</span><span class=\"token punctuation\">(</span>DELAYED_EXCHANGE_NAME<span class=\"token punctuation\">,</span> <span class=\"token string\">\"x-delayed-message\"</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span> args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token annotation punctuation\">@Bean</span>\n    <span class=\"token keyword\">public</span> Binding <span class=\"token function\">bindingNotify</span><span class=\"token punctuation\">(</span><span class=\"token annotation punctuation\">@Qualifier</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"immediateQueue\"</span><span class=\"token punctuation\">)</span> Queue queue<span class=\"token punctuation\">,</span>\n                                 <span class=\"token annotation punctuation\">@Qualifier</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"customExchange\"</span><span class=\"token punctuation\">)</span> CustomExchange customExchange<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> BindingBuilder<span class=\"token punctuation\">.</span><span class=\"token function\">bind</span><span class=\"token punctuation\">(</span>queue<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">to</span><span class=\"token punctuation\">(</span>customExchange<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">with</span><span class=\"token punctuation\">(</span>DELAYED_ROUTING_KEY<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">noargs</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p>controller</p>\n<pre class=\" language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@RequestMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"delayMsg2\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">delayMsg2</span><span class=\"token punctuation\">(</span>String msg<span class=\"token punctuation\">,</span> Integer delayTime<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    log<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"{},msg:{},delayTime:{}\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> msg<span class=\"token punctuation\">,</span> delayTime<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    sender<span class=\"token punctuation\">.</span><span class=\"token function\">sendDelayMsg</span><span class=\"token punctuation\">(</span>msg<span class=\"token punctuation\">,</span> delayTime<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p></p>\n<pre class=\" language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">sendDelayMsg</span><span class=\"token punctuation\">(</span>String msg<span class=\"token punctuation\">,</span> Integer delayTime<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    rabbitTemplate<span class=\"token punctuation\">.</span><span class=\"token function\">convertAndSend</span><span class=\"token punctuation\">(</span>DELAYED_EXCHANGE_NAME<span class=\"token punctuation\">,</span> DELAYED_ROUTING_KEY<span class=\"token punctuation\">,</span> msg<span class=\"token punctuation\">,</span> a <span class=\"token operator\">-</span><span class=\"token operator\">></span><span class=\"token punctuation\">{</span>\n        a<span class=\"token punctuation\">.</span><span class=\"token function\">getMessageProperties</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">setDelay</span><span class=\"token punctuation\">(</span>delayTime<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">return</span> a<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p></p>\n<pre class=\" language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@RabbitListener</span><span class=\"token punctuation\">(</span>queues <span class=\"token operator\">=</span> DELAYED_QUEUE_NAME<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">receiveD</span><span class=\"token punctuation\">(</span>Message message<span class=\"token punctuation\">,</span> Channel channel<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> IOException <span class=\"token punctuation\">{</span>\n    String msg <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">String</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">.</span><span class=\"token function\">getBody</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    log<span class=\"token punctuation\">.</span><span class=\"token function\">info</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"{},{}\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> msg<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    channel<span class=\"token punctuation\">.</span><span class=\"token function\">basicAck</span><span class=\"token punctuation\">(</span>message<span class=\"token punctuation\">.</span><span class=\"token function\">getMessageProperties</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">getDeliveryTag</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p></p>\n<pre class=\" language-url\"><code class=\"language-url\">http://localhost:8080/rabbitmq/delayMsg2?msg=msg1&delayTime=20000\nhttp://localhost:8080/rabbitmq/delayMsg2?msg=msg2&delayTime=2000</code></pre>\n<p></p>\n<pre class=\" language-java\"><code class=\"language-java\"><span class=\"token number\">2019</span><span class=\"token operator\">-</span><span class=\"token number\">07</span><span class=\"token operator\">-</span><span class=\"token number\">28</span> <span class=\"token number\">17</span><span class=\"token operator\">:</span><span class=\"token number\">28</span><span class=\"token operator\">:</span><span class=\"token number\">13.729</span>  INFO <span class=\"token number\">25804</span> <span class=\"token operator\">--</span><span class=\"token operator\">-</span> <span class=\"token punctuation\">[</span>nio<span class=\"token operator\">-</span><span class=\"token number\">8080</span><span class=\"token operator\">-</span>exec<span class=\"token operator\">-</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span> c<span class=\"token punctuation\">.</span>m<span class=\"token punctuation\">.</span>d<span class=\"token punctuation\">.</span>controller<span class=\"token punctuation\">.</span>RabbitMQMsgController   <span class=\"token operator\">:</span> Sun Jul <span class=\"token number\">28</span> <span class=\"token number\">17</span><span class=\"token operator\">:</span><span class=\"token number\">28</span><span class=\"token operator\">:</span><span class=\"token number\">13</span> CST <span class=\"token number\">2019</span><span class=\"token punctuation\">,</span>msg<span class=\"token operator\">:</span>msg1<span class=\"token punctuation\">,</span>delayTime<span class=\"token operator\">:</span><span class=\"token number\">20000</span>\n<span class=\"token number\">2019</span><span class=\"token operator\">-</span><span class=\"token number\">07</span><span class=\"token operator\">-</span><span class=\"token number\">28</span> <span class=\"token number\">17</span><span class=\"token operator\">:</span><span class=\"token number\">28</span><span class=\"token operator\">:</span><span class=\"token number\">20.607</span>  INFO <span class=\"token number\">25804</span> <span class=\"token operator\">--</span><span class=\"token operator\">-</span> <span class=\"token punctuation\">[</span>nio<span class=\"token operator\">-</span><span class=\"token number\">8080</span><span class=\"token operator\">-</span>exec<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> c<span class=\"token punctuation\">.</span>m<span class=\"token punctuation\">.</span>d<span class=\"token punctuation\">.</span>controller<span class=\"token punctuation\">.</span>RabbitMQMsgController   <span class=\"token operator\">:</span> Sun Jul <span class=\"token number\">28</span> <span class=\"token number\">17</span><span class=\"token operator\">:</span><span class=\"token number\">28</span><span class=\"token operator\">:</span><span class=\"token number\">20</span> CST <span class=\"token number\">2019</span><span class=\"token punctuation\">,</span>msg<span class=\"token operator\">:</span>msg2<span class=\"token punctuation\">,</span>delayTime<span class=\"token operator\">:</span><span class=\"token number\">2000</span>\n<span class=\"token number\">2019</span><span class=\"token operator\">-</span><span class=\"token number\">07</span><span class=\"token operator\">-</span><span class=\"token number\">28</span> <span class=\"token number\">17</span><span class=\"token operator\">:</span><span class=\"token number\">28</span><span class=\"token operator\">:</span><span class=\"token number\">22.624</span>  INFO <span class=\"token number\">25804</span> <span class=\"token operator\">--</span><span class=\"token operator\">-</span> <span class=\"token punctuation\">[</span>ntContainer#<span class=\"token number\">1</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> c<span class=\"token punctuation\">.</span>m<span class=\"token punctuation\">.</span>d<span class=\"token punctuation\">.</span>mq<span class=\"token punctuation\">.</span>DeadLetterQueueConsumer         <span class=\"token operator\">:</span> Sun Jul <span class=\"token number\">28</span> <span class=\"token number\">17</span><span class=\"token operator\">:</span><span class=\"token number\">28</span><span class=\"token operator\">:</span><span class=\"token number\">22</span> CST <span class=\"token number\">2019</span><span class=\"token punctuation\">,</span>msg2\n<span class=\"token number\">2019</span><span class=\"token operator\">-</span><span class=\"token number\">07</span><span class=\"token operator\">-</span><span class=\"token number\">28</span> <span class=\"token number\">17</span><span class=\"token operator\">:</span><span class=\"token number\">28</span><span class=\"token operator\">:</span><span class=\"token number\">33.751</span>  INFO <span class=\"token number\">25804</span> <span class=\"token operator\">--</span><span class=\"token operator\">-</span> <span class=\"token punctuation\">[</span>ntContainer#<span class=\"token number\">1</span><span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span> c<span class=\"token punctuation\">.</span>m<span class=\"token punctuation\">.</span>d<span class=\"token punctuation\">.</span>mq<span class=\"token punctuation\">.</span>DeadLetterQueueConsumer         <span class=\"token operator\">:</span> Sun Jul <span class=\"token number\">28</span> <span class=\"token number\">17</span><span class=\"token operator\">:</span><span class=\"token number\">28</span><span class=\"token operator\">:</span><span class=\"token number\">33</span> CST <span class=\"token number\">2019</span><span class=\"token punctuation\">,</span>msg1</code></pre>\n<p>RabbitMQ</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>RabbitMQRabbitMQRabbitMQ</p>\n<p>JavaDelayQueuRediszsetQuartzkafka</p>\n<p></p>\n<p><a href=\"https://github.com/MFrank2016/delayed-queue-demo\" target=\"_blank\" rel=\"noopener\">github</a></p>\n<script>\n        document.querySelectorAll('.github-emoji')\n          .forEach(el => {\n            if (!el.dataset.src) { return; }\n            const img = document.createElement('img');\n            img.style = 'display:none !important;';\n            img.src = el.dataset.src;\n            img.addEventListener('error', () => {\n              img.remove();\n              el.style.color = 'inherit';\n              el.style.backgroundImage = 'none';\n              el.style.background = 'none';\n            });\n            img.addEventListener('load', () => {\n              img.remove();\n            });\n            document.body.appendChild(img);\n          });\n      </script>","site":{"data":{"friends":[{"avatar":"http://43.142.191.46:8080/crmebimage/public/operation/2022/08/19/e4c5aacf44c44157ac8381896a4f33bfiwjztayaan.png","name":"","introduction":"","url":"http://43.142.191.46:9527/","title":""},{"avatar":"http://43.142.191.46:8080/crmebimage/public/operation/2022/08/19/e4c5aacf44c44157ac8381896a4f33bfiwjztayaan.png","name":"RabbitMQ","introduction":"","url":"http://43.142.191.46:15672/","title":""}]}},"excerpt":"","more":"<p>   10</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>RabbitMQRabbitMQ</p>\n<p>RabbitMQ</p>\n<ol>\n<li></li>\n<li></li>\n<li>RabbitMQTTL</li>\n<li>RabbitMQ</li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p><img src=\"https://i.loli.net/2019/07/28/5d3d74d99699d43032.png\" alt=\"1.png\"></p>\n<p>RabbitMQ</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><code></code><code></code></p>\n<p><code></code><code></code><code></code></p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<ol>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n<li></li>\n</ol>\n<p>0</p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p><code></code>RabbitMQ</p>\n<h2 id=\"RabbitMQTTL\"><a href=\"#RabbitMQTTL\" class=\"headerlink\" title=\"RabbitMQTTL\"></a>RabbitMQTTL</h2><p>RabbitMQ<code>TTLTime To Live</code></p>\n<p><code>TTL</code><code>TTL</code>RabbitMQ<code></code>TTLTTLTTLTTLTTL</p>\n<p>TTLx-message-ttl</p>\n<pre><code class=\"java\">Map&lt;String, Object&gt; args = new HashMap&lt;String, Object&gt;();\nargs.put(&quot;x-message-ttl&quot;, 6000);\nchannel.queueDeclare(queueName, durable, exclusive, autoDelete, args);</code></pre>\n<p>6s</p>\n<p>TTL</p>\n<pre><code class=\"java\">AMQP.BasicProperties.Builder builder = new AMQP.BasicProperties.Builder();\nbuilder.expiration(&quot;6000&quot;);\nAMQP.BasicProperties properties = builder.build();\nchannel.basicPublish(exchangeName, routingKey, mandatory, properties, &quot;msg body&quot;.getBytes());</code></pre>\n<p>6s</p>\n<p><strong>TTL</strong></p>\n<p>TTLTTL0</p>\n<h2 id=\"RabbitMQ\"><a href=\"#RabbitMQ\" class=\"headerlink\" title=\"RabbitMQ\"></a>RabbitMQ</h2><p>TTLRabbitMQ</p>\n<p><code></code>TTL</p>\n<p></p>\n<p><img src=\"https://i.loli.net/2019/07/28/5d3d743143ecc85643.png\" alt=\"23.png\"></p>\n<p>routingkeyTTLroutingkey</p>\n<p></p>\n<p></p>\n<pre><code class=\"java\">@Configuration\npublic class RabbitMQConfig {\n\n    public static final String DELAY_EXCHANGE_NAME = &quot;delay.queue.demo.business.exchange&quot;;\n    public static final String DELAY_QUEUEA_NAME = &quot;delay.queue.demo.business.queuea&quot;;\n    public static final String DELAY_QUEUEA_ROUTING_KEY = &quot;delay.queue.demo.business.queuea.routingkey&quot;;\n    public static final String DELAY_QUEUEB_ROUTING_KEY = &quot;delay.queue.demo.business.queueb.routingkey&quot;;\n    public static final String DEAD_LETTER_EXCHANGE = &quot;delay.queue.demo.deadletter.exchange&quot;;\n    public static final String DEAD_LETTER_QUEUEA_ROUTING_KEY = &quot;delay.queue.demo.deadletter.delay_10s.routingkey&quot;;\n    public static final String DEAD_LETTER_QUEUEB_ROUTING_KEY = &quot;delay.queue.demo.deadletter.delay_60s.routingkey&quot;;\n    public static final String DEAD_LETTER_QUEUEA_NAME = &quot;delay.queue.demo.deadletter.queuea&quot;;\n    public static final String DEAD_LETTER_QUEUEB_NAME = &quot;delay.queue.demo.deadletter.queueb&quot;;\n\n    // Exchange\n    @Bean(&quot;delayExchange&quot;)\n    public DirectExchange delayExchange(){\n        return new DirectExchange(DELAY_EXCHANGE_NAME);\n    }\n\n    // Exchange\n    @Bean(&quot;deadLetterExchange&quot;)\n    public DirectExchange deadLetterExchange(){\n        return new DirectExchange(DEAD_LETTER_EXCHANGE);\n    }\n\n    // A 10s\n    // \n    @Bean(&quot;delayQueueA&quot;)\n    public Queue delayQueueA(){\n        Map&lt;String, Object&gt; args = new HashMap&lt;&gt;(2);\n        // x-dead-letter-exchange    \n        args.put(&quot;x-dead-letter-exchange&quot;, DEAD_LETTER_EXCHANGE);\n        // x-dead-letter-routing-key  key\n        args.put(&quot;x-dead-letter-routing-key&quot;, DEAD_LETTER_QUEUEA_ROUTING_KEY);\n        // x-message-ttl  TTL\n        args.put(&quot;x-message-ttl&quot;, 6000);\n        return QueueBuilder.durable(DEAD_LETTER_QUEUEA_NAME).withArguments(args).build();\n    }\n\n    // B  60s\n    // \n    @Bean(&quot;delayQueueB&quot;)\n    public Queue delayQueueB(){\n        Map&lt;String, Object&gt; args = new HashMap&lt;&gt;(2);\n        // x-dead-letter-exchange    \n        args.put(&quot;x-dead-letter-exchange&quot;, DEAD_LETTER_EXCHANGE);\n        // x-dead-letter-routing-key  key\n        args.put(&quot;x-dead-letter-routing-key&quot;, DEAD_LETTER_QUEUEB_ROUTING_KEY);\n        // x-message-ttl  TTL\n        args.put(&quot;x-message-ttl&quot;, 60000);\n        return QueueBuilder.durable(DEAD_LETTER_QUEUEB_NAME).withArguments(args).build();\n    }\n\n    // A 10s\n    @Bean(&quot;deadLetterQueueA&quot;)\n    public Queue deadLetterQueueA(){\n        return new Queue(DEAD_LETTER_QUEUEA_NAME);\n    }\n\n    // B 60s\n    @Bean(&quot;deadLetterQueueB&quot;)\n    public Queue deadLetterQueueB(){\n        return new Queue(DEAD_LETTER_QUEUEB_NAME);\n    }\n\n    // A\n    @Bean\n    public Binding delayBindingA(@Qualifier(&quot;delayQueueA&quot;) Queue queue,\n                                    @Qualifier(&quot;delayExchange&quot;) DirectExchange exchange){\n        return BindingBuilder.bind(queue).to(exchange).with(DELAY_QUEUEA_ROUTING_KEY);\n    }\n\n    // B\n    @Bean\n    public Binding delayBindingB(@Qualifier(&quot;delayQueueB&quot;) Queue queue,\n                                    @Qualifier(&quot;delayExchange&quot;) DirectExchange exchange){\n        return BindingBuilder.bind(queue).to(exchange).with(DELAY_QUEUEB_ROUTING_KEY);\n    }\n\n    // A\n    @Bean\n    public Binding deadLetterBindingA(@Qualifier(&quot;deadLetterQueueA&quot;) Queue queue,\n                                    @Qualifier(&quot;deadLetterExchange&quot;) DirectExchange exchange){\n        return BindingBuilder.bind(queue).to(exchange).with(DEAD_LETTER_QUEUEA_ROUTING_KEY);\n    }\n\n    // B\n    @Bean\n    public Binding deadLetterBindingB(@Qualifier(&quot;deadLetterQueueB&quot;) Queue queue,\n                                      @Qualifier(&quot;deadLetterExchange&quot;) DirectExchange exchange){\n        return BindingBuilder.bind(queue).to(exchange).with(DEAD_LETTER_QUEUEB_ROUTING_KEY);\n    }\n}</code></pre>\n<p></p>\n<pre><code class=\"java\">@Slf4j\n@Component\npublic class DeadLetterQueueConsumer {\n\n    @RabbitListener(queues = DEAD_LETTER_QUEUEA_NAME)\n    public void receiveA(Message message, Channel channel) throws IOException {\n        String msg = new String(message.getBody());\n        log.info(&quot;{},A{}&quot;, new Date().toString(), msg);\n        channel.basicAck(message.getMessageProperties().getDeliveryTag(), false);\n    }\n\n    @RabbitListener(queues = DEAD_LETTER_QUEUEB_NAME)\n    public void receiveB(Message message, Channel channel) throws IOException {\n        String msg = new String(message.getBody());\n        log.info(&quot;{},B{}&quot;, new Date().toString(), msg);\n        channel.basicAck(message.getMessageProperties().getDeliveryTag(), false);\n    }\n}</code></pre>\n<p></p>\n<pre><code class=\"java\">@Component\npublic class DelayMessageSender {\n\n    @Autowired\n    private RabbitTemplate rabbitTemplate;\n\n    public void sendMsg(String msg, DelayTypeEnum type){\n        switch (type){\n            case DELAY_10s:\n                rabbitTemplate.convertAndSend(DELAY_EXCHANGE_NAME, DELAY_QUEUEA_ROUTING_KEY, msg);\n                break;\n            case DELAY_60s:\n                rabbitTemplate.convertAndSend(DELAY_EXCHANGE_NAME, DELAY_QUEUEB_ROUTING_KEY, msg);\n                break;\n        }\n    }\n}</code></pre>\n<p>web</p>\n<pre><code class=\"java\">@Slf4j\n@RequestMapping(&quot;rabbitmq&quot;)\n@RestController\npublic class RabbitMQMsgController {\n\n    @Autowired\n    private DelayMessageSender sender;\n\n    @RequestMapping(&quot;sendmsg&quot;)\n    public void sendMsg(String msg, Integer delayType){\n        log.info(&quot;{},msg:{},delayType:{}&quot;, new Date(), msg, delayType);\n        sender.sendMsg(msg, Objects.requireNonNull(DelayTypeEnum.getDelayTypeEnumByValue(delayType)));\n    }\n}</code></pre>\n<p></p>\n<p>rabbitMQ<a href=\"http://localhost:15672\" target=\"_blank\" rel=\"noopener\"></a></p>\n<p><img src=\"https://i.loli.net/2019/07/28/5d3d54e15534398514.png\" alt=\"2.png\"></p>\n<p><img src=\"https://i.loli.net/2019/07/28/5d3d54e17df8183993.png\" alt=\"4.png\"></p>\n<p><img src=\"https://i.loli.net/2019/07/28/5d3d54e16952546955.png\" alt=\"3.png\"></p>\n<p><a href=\"http://localhost:8080/rabbitmq/sendmsg?msg=testMsg1&amp;delayType=1\" target=\"_blank\" rel=\"noopener\">http://localhost:8080/rabbitmq/sendmsg?msg=testMsg1&amp;delayType=1</a> <a href=\"http://localhost:8080/rabbitmq/sendmsg?msg=testMsg2&amp;delayType=2\" target=\"_blank\" rel=\"noopener\">http://localhost:8080/rabbitmq/sendmsg?msg=testMsg2&amp;delayType=2</a></p>\n<p></p>\n<pre><code class=\"powershell\">2019-07-28 16:02:19.813  INFO 3860 --- [nio-8080-exec-9] c.m.d.controller.RabbitMQMsgController   : Sun Jul 28 16:02:19 CST 2019,msg:testMsg1,delayType:1\n2019-07-28 16:02:19.815  INFO 3860 --- [nio-8080-exec-9] .l.DirectReplyToMessageListenerContainer : SimpleConsumer [queue=amq.rabbitmq.reply-to, consumerTag=amq.ctag-o-qPpkWIkRm73DIrOIVhig identity=766339] started\n2019-07-28 16:02:25.829  INFO 3860 --- [ntContainer#1-1] c.m.d.mq.DeadLetterQueueConsumer         : Sun Jul 28 16:02:25 CST 2019,AtestMsg1\n2019-07-28 16:02:41.326  INFO 3860 --- [nio-8080-exec-1] c.m.d.controller.RabbitMQMsgController   : Sun Jul 28 16:02:41 CST 2019,msg:testMsg2,delayType:2\n2019-07-28 16:03:41.329  INFO 3860 --- [ntContainer#0-1] c.m.d.mq.DeadLetterQueueConsumer         : Sun Jul 28 16:03:41 CST 2019,BtestMsg2</code></pre>\n<p>6s60sok</p>\n<p>6s60sTTL</p>\n<p></p>\n<h2 id=\"RabbitMQ\"><a href=\"#RabbitMQ\" class=\"headerlink\" title=\"RabbitMQ\"></a>RabbitMQ</h2><p>TTL</p>\n<p>routingkey</p>\n<pre><code class=\"java\">@Configuration\npublic class RabbitMQConfig {\n\n    public static final String DELAY_EXCHANGE_NAME = &quot;delay.queue.demo.business.exchange&quot;;\n    public static final String DELAY_QUEUEC_NAME = &quot;delay.queue.demo.business.queuec&quot;;\n    public static final String DELAY_QUEUEC_ROUTING_KEY = &quot;delay.queue.demo.business.queuec.routingkey&quot;;\n    public static final String DEAD_LETTER_EXCHANGE = &quot;delay.queue.demo.deadletter.exchange&quot;;\n    public static final String DEAD_LETTER_QUEUEC_ROUTING_KEY = &quot;delay.queue.demo.deadletter.delay_anytime.routingkey&quot;;\n    public static final String DEAD_LETTER_QUEUEC_NAME = &quot;delay.queue.demo.deadletter.queuec&quot;;\n\n    // Exchange\n    @Bean(&quot;delayExchange&quot;)\n    public DirectExchange delayExchange(){\n        return new DirectExchange(DELAY_EXCHANGE_NAME);\n    }\n\n    // Exchange\n    @Bean(&quot;deadLetterExchange&quot;)\n    public DirectExchange deadLetterExchange(){\n        return new DirectExchange(DEAD_LETTER_EXCHANGE);\n    }\n\n    // C TTL\n    // \n    @Bean(&quot;delayQueueC&quot;)\n    public Queue delayQueueC(){\n        Map&lt;String, Object&gt; args = new HashMap&lt;&gt;(3);\n        // x-dead-letter-exchange    \n        args.put(&quot;x-dead-letter-exchange&quot;, DEAD_LETTER_EXCHANGE);\n        // x-dead-letter-routing-key  key\n        args.put(&quot;x-dead-letter-routing-key&quot;, DEAD_LETTER_QUEUEC_ROUTING_KEY);\n        return QueueBuilder.durable(DELAY_QUEUEC_NAME).withArguments(args).build();\n    }\n\n    // C \n    @Bean(&quot;deadLetterQueueC&quot;)\n    public Queue deadLetterQueueC(){\n        return new Queue(DEAD_LETTER_QUEUEC_NAME);\n    }\n\n    // C\n    @Bean\n    public Binding delayBindingC(@Qualifier(&quot;delayQueueC&quot;) Queue queue,\n                                 @Qualifier(&quot;delayExchange&quot;) DirectExchange exchange){\n        return BindingBuilder.bind(queue).to(exchange).with(DELAY_QUEUEC_ROUTING_KEY);\n    }\n\n    // C\n    @Bean\n    public Binding deadLetterBindingC(@Qualifier(&quot;deadLetterQueueC&quot;) Queue queue,\n                                      @Qualifier(&quot;deadLetterExchange&quot;) DirectExchange exchange){\n        return BindingBuilder.bind(queue).to(exchange).with(DEAD_LETTER_QUEUEC_ROUTING_KEY);\n    }\n}</code></pre>\n<p>C</p>\n<pre><code class=\"java\">@RabbitListener(queues = DEAD_LETTER_QUEUEC_NAME)\npublic void receiveC(Message message, Channel channel) throws IOException {\n    String msg = new String(message.getBody());\n    log.info(&quot;{},C{}&quot;, new Date().toString(), msg);\n    channel.basicAck(message.getMessageProperties().getDeliveryTag(), false);\n}</code></pre>\n<p><a href=\"http://localhost:8080/rabbitmq/delayMsg?msg=testMsg1delayTime=5000\" target=\"_blank\" rel=\"noopener\">http://localhost:8080/rabbitmq/delayMsg?msg=testMsg1delayTime=5000</a> </p>\n<pre><code>2019-07-28 16:45:07.033  INFO 31468 --- [nio-8080-exec-4] c.m.d.controller.RabbitMQMsgController   : Sun Jul 28 16:45:07 CST 2019,msg:testMsg1,delayTime:5000\n2019-07-28 16:45:11.694  INFO 31468 --- [nio-8080-exec-5] c.m.d.controller.RabbitMQMsgController   : Sun Jul 28 16:45:11 CST 2019,msg:testMsg2,delayTime:5000\n2019-07-28 16:45:12.048  INFO 31468 --- [ntContainer#1-1] c.m.d.mq.DeadLetterQueueConsumer         : Sun Jul 28 16:45:12 CST 2019,CtestMsg1\n2019-07-28 16:45:16.709  INFO 31468 --- [ntContainer#1-1] c.m.d.mq.DeadLetterQueueConsumer         : Sun Jul 28 16:45:16 CST 2019,CtestMsg2</code></pre><p>TTLRabbitMQ</p>\n<p></p>\n<pre><code>2019-07-28 16:49:02.957  INFO 31468 --- [nio-8080-exec-8] c.m.d.controller.RabbitMQMsgController   : Sun Jul 28 16:49:02 CST 2019,msg:longDelayedMsg,delayTime:20000\n2019-07-28 16:49:10.671  INFO 31468 --- [nio-8080-exec-9] c.m.d.controller.RabbitMQMsgController   : Sun Jul 28 16:49:10 CST 2019,msg:shortDelayedMsg,delayTime:2000\n2019-07-28 16:49:22.969  INFO 31468 --- [ntContainer#1-1] c.m.d.mq.DeadLetterQueueConsumer         : Sun Jul 28 16:49:22 CST 2019,ClongDelayedMsg\n2019-07-28 16:49:22.970  INFO 31468 --- [ntContainer#1-1] c.m.d.mq.DeadLetterQueueConsumer         : Sun Jul 28 16:49:22 CST 2019,CshortDelayedMsg</code></pre><p>20s2s</p>\n<h2 id=\"RabbitMQ\"><a href=\"#RabbitMQ\" class=\"headerlink\" title=\"RabbitMQ\"></a>RabbitMQ</h2><p>TTLTTL</p>\n<p><a href=\"https://www.rabbitmq.com/community-plugins.html\" target=\"_blank\" rel=\"noopener\">https://www.rabbitmq.com/community-plugins.html</a> rabbitmq_delayed_message_exchangeRabbitMQ</p>\n<p>RabbitMQsbinRabbitMQ</p>\n<pre><code class=\"shell\">rabbitmq-plugins enable rabbitmq_delayed_message_exchange</code></pre>\n<p>Bean</p>\n<pre><code class=\"java\">@Configuration\npublic class DelayedRabbitMQConfig {\n    public static final String DELAYED_QUEUE_NAME = &quot;delay.queue.demo.delay.queue&quot;;\n    public static final String DELAYED_EXCHANGE_NAME = &quot;delay.queue.demo.delay.exchange&quot;;\n    public static final String DELAYED_ROUTING_KEY = &quot;delay.queue.demo.delay.routingkey&quot;;\n\n    @Bean\n    public Queue immediateQueue() {\n        return new Queue(DELAYED_QUEUE_NAME);\n    }\n\n    @Bean\n    public CustomExchange customExchange() {\n        Map&lt;String, Object&gt; args = new HashMap&lt;&gt;();\n        args.put(&quot;x-delayed-type&quot;, &quot;direct&quot;);\n        return new CustomExchange(DELAYED_EXCHANGE_NAME, &quot;x-delayed-message&quot;, true, false, args);\n    }\n\n    @Bean\n    public Binding bindingNotify(@Qualifier(&quot;immediateQueue&quot;) Queue queue,\n                                 @Qualifier(&quot;customExchange&quot;) CustomExchange customExchange) {\n        return BindingBuilder.bind(queue).to(customExchange).with(DELAYED_ROUTING_KEY).noargs();\n    }\n}</code></pre>\n<p>controller</p>\n<pre><code class=\"java\">@RequestMapping(&quot;delayMsg2&quot;)\npublic void delayMsg2(String msg, Integer delayTime) {\n    log.info(&quot;{},msg:{},delayTime:{}&quot;, new Date(), msg, delayTime);\n    sender.sendDelayMsg(msg, delayTime);\n}</code></pre>\n<p></p>\n<pre><code class=\"java\">public void sendDelayMsg(String msg, Integer delayTime) {\n    rabbitTemplate.convertAndSend(DELAYED_EXCHANGE_NAME, DELAYED_ROUTING_KEY, msg, a -&gt;{\n        a.getMessageProperties().setDelay(delayTime);\n        return a;\n    });\n}</code></pre>\n<p></p>\n<pre><code class=\"java\">@RabbitListener(queues = DELAYED_QUEUE_NAME)\npublic void receiveD(Message message, Channel channel) throws IOException {\n    String msg = new String(message.getBody());\n    log.info(&quot;{},{}&quot;, new Date().toString(), msg);\n    channel.basicAck(message.getMessageProperties().getDeliveryTag(), false);\n}</code></pre>\n<p></p>\n<pre><code class=\"url\">http://localhost:8080/rabbitmq/delayMsg2?msg=msg1&amp;delayTime=20000\nhttp://localhost:8080/rabbitmq/delayMsg2?msg=msg2&amp;delayTime=2000</code></pre>\n<p></p>\n<pre><code class=\"java\">2019-07-28 17:28:13.729  INFO 25804 --- [nio-8080-exec-2] c.m.d.controller.RabbitMQMsgController   : Sun Jul 28 17:28:13 CST 2019,msg:msg1,delayTime:20000\n2019-07-28 17:28:20.607  INFO 25804 --- [nio-8080-exec-1] c.m.d.controller.RabbitMQMsgController   : Sun Jul 28 17:28:20 CST 2019,msg:msg2,delayTime:2000\n2019-07-28 17:28:22.624  INFO 25804 --- [ntContainer#1-1] c.m.d.mq.DeadLetterQueueConsumer         : Sun Jul 28 17:28:22 CST 2019,msg2\n2019-07-28 17:28:33.751  INFO 25804 --- [ntContainer#1-1] c.m.d.mq.DeadLetterQueueConsumer         : Sun Jul 28 17:28:33 CST 2019,msg1</code></pre>\n<p>RabbitMQ</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>RabbitMQRabbitMQRabbitMQ</p>\n<p>JavaDelayQueuRediszsetQuartzkafka</p>\n<p></p>\n<p><a href=\"https://github.com/MFrank2016/delayed-queue-demo\" target=\"_blank\" rel=\"noopener\">github</a></p>\n"},{"title":"","toc":true,"top":true,"cover":true,"date":"2021-05-30T05:45:35.000Z","_content":"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","source":"_posts/thoughts/what-is-your-answer.md","raw":"---\ntitle: \ntags:\n  - Thoughts\ncategories:\n  - \n  - \ntoc: true\ntop: true\ncover: true\ndate: 2021-05-30 13:45:35\n---\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","slug":"thoughts/what-is-your-answer","published":1,"updated":"2021-05-30T05:45:35.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cl70rsfbp001h5ohu1zyidzi3","content":"<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p> </p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<script>\n        document.querySelectorAll('.github-emoji')\n          .forEach(el => {\n            if (!el.dataset.src) { return; }\n            const img = document.createElement('img');\n            img.style = 'display:none !important;';\n            img.src = el.dataset.src;\n            img.addEventListener('error', () => {\n              img.remove();\n              el.style.color = 'inherit';\n              el.style.backgroundImage = 'none';\n              el.style.background = 'none';\n            });\n            img.addEventListener('load', () => {\n              img.remove();\n            });\n            document.body.appendChild(img);\n          });\n      </script>","site":{"data":{"friends":[{"avatar":"https://draveness.me/images/draven-logo.png","name":"","introduction":"","url":"https://draveness.me/","title":""}]}},"excerpt":"","more":"<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p> </p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n"},{"title":"","toc":true,"top":true,"cover":true,"date":"2020-05-31T13:00:50.000Z","_content":"\n## \n\n\n\n````\n\n``\n\n2018**\n\n****\n\n**\n\n``\n\n``````****\n\n\n\n``````\n\n## \n\n> ``****************************````\n\n``\n\n**``````\n\n``\n\n****\n\n## \n\n\n\n\n\n****\n\n````****\n\n\n\n`1``2``1`**`2`**`1``1``2`1`1``2``2``1``2``1`\n\n`1``2``2```\n\n## \n\n````\n\n``\n\n\n\n> ````\n\n\n\n\n> \n> \n> \n\n\n\n> \n> \n> \n\n``****\n\n\n\n``\n\n****\n\n****\n\n****\n\n****Alice  Alice ````\n\n## \n\n````\n\n``****````****\n\n\n\n> ``````\n\n\n\n> \n\n\n\n\n> \n\n\n\n\n\n\nhttps://yixi.tv/speech/831\n\n````\n\n> 18\n\n``****````````\n\n## \n\n``****\n\n\n\n``****\n\n\n\n1. ****\n\n\n\n2. ****\n\n\n\n3. ****\n\n\n\n4. ****\n\n````````````````````\n\n****\n\n","source":"_posts/thoughts/why-are-we-biased.md","raw":"---\ntitle: \ntags:\n  - Thoughts\ncategories:\n  - \ntoc: true\ntop: true\ncover: true\ndate: 2020-05-31 21:00:50\n---\n\n## \n\n\n\n````\n\n``\n\n2018**\n\n****\n\n**\n\n``\n\n``````****\n\n\n\n``````\n\n## \n\n> ``****************************````\n\n``\n\n**``````\n\n``\n\n****\n\n## \n\n\n\n\n\n****\n\n````****\n\n\n\n`1``2``1`**`2`**`1``1``2`1`1``2``2``1``2``1`\n\n`1``2``2```\n\n## \n\n````\n\n``\n\n\n\n> ````\n\n\n\n\n> \n> \n> \n\n\n\n> \n> \n> \n\n``****\n\n\n\n``\n\n****\n\n****\n\n****\n\n****Alice  Alice ````\n\n## \n\n````\n\n``****````****\n\n\n\n> ``````\n\n\n\n> \n\n\n\n\n> \n\n\n\n\n\n\nhttps://yixi.tv/speech/831\n\n````\n\n> 18\n\n``****````````\n\n## \n\n``****\n\n\n\n``****\n\n\n\n1. ****\n\n\n\n2. ****\n\n\n\n3. ****\n\n\n\n4. ****\n\n````````````````````\n\n****\n\n","slug":"thoughts/why-are-we-biased","published":1,"updated":"2020-05-31T13:00:50.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cl70rsfbq001k5ohu8yu29nc7","content":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p><code></code><code></code></p>\n<p><code></code></p>\n<p>2018<em></em></p>\n<p><em></em><em></em></p>\n<p><em></em></p>\n<p><code></code></p>\n<p><code></code><code></code><code></code><strong></strong></p>\n<p></p>\n<p><code></code><code></code><code></code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><blockquote>\n<p><code></code><strong></strong><strong></strong><strong></strong><em></em><em></em><em></em><em></em><em></em><em></em><strong></strong><code></code><code></code></p>\n</blockquote>\n<p><code></code></p>\n<p><em></em><code></code><code></code><code></code></p>\n<p><code></code></p>\n<p><strong></strong></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p></p>\n<p><strong></strong></p>\n<p><code></code><code></code><strong></strong></p>\n<p></p>\n<p><code>1</code><code>2</code><code>1</code><em></em><code>2</code><em></em><code>1</code><code>1</code><code>2</code>1<code>1</code><code>2</code><code>2</code><code>1</code><code>2</code><code>1</code></p>\n<p><code>1</code><code>2</code><code>2</code><code></code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><code></code><code></code></p>\n<p><code></code></p>\n<p></p>\n<blockquote>\n<p><code></code><code></code><br></p>\n</blockquote>\n<p></p>\n<blockquote>\n<p><br><br></p>\n</blockquote>\n<p></p>\n<blockquote>\n<p><br><br></p>\n</blockquote>\n<p><code></code><strong></strong></p>\n<p></p>\n<p><code></code></p>\n<p><strong></strong></p>\n<p><strong></strong></p>\n<p><strong></strong></p>\n<p><strong></strong>Alice  Alice <code></code><code></code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><code></code><code></code></p>\n<p><code></code><strong></strong><code></code><code></code><strong></strong></p>\n<p></p>\n<blockquote>\n<p><code></code><code></code><code></code></p>\n</blockquote>\n<p></p>\n<blockquote>\n<p><br></p>\n</blockquote>\n<p></p>\n<blockquote>\n<p><br></p>\n</blockquote>\n<p></p>\n<p></p>\n<p><a href=\"https://yixi.tv/speech/831\" target=\"_blank\" rel=\"noopener\">https://yixi.tv/speech/831</a></p>\n<p><code></code><code></code></p>\n<blockquote>\n<p>18</p>\n</blockquote>\n<p><code></code><strong></strong><code></code><code></code><code></code><code></code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><code></code><strong></strong></p>\n<p></p>\n<p><code></code><strong></strong></p>\n<p></p>\n<ol>\n<li><strong></strong></li>\n</ol>\n<p></p>\n<ol start=\"2\">\n<li><strong></strong></li>\n</ol>\n<p></p>\n<ol start=\"3\">\n<li><strong></strong></li>\n</ol>\n<p></p>\n<ol start=\"4\">\n<li><strong></strong></li>\n</ol>\n<p><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code></p>\n<p><strong></strong></p>\n<script>\n        document.querySelectorAll('.github-emoji')\n          .forEach(el => {\n            if (!el.dataset.src) { return; }\n            const img = document.createElement('img');\n            img.style = 'display:none !important;';\n            img.src = el.dataset.src;\n            img.addEventListener('error', () => {\n              img.remove();\n              el.style.color = 'inherit';\n              el.style.backgroundImage = 'none';\n              el.style.background = 'none';\n            });\n            img.addEventListener('load', () => {\n              img.remove();\n            });\n            document.body.appendChild(img);\n          });\n      </script>","site":{"data":{"friends":[{"avatar":"https://draveness.me/images/draven-logo.png","name":"","introduction":"","url":"https://draveness.me/","title":""}]}},"excerpt":"","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p><code></code><code></code></p>\n<p><code></code></p>\n<p>2018<em></em></p>\n<p><em></em><em></em></p>\n<p><em></em></p>\n<p><code></code></p>\n<p><code></code><code></code><code></code><strong></strong></p>\n<p></p>\n<p><code></code><code></code><code></code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><blockquote>\n<p><code></code><strong></strong><strong></strong><strong></strong><em></em><em></em><em></em><em></em><em></em><em></em><strong></strong><code></code><code></code></p>\n</blockquote>\n<p><code></code></p>\n<p><em></em><code></code><code></code><code></code></p>\n<p><code></code></p>\n<p><strong></strong></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p></p>\n<p><strong></strong></p>\n<p><code></code><code></code><strong></strong></p>\n<p></p>\n<p><code>1</code><code>2</code><code>1</code><em></em><code>2</code><em></em><code>1</code><code>1</code><code>2</code>1<code>1</code><code>2</code><code>2</code><code>1</code><code>2</code><code>1</code></p>\n<p><code>1</code><code>2</code><code>2</code><code></code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><code></code><code></code></p>\n<p><code></code></p>\n<p></p>\n<blockquote>\n<p><code></code><code></code><br></p>\n</blockquote>\n<p></p>\n<blockquote>\n<p><br><br></p>\n</blockquote>\n<p></p>\n<blockquote>\n<p><br><br></p>\n</blockquote>\n<p><code></code><strong></strong></p>\n<p></p>\n<p><code></code></p>\n<p><strong></strong></p>\n<p><strong></strong></p>\n<p><strong></strong></p>\n<p><strong></strong>Alice  Alice <code></code><code></code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><code></code><code></code></p>\n<p><code></code><strong></strong><code></code><code></code><strong></strong></p>\n<p></p>\n<blockquote>\n<p><code></code><code></code><code></code></p>\n</blockquote>\n<p></p>\n<blockquote>\n<p><br></p>\n</blockquote>\n<p></p>\n<blockquote>\n<p><br></p>\n</blockquote>\n<p></p>\n<p></p>\n<p><a href=\"https://yixi.tv/speech/831\" target=\"_blank\" rel=\"noopener\">https://yixi.tv/speech/831</a></p>\n<p><code></code><code></code></p>\n<blockquote>\n<p>18</p>\n</blockquote>\n<p><code></code><strong></strong><code></code><code></code><code></code><code></code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><code></code><strong></strong></p>\n<p></p>\n<p><code></code><strong></strong></p>\n<p></p>\n<ol>\n<li><strong></strong></li>\n</ol>\n<p></p>\n<ol start=\"2\">\n<li><strong></strong></li>\n</ol>\n<p></p>\n<ol start=\"3\">\n<li><strong></strong></li>\n</ol>\n<p></p>\n<ol start=\"4\">\n<li><strong></strong></li>\n</ol>\n<p><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code></p>\n<p><strong></strong></p>\n"},{"title":"Java","toc":true,"date":"2020-05-03T16:25:01.000Z","_content":"\n>  -- \n\n## \n\n**Java**Boss\n\n**Java** `Java` **** `Java` `Java` `````````````````````` `Java`  `Java` \n\n\n\n\n\n\n\n","source":"_posts/java/basic/java-basic.md","raw":"---\ntitle: Java\ntags:\n  - Java\n  - Java\ncategories:\n  - \ntoc: true\ndate: 2020-05-04 00:25:01\n---\n\n>  -- \n\n## \n\n**Java**Boss\n\n**Java** `Java` **** `Java` `Java` `````````````````````` `Java`  `Java` \n\n\n\n\n\n\n\n","slug":"java/basic/java-basic","published":1,"updated":"2020-05-03T16:25:01.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cl70rsfg800325ohu1sog7nls","content":"<blockquote>\n<p>  </p>\n</blockquote>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><strong>Java</strong>Boss</p>\n<p><strong>Java</strong> <code>Java</code> <em></em><em></em> <code>Java</code> <code>Java</code> <code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code> <code>Java</code>  <code>Java</code> </p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n<script>\n        document.querySelectorAll('.github-emoji')\n          .forEach(el => {\n            if (!el.dataset.src) { return; }\n            const img = document.createElement('img');\n            img.style = 'display:none !important;';\n            img.src = el.dataset.src;\n            img.addEventListener('error', () => {\n              img.remove();\n              el.style.color = 'inherit';\n              el.style.backgroundImage = 'none';\n              el.style.background = 'none';\n            });\n            img.addEventListener('load', () => {\n              img.remove();\n            });\n            document.body.appendChild(img);\n          });\n      </script>","site":{"data":{"friends":[{"avatar":"https://draveness.me/images/draven-logo.png","name":"","introduction":"","url":"https://draveness.me/","title":""}]}},"excerpt":"","more":"<blockquote>\n<p>  </p>\n</blockquote>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><strong>Java</strong>Boss</p>\n<p><strong>Java</strong> <code>Java</code> <em></em><em></em> <code>Java</code> <code>Java</code> <code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code> <code>Java</code>  <code>Java</code> </p>\n<p></p>\n<p></p>\n<p></p>\n<p></p>\n"},{"title":"JavaJava packageimport","toc":true,"date":"2020-05-03T16:25:02.000Z","_content":"\n>   -- \n\n## \n\n `Java` \n\n `Java`  `package`  `import` \n\n\n\n##  package\n\n `SimpleCalculator`  `SimpleCalculator.java`\n\n\n\n```java\npackage hello;\n```\n\n `hello` \n\n## package\n\n `package` \n\n `package` \n\n`package`  `Java` \n\n## package\n\n\n\n`package` `.//..`*indi**onem**pers**priv**team**com*\n\n\n\n*com.frank.hello.controller**frank**frank.com**hello* *controller* \n\n\n\nok\n\n## package\n\n1. `package` \n2. `package` \n3. `package` \n4. `package` `.``package com.frank.hello;`com*frank*  *com* *hello*  *frank* \n5. \n6.  *package* *java* (java.lang)\n\n## import\n\n `SimpleCalculator` \n\n```java\nimport java.util.Scanner;\n```\n\n `import` \n\n`import`  *java* \n\n *JDK*  *import*  *Scanner*  `System`  `System` \n\n *java.lang*  `import`  *java.lang* \n\n\n\n`*`\n\n```java\nimport java.util.*\n```\n\n`java.util`\n\n`*``*`\n\n# \n\n `package`  `import` ","source":"_posts/java/basic/java-package.md","raw":"---\ntitle: JavaJava packageimport\ntags:\n  - Java\n  - Java\ncategories:\n  - \ntoc: true\ndate: 2020-05-04 00:25:02\n---\n\n>   -- \n\n## \n\n `Java` \n\n `Java`  `package`  `import` \n\n\n\n##  package\n\n `SimpleCalculator`  `SimpleCalculator.java`\n\n\n\n```java\npackage hello;\n```\n\n `hello` \n\n## package\n\n `package` \n\n `package` \n\n`package`  `Java` \n\n## package\n\n\n\n`package` `.//..`*indi**onem**pers**priv**team**com*\n\n\n\n*com.frank.hello.controller**frank**frank.com**hello* *controller* \n\n\n\nok\n\n## package\n\n1. `package` \n2. `package` \n3. `package` \n4. `package` `.``package com.frank.hello;`com*frank*  *com* *hello*  *frank* \n5. \n6.  *package* *java* (java.lang)\n\n## import\n\n `SimpleCalculator` \n\n```java\nimport java.util.Scanner;\n```\n\n `import` \n\n`import`  *java* \n\n *JDK*  *import*  *Scanner*  `System`  `System` \n\n *java.lang*  `import`  *java.lang* \n\n\n\n`*`\n\n```java\nimport java.util.*\n```\n\n`java.util`\n\n`*``*`\n\n# \n\n `package`  `import` ","slug":"java/basic/java-package","published":1,"updated":"2020-05-03T16:25:02.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cl70rsfg900335ohuddjgdhwc","content":"<blockquote>\n<p>   </p>\n</blockquote>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> <code>Java</code> </p>\n<p> <code>Java</code>  <code>package</code>  <code>import</code> </p>\n<p></p>\n<h2 id=\"-package\"><a href=\"#-package\" class=\"headerlink\" title=\" package\"></a> package</h2><p> <code>SimpleCalculator</code>  <code>SimpleCalculator.java</code></p>\n<p></p>\n<pre class=\" language-java\"><code class=\"language-java\"><span class=\"token keyword\">package</span> hello<span class=\"token punctuation\">;</span></code></pre>\n<p> <code>hello</code> </p>\n<h2 id=\"package\"><a href=\"#package\" class=\"headerlink\" title=\"package\"></a>package</h2><p> <code>package</code> </p>\n<p> <code>package</code> </p>\n<p><code>package</code>  <code>Java</code> </p>\n<h2 id=\"package\"><a href=\"#package\" class=\"headerlink\" title=\"package\"></a>package</h2><p></p>\n<p><code>package</code> <code>.//..</code><em>indi</em><em>onem</em><em>pers</em><em>priv</em><em>team</em><em>com</em></p>\n<p></p>\n<p><em>com.frank.hello.controller<em></em>frank<em></em>frank.com<em></em>hello</em> <em>controller</em> </p>\n<p></p>\n<p>ok</p>\n<h2 id=\"package\"><a href=\"#package\" class=\"headerlink\" title=\"package\"></a>package</h2><ol>\n<li><code>package</code> </li>\n<li><code>package</code> </li>\n<li><code>package</code> </li>\n<li><code>package</code> <code>.</code><code>package com.frank.hello;</code>com<em>frank</em>  <em>com</em> <em>hello</em>  <em>frank</em> </li>\n<li></li>\n<li> <em>package* *java</em> (java.lang)</li>\n</ol>\n<h2 id=\"import\"><a href=\"#import\" class=\"headerlink\" title=\"import\"></a>import</h2><p> <code>SimpleCalculator</code> </p>\n<pre class=\" language-java\"><code class=\"language-java\"><span class=\"token keyword\">import</span> java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span>Scanner<span class=\"token punctuation\">;</span></code></pre>\n<p> <code>import</code> </p>\n<p><code>import</code>  <em>java</em> </p>\n<p> <em>JDK</em>  <em>import</em>  <em>Scanner</em>  <code>System</code>  <code>System</code> </p>\n<p> <em>java.lang</em>  <code>import</code>  <em>java.lang</em> </p>\n<p></p>\n<p><code>*</code></p>\n<pre class=\" language-java\"><code class=\"language-java\"><span class=\"token keyword\">import</span> java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span>*</code></pre>\n<p><code>java.util</code></p>\n<p><code>*</code><code>*</code></p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p> <code>package</code>  <code>import</code> </p>\n<script>\n        document.querySelectorAll('.github-emoji')\n          .forEach(el => {\n            if (!el.dataset.src) { return; }\n            const img = document.createElement('img');\n            img.style = 'display:none !important;';\n            img.src = el.dataset.src;\n            img.addEventListener('error', () => {\n              img.remove();\n              el.style.color = 'inherit';\n              el.style.backgroundImage = 'none';\n              el.style.background = 'none';\n            });\n            img.addEventListener('load', () => {\n              img.remove();\n            });\n            document.body.appendChild(img);\n          });\n      </script>","site":{"data":{"friends":[{"avatar":"https://draveness.me/images/draven-logo.png","name":"","introduction":"","url":"https://draveness.me/","title":""}]}},"excerpt":"","more":"<blockquote>\n<p>   </p>\n</blockquote>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> <code>Java</code> </p>\n<p> <code>Java</code>  <code>package</code>  <code>import</code> </p>\n<p></p>\n<h2 id=\"-package\"><a href=\"#-package\" class=\"headerlink\" title=\" package\"></a> package</h2><p> <code>SimpleCalculator</code>  <code>SimpleCalculator.java</code></p>\n<p></p>\n<pre><code class=\"java\">package hello;</code></pre>\n<p> <code>hello</code> </p>\n<h2 id=\"package\"><a href=\"#package\" class=\"headerlink\" title=\"package\"></a>package</h2><p> <code>package</code> </p>\n<p> <code>package</code> </p>\n<p><code>package</code>  <code>Java</code> </p>\n<h2 id=\"package\"><a href=\"#package\" class=\"headerlink\" title=\"package\"></a>package</h2><p></p>\n<p><code>package</code> <code>.//..</code><em>indi</em><em>onem</em><em>pers</em><em>priv</em><em>team</em><em>com</em></p>\n<p></p>\n<p><em>com.frank.hello.controller<em></em>frank<em></em>frank.com<em></em>hello</em> <em>controller</em> </p>\n<p></p>\n<p>ok</p>\n<h2 id=\"package\"><a href=\"#package\" class=\"headerlink\" title=\"package\"></a>package</h2><ol>\n<li><code>package</code> </li>\n<li><code>package</code> </li>\n<li><code>package</code> </li>\n<li><code>package</code> <code>.</code><code>package com.frank.hello;</code>com<em>frank</em>  <em>com</em> <em>hello</em>  <em>frank</em> </li>\n<li></li>\n<li> <em>package* *java</em> (java.lang)</li>\n</ol>\n<h2 id=\"import\"><a href=\"#import\" class=\"headerlink\" title=\"import\"></a>import</h2><p> <code>SimpleCalculator</code> </p>\n<pre><code class=\"java\">import java.util.Scanner;</code></pre>\n<p> <code>import</code> </p>\n<p><code>import</code>  <em>java</em> </p>\n<p> <em>JDK</em>  <em>import</em>  <em>Scanner</em>  <code>System</code>  <code>System</code> </p>\n<p> <em>java.lang</em>  <code>import</code>  <em>java.lang</em> </p>\n<p></p>\n<p><code>*</code></p>\n<pre><code class=\"java\">import java.util.*</code></pre>\n<p><code>java.util</code></p>\n<p><code>*</code><code>*</code></p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p> <code>package</code>  <code>import</code> </p>\n"},{"title":"JavaJava ","toc":true,"date":"2020-05-03T16:25:05.000Z","_content":"\n# Java \n\n>**Sometimes we stare so long at a door that is closing that we see too late the one that is open.**\n>\n> Alexander Graham Bell, Inventor\n>\n>****  ()\n\n## \n\n`Java` ```` `Java` \n\n `Java` ````\n\n\n\n## \n\n****Object Oriented Programming OOP*Java*++OOP++*Java*\n\n********\n\n\n\n>  +  = \n\n\n\nOOP\n\n100010010101000\n\n## Java\n\n\n\n\n\n\n\n> \n\n\n\n## \n\n\n\n```java\npublic class Person{\n    private String name;\n    private int age;\n    \n    public Person(String name, int age){\n        this.name = name;\n        this.age = age;\n    }\n    \n    public void eat(){\n        System.out.println(\"...\");\n    }\n    \n    public void say(){\n        System.out.println(\"\" + name + \"\" + age + \"\");\n    }\n}\n```\n\n`Person``name``age`Person\n\n\n\n```java\npublic class Person{\n\t...\n}\n```\n\n\n\n> [] + class + [] \n\n`public`\n\n`class``Java` \n\n$Java*SmallCar**SecondhandBook*\n\n## \n\nPerson\n\n```java\nprivate String name;\nprivate int age;\n```\n\nPersonPerson`name``age`\n\n\n\n> [] + [] + []\n\n\n\n> [] + [] + []\n\n```java\npublic void eat(){\n    System.out.println(\"...\");\n}\n\npublic void say(){\n    System.out.println(\"\" + name + \"\" + age + \"\");\n}\n```\n\n`void``a1``a2`\n\n\n\n```java\npublic Person(String name, int age){\n    this.name = name;\n    this.age = age;\n}\n```\n\n****`String``int``name``age``this``this.name``this.age`\n\n## \n\n`new`*Person*main*main**Person*\n\n```java\npublic class Person {\n    ...\n\n    public static void main(String[] args){\n        Person alice = new Person(\"Alice\", 18);\n        alice.say();\n        alice.eat();\n    }\n}\n```\n\n\n\n```bash\nAlice18\n...\n```\n\n`new`\n\n```java\nPerson alice = new Person(\"Alice\", 18);\n```\n\n\n\n> [] + []\n\n*Person**alice*`Alice``18`*alice*\n\n`say``eat`\n\n> [] +  + [] + []\n\n```java\nalice.say();\nalice.eat();\n```\n\n\n\n# \n\n\n\n","source":"_posts/java/basic/java-class.md","raw":"---\ntitle: JavaJava \ntags:\n  - Java\n  - Java\ncategories:\n  - \ntoc: true\ndate: 2020-05-04 00:25:05\n---\n\n# Java \n\n>**Sometimes we stare so long at a door that is closing that we see too late the one that is open.**\n>\n> Alexander Graham Bell, Inventor\n>\n>****  ()\n\n## \n\n`Java` ```` `Java` \n\n `Java` ````\n\n\n\n## \n\n****Object Oriented Programming OOP*Java*++OOP++*Java*\n\n********\n\n\n\n>  +  = \n\n\n\nOOP\n\n100010010101000\n\n## Java\n\n\n\n\n\n\n\n> \n\n\n\n## \n\n\n\n```java\npublic class Person{\n    private String name;\n    private int age;\n    \n    public Person(String name, int age){\n        this.name = name;\n        this.age = age;\n    }\n    \n    public void eat(){\n        System.out.println(\"...\");\n    }\n    \n    public void say(){\n        System.out.println(\"\" + name + \"\" + age + \"\");\n    }\n}\n```\n\n`Person``name``age`Person\n\n\n\n```java\npublic class Person{\n\t...\n}\n```\n\n\n\n> [] + class + [] \n\n`public`\n\n`class``Java` \n\n$Java*SmallCar**SecondhandBook*\n\n## \n\nPerson\n\n```java\nprivate String name;\nprivate int age;\n```\n\nPersonPerson`name``age`\n\n\n\n> [] + [] + []\n\n\n\n> [] + [] + []\n\n```java\npublic void eat(){\n    System.out.println(\"...\");\n}\n\npublic void say(){\n    System.out.println(\"\" + name + \"\" + age + \"\");\n}\n```\n\n`void``a1``a2`\n\n\n\n```java\npublic Person(String name, int age){\n    this.name = name;\n    this.age = age;\n}\n```\n\n****`String``int``name``age``this``this.name``this.age`\n\n## \n\n`new`*Person*main*main**Person*\n\n```java\npublic class Person {\n    ...\n\n    public static void main(String[] args){\n        Person alice = new Person(\"Alice\", 18);\n        alice.say();\n        alice.eat();\n    }\n}\n```\n\n\n\n```bash\nAlice18\n...\n```\n\n`new`\n\n```java\nPerson alice = new Person(\"Alice\", 18);\n```\n\n\n\n> [] + []\n\n*Person**alice*`Alice``18`*alice*\n\n`say``eat`\n\n> [] +  + [] + []\n\n```java\nalice.say();\nalice.eat();\n```\n\n\n\n# \n\n\n\n","slug":"java/basic/java-class","published":1,"updated":"2020-05-03T16:25:05.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cl70rsfg900355ohu6io7ermn","content":"<h1 id=\"Java-\"><a href=\"#Java-\" class=\"headerlink\" title=\"Java \"></a>Java </h1><blockquote>\n<p><strong>Sometimes we stare so long at a door that is closing that we see too late the one that is open.</strong></p>\n<p> Alexander Graham Bell, Inventor</p>\n<p><strong></strong>  ()</p>\n</blockquote>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><code>Java</code> <code></code><code></code> <code>Java</code> </p>\n<p> <code>Java</code> <code></code><code></code></p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><strong></strong>Object Oriented Programming OOP<em>Java</em>++OOP++<em>Java</em></p>\n<p><strong></strong><strong></strong></p>\n<p></p>\n<blockquote>\n<p> +  = </p>\n</blockquote>\n<p></p>\n<p>OOP</p>\n<p>100010010101000</p>\n<h2 id=\"Java\"><a href=\"#Java\" class=\"headerlink\" title=\"Java\"></a>Java</h2><p></p>\n<p></p>\n<p></p>\n<blockquote>\n<p></p>\n</blockquote>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<pre class=\" language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Person</span><span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">private</span> String name<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">private</span> <span class=\"token keyword\">int</span> age<span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token function\">Person</span><span class=\"token punctuation\">(</span>String name<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> age<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name<span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>age <span class=\"token operator\">=</span> age<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">eat</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        System<span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"...\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">say</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        System<span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span> <span class=\"token operator\">+</span> name <span class=\"token operator\">+</span> <span class=\"token string\">\"\"</span> <span class=\"token operator\">+</span> age <span class=\"token operator\">+</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p><code>Person</code><code>name</code><code>age</code>Person</p>\n<p></p>\n<pre class=\" language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Person</span><span class=\"token punctuation\">{</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p></p>\n<blockquote>\n<p>[] + class + [] </p>\n</blockquote>\n<p><code>public</code></p>\n<p><code>class</code><code>Java</code> </p>\n<p>$Java<em>SmallCar</em><em>SecondhandBook</em></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Person</p>\n<pre class=\" language-java\"><code class=\"language-java\"><span class=\"token keyword\">private</span> String name<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">private</span> <span class=\"token keyword\">int</span> age<span class=\"token punctuation\">;</span></code></pre>\n<p>PersonPerson<code>name</code><code>age</code></p>\n<p></p>\n<blockquote>\n<p>[] + [] + []</p>\n</blockquote>\n<p></p>\n<blockquote>\n<p>[] + [] + []</p>\n</blockquote>\n<pre class=\" language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">eat</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    System<span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"...\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">say</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    System<span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span> <span class=\"token operator\">+</span> name <span class=\"token operator\">+</span> <span class=\"token string\">\"\"</span> <span class=\"token operator\">+</span> age <span class=\"token operator\">+</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p><code>void</code><code>a1</code><code>a2</code></p>\n<p></p>\n<pre class=\" language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token function\">Person</span><span class=\"token punctuation\">(</span>String name<span class=\"token punctuation\">,</span> <span class=\"token keyword\">int</span> age<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>age <span class=\"token operator\">=</span> age<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p><strong></strong><code>String</code><code>int</code><code>name</code><code>age</code><code>this</code><code>this.name</code><code>this.age</code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><code>new</code><em>Person</em>main<em>main</em><em>Person</em></p>\n<pre class=\" language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Person</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span>String<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        Person alice <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Person</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Alice\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">18</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        alice<span class=\"token punctuation\">.</span><span class=\"token function\">say</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        alice<span class=\"token punctuation\">.</span><span class=\"token function\">eat</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p></p>\n<pre class=\" language-bash\"><code class=\"language-bash\">Alice18\n<span class=\"token punctuation\">..</span>.</code></pre>\n<p><code>new</code></p>\n<pre class=\" language-java\"><code class=\"language-java\">Person alice <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Person</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Alice\"</span><span class=\"token punctuation\">,</span> <span class=\"token number\">18</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p></p>\n<blockquote>\n<p>[] + []</p>\n</blockquote>\n<p><em>Person</em><em>alice</em><code>Alice</code><code>18</code><em>alice</em></p>\n<p><code>say</code><code>eat</code></p>\n<blockquote>\n<p>[] +  + [] + []</p>\n</blockquote>\n<pre class=\" language-java\"><code class=\"language-java\">alice<span class=\"token punctuation\">.</span><span class=\"token function\">say</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nalice<span class=\"token punctuation\">.</span><span class=\"token function\">eat</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p></p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p></p>\n<p></p>\n<script>\n        document.querySelectorAll('.github-emoji')\n          .forEach(el => {\n            if (!el.dataset.src) { return; }\n            const img = document.createElement('img');\n            img.style = 'display:none !important;';\n            img.src = el.dataset.src;\n            img.addEventListener('error', () => {\n              img.remove();\n              el.style.color = 'inherit';\n              el.style.backgroundImage = 'none';\n              el.style.background = 'none';\n            });\n            img.addEventListener('load', () => {\n              img.remove();\n            });\n            document.body.appendChild(img);\n          });\n      </script>","site":{"data":{"friends":[{"avatar":"https://draveness.me/images/draven-logo.png","name":"","introduction":"","url":"https://draveness.me/","title":""}]}},"excerpt":"","more":"<h1 id=\"Java-\"><a href=\"#Java-\" class=\"headerlink\" title=\"Java \"></a>Java </h1><blockquote>\n<p><strong>Sometimes we stare so long at a door that is closing that we see too late the one that is open.</strong></p>\n<p> Alexander Graham Bell, Inventor</p>\n<p><strong></strong>  ()</p>\n</blockquote>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><code>Java</code> <code></code><code></code> <code>Java</code> </p>\n<p> <code>Java</code> <code></code><code></code></p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><strong></strong>Object Oriented Programming OOP<em>Java</em>++OOP++<em>Java</em></p>\n<p><strong></strong><strong></strong></p>\n<p></p>\n<blockquote>\n<p> +  = </p>\n</blockquote>\n<p></p>\n<p>OOP</p>\n<p>100010010101000</p>\n<h2 id=\"Java\"><a href=\"#Java\" class=\"headerlink\" title=\"Java\"></a>Java</h2><p></p>\n<p></p>\n<p></p>\n<blockquote>\n<p></p>\n</blockquote>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<pre><code class=\"java\">public class Person{\n    private String name;\n    private int age;\n\n    public Person(String name, int age){\n        this.name = name;\n        this.age = age;\n    }\n\n    public void eat(){\n        System.out.println(&quot;...&quot;);\n    }\n\n    public void say(){\n        System.out.println(&quot;&quot; + name + &quot;&quot; + age + &quot;&quot;);\n    }\n}</code></pre>\n<p><code>Person</code><code>name</code><code>age</code>Person</p>\n<p></p>\n<pre><code class=\"java\">public class Person{\n    ...\n}</code></pre>\n<p></p>\n<blockquote>\n<p>[] + class + [] </p>\n</blockquote>\n<p><code>public</code></p>\n<p><code>class</code><code>Java</code> </p>\n<p>$Java<em>SmallCar</em><em>SecondhandBook</em></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Person</p>\n<pre><code class=\"java\">private String name;\nprivate int age;</code></pre>\n<p>PersonPerson<code>name</code><code>age</code></p>\n<p></p>\n<blockquote>\n<p>[] + [] + []</p>\n</blockquote>\n<p></p>\n<blockquote>\n<p>[] + [] + []</p>\n</blockquote>\n<pre><code class=\"java\">public void eat(){\n    System.out.println(&quot;...&quot;);\n}\n\npublic void say(){\n    System.out.println(&quot;&quot; + name + &quot;&quot; + age + &quot;&quot;);\n}</code></pre>\n<p><code>void</code><code>a1</code><code>a2</code></p>\n<p></p>\n<pre><code class=\"java\">public Person(String name, int age){\n    this.name = name;\n    this.age = age;\n}</code></pre>\n<p><strong></strong><code>String</code><code>int</code><code>name</code><code>age</code><code>this</code><code>this.name</code><code>this.age</code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><code>new</code><em>Person</em>main<em>main</em><em>Person</em></p>\n<pre><code class=\"java\">public class Person {\n    ...\n\n    public static void main(String[] args){\n        Person alice = new Person(&quot;Alice&quot;, 18);\n        alice.say();\n        alice.eat();\n    }\n}</code></pre>\n<p></p>\n<pre><code class=\"bash\">Alice18\n...</code></pre>\n<p><code>new</code></p>\n<pre><code class=\"java\">Person alice = new Person(&quot;Alice&quot;, 18);</code></pre>\n<p></p>\n<blockquote>\n<p>[] + []</p>\n</blockquote>\n<p><em>Person</em><em>alice</em><code>Alice</code><code>18</code><em>alice</em></p>\n<p><code>say</code><code>eat</code></p>\n<blockquote>\n<p>[] +  + [] + []</p>\n</blockquote>\n<pre><code class=\"java\">alice.say();\nalice.eat();</code></pre>\n<p></p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p></p>\n<p></p>\n"},{"title":"JavaJava ","toc":true,"date":"2020-05-03T16:25:03.000Z","_content":"\n>No matter how small and unimportant what we are doing may seem, if we do it well, it may soon become the step that will lead us to better things.\t\t\t\t Channing Pollock, Writer\n>\n>\t\t\t\t\t\t\t\t  ()\n\n## \n\n`Java` \n\n `Java` \n\n\n\n## \n\n `Java`  `Java` \n\n\n\n```java\npackage hello;\n\nimport java.util.Scanner;\n\npublic class SimpleCalculator {\n    public static void main(String[] args){\n        System.out.print(\":\");\n        Scanner in = new Scanner(System.in);\n        int a = in.nextInt();\n        System.out.print(\":\");\n        int b = in.nextInt();\n        int sum = a + b;\n        System.out.print(\":\" + sum);\n    }\n}\n```\n\n*Java*\n\n[](../introduction/java-package.md)\n\n```java\npublic class SimpleCalculator {\n    ...\n}\n```\n\n*SimpleCalculator*`public` **`public` `class` \n\n**Java**\n\n```java\npublic static void main(String[] args){\n    ...\n}\n```\n\n*main**class*`public``static``void``main``String[] args`*String*`args`\n\n\n\n`main`*Java*`main``main`\n\n*Java*\n\n```java\nSystem.out.print(\":\");\nScanner in = new Scanner(System.in);\nint a = in.nextInt();\nSystem.out.print(\":\");\nint b = in.nextInt();\nint sum = a + b;\nSystem.out.print(\":\" + sum);\n```\n\n*Java*`System.out.print(...)``System.out``print`\n\n# \n\n*Java**Java**main*","source":"_posts/java/basic/java-simple-structure.md","raw":"---\ntitle: JavaJava \ntags:\n  - Java\n  - Java\ncategories:\n  - \ntoc: true\ndate: 2020-05-04 00:25:03\n---\n\n>No matter how small and unimportant what we are doing may seem, if we do it well, it may soon become the step that will lead us to better things.\t\t\t\t Channing Pollock, Writer\n>\n>\t\t\t\t\t\t\t\t  ()\n\n## \n\n`Java` \n\n `Java` \n\n\n\n## \n\n `Java`  `Java` \n\n\n\n```java\npackage hello;\n\nimport java.util.Scanner;\n\npublic class SimpleCalculator {\n    public static void main(String[] args){\n        System.out.print(\":\");\n        Scanner in = new Scanner(System.in);\n        int a = in.nextInt();\n        System.out.print(\":\");\n        int b = in.nextInt();\n        int sum = a + b;\n        System.out.print(\":\" + sum);\n    }\n}\n```\n\n*Java*\n\n[](../introduction/java-package.md)\n\n```java\npublic class SimpleCalculator {\n    ...\n}\n```\n\n*SimpleCalculator*`public` **`public` `class` \n\n**Java**\n\n```java\npublic static void main(String[] args){\n    ...\n}\n```\n\n*main**class*`public``static``void``main``String[] args`*String*`args`\n\n\n\n`main`*Java*`main``main`\n\n*Java*\n\n```java\nSystem.out.print(\":\");\nScanner in = new Scanner(System.in);\nint a = in.nextInt();\nSystem.out.print(\":\");\nint b = in.nextInt();\nint sum = a + b;\nSystem.out.print(\":\" + sum);\n```\n\n*Java*`System.out.print(...)``System.out``print`\n\n# \n\n*Java**Java**main*","slug":"java/basic/java-simple-structure","published":1,"updated":"2020-05-03T16:25:03.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cl70rsfga00365ohu9ofp7rvh","content":"<blockquote>\n<p>No matter how small and unimportant what we are doing may seem, if we do it well, it may soon become the step that will lead us to better things.                 Channing Pollock, Writer</p>\n<p>                                  ()</p>\n</blockquote>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><code>Java</code> </p>\n<p> <code>Java</code> </p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> <code>Java</code>  <code>Java</code> </p>\n<p></p>\n<pre class=\" language-java\"><code class=\"language-java\"><span class=\"token keyword\">package</span> hello<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span>Scanner<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">SimpleCalculator</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span>String<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        System<span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\":\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        Scanner in <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Scanner</span><span class=\"token punctuation\">(</span>System<span class=\"token punctuation\">.</span>in<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">int</span> a <span class=\"token operator\">=</span> in<span class=\"token punctuation\">.</span><span class=\"token function\">nextInt</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        System<span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\":\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">int</span> b <span class=\"token operator\">=</span> in<span class=\"token punctuation\">.</span><span class=\"token function\">nextInt</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">int</span> sum <span class=\"token operator\">=</span> a <span class=\"token operator\">+</span> b<span class=\"token punctuation\">;</span>\n        System<span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\":\"</span> <span class=\"token operator\">+</span> sum<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p><em>Java</em></p>\n<p><a href=\"../introduction/java-package.md\"></a></p>\n<pre class=\" language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">SimpleCalculator</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p><em>SimpleCalculator</em><code>public</code> <em></em><code>public</code> <code>class</code> </p>\n<p><strong>Java</strong></p>\n<pre class=\" language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span>String<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p><em>main</em><em>class</em><code>public</code><code>static</code><code>void</code><code>main</code><code>String[] args</code><em>String</em><code>args</code></p>\n<p></p>\n<p><code>main</code><em>Java</em><code>main</code><code>main</code></p>\n<p><em>Java</em></p>\n<pre class=\" language-java\"><code class=\"language-java\">System<span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\":\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nScanner in <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Scanner</span><span class=\"token punctuation\">(</span>System<span class=\"token punctuation\">.</span>in<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">int</span> a <span class=\"token operator\">=</span> in<span class=\"token punctuation\">.</span><span class=\"token function\">nextInt</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nSystem<span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\":\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">int</span> b <span class=\"token operator\">=</span> in<span class=\"token punctuation\">.</span><span class=\"token function\">nextInt</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">int</span> sum <span class=\"token operator\">=</span> a <span class=\"token operator\">+</span> b<span class=\"token punctuation\">;</span>\nSystem<span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\":\"</span> <span class=\"token operator\">+</span> sum<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p><em>Java</em><code>System.out.print(...)</code><code>System.out</code><code>print</code></p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p><em>Java</em><em>Java</em><em>main</em></p>\n<script>\n        document.querySelectorAll('.github-emoji')\n          .forEach(el => {\n            if (!el.dataset.src) { return; }\n            const img = document.createElement('img');\n            img.style = 'display:none !important;';\n            img.src = el.dataset.src;\n            img.addEventListener('error', () => {\n              img.remove();\n              el.style.color = 'inherit';\n              el.style.backgroundImage = 'none';\n              el.style.background = 'none';\n            });\n            img.addEventListener('load', () => {\n              img.remove();\n            });\n            document.body.appendChild(img);\n          });\n      </script>","site":{"data":{"friends":[{"avatar":"https://draveness.me/images/draven-logo.png","name":"","introduction":"","url":"https://draveness.me/","title":""}]}},"excerpt":"","more":"<blockquote>\n<p>No matter how small and unimportant what we are doing may seem, if we do it well, it may soon become the step that will lead us to better things.                 Channing Pollock, Writer</p>\n<p>                                  ()</p>\n</blockquote>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><code>Java</code> </p>\n<p> <code>Java</code> </p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> <code>Java</code>  <code>Java</code> </p>\n<p></p>\n<pre><code class=\"java\">package hello;\n\nimport java.util.Scanner;\n\npublic class SimpleCalculator {\n    public static void main(String[] args){\n        System.out.print(&quot;:&quot;);\n        Scanner in = new Scanner(System.in);\n        int a = in.nextInt();\n        System.out.print(&quot;:&quot;);\n        int b = in.nextInt();\n        int sum = a + b;\n        System.out.print(&quot;:&quot; + sum);\n    }\n}</code></pre>\n<p><em>Java</em></p>\n<p><a href=\"../introduction/java-package.md\"></a></p>\n<pre><code class=\"java\">public class SimpleCalculator {\n    ...\n}</code></pre>\n<p><em>SimpleCalculator</em><code>public</code> <em></em><code>public</code> <code>class</code> </p>\n<p><strong>Java</strong></p>\n<pre><code class=\"java\">public static void main(String[] args){\n    ...\n}</code></pre>\n<p><em>main</em><em>class</em><code>public</code><code>static</code><code>void</code><code>main</code><code>String[] args</code><em>String</em><code>args</code></p>\n<p></p>\n<p><code>main</code><em>Java</em><code>main</code><code>main</code></p>\n<p><em>Java</em></p>\n<pre><code class=\"java\">System.out.print(&quot;:&quot;);\nScanner in = new Scanner(System.in);\nint a = in.nextInt();\nSystem.out.print(&quot;:&quot;);\nint b = in.nextInt();\nint sum = a + b;\nSystem.out.print(&quot;:&quot; + sum);</code></pre>\n<p><em>Java</em><code>System.out.print(...)</code><code>System.out</code><code>print</code></p>\n<h1 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h1><p><em>Java</em><em>Java</em><em>main</em></p>\n"},{"title":"JavaJava ","toc":true,"date":"2020-05-03T16:25:04.000Z","_content":"\n>**The superior man makes the difficulty to be overcome his first interest; success comes only later.**\n>\n> William Jennings Bryan\n>\n>****      ()\n\n## \n\n*Java**Java*\n\n\n\n\n\n## \n\n\n\n\n\n### \n\n*Java*\n\n\n\n\n\n```java\npublic static void main(String[] args){\n    System.out.print(\":\");\n    Scanner in = new Scanner(System.in);\n    int a = in.nextInt();\n    System.out.print(\":\");\n    int b = in.nextInt();\n    int sum = a + b;\n    System.out.print(\":\" + sum);\n}\n```\n\n*in**Scanner**a**b**sum**a**b*\n\n\n\n### \n\n\n\n```java\npublic static void main(String[] args){\n    System.out.print(\"\");\n}\n```\n\n\n\n\n\n### \n\n\n\n```java\n[] + []\n```\n\n`int a`  `int` `a` \n\n\n\n`=` *Java*\n\n\n\n```java\npublic static void main(String[] args){\n    int a = 1;\n    System.out.println(\"a\" + a);\n    a = 2;\n    System.out.println(\"a\" + a);\n    a = 3;\n    System.out.println(\"a\" + a);\n    int b;\n    System.out.println(\"b\" + b);\n    b = a;\n    System.out.println(\"b\" + b);\n}\n```\n\n\n\n```java\na1\na2\na3\nb0\nb3\n```\n\n`System.out.println`  `System.out.print` \n\n### \n\n$*Java**Java* `public``static``int``void`\n\n`a1``a2``a3`\n\n*Java*`totalDays``paperWidth`\n\n## \n\nJava","source":"_posts/java/basic/java-variable.md","raw":"---\ntitle: JavaJava \ntags:\n  - Java\n  - Java\ncategories:\n  - \ntoc: true\ndate: 2020-05-04 00:25:04\n---\n\n>**The superior man makes the difficulty to be overcome his first interest; success comes only later.**\n>\n> William Jennings Bryan\n>\n>****      ()\n\n## \n\n*Java**Java*\n\n\n\n\n\n## \n\n\n\n\n\n### \n\n*Java*\n\n\n\n\n\n```java\npublic static void main(String[] args){\n    System.out.print(\":\");\n    Scanner in = new Scanner(System.in);\n    int a = in.nextInt();\n    System.out.print(\":\");\n    int b = in.nextInt();\n    int sum = a + b;\n    System.out.print(\":\" + sum);\n}\n```\n\n*in**Scanner**a**b**sum**a**b*\n\n\n\n### \n\n\n\n```java\npublic static void main(String[] args){\n    System.out.print(\"\");\n}\n```\n\n\n\n\n\n### \n\n\n\n```java\n[] + []\n```\n\n`int a`  `int` `a` \n\n\n\n`=` *Java*\n\n\n\n```java\npublic static void main(String[] args){\n    int a = 1;\n    System.out.println(\"a\" + a);\n    a = 2;\n    System.out.println(\"a\" + a);\n    a = 3;\n    System.out.println(\"a\" + a);\n    int b;\n    System.out.println(\"b\" + b);\n    b = a;\n    System.out.println(\"b\" + b);\n}\n```\n\n\n\n```java\na1\na2\na3\nb0\nb3\n```\n\n`System.out.println`  `System.out.print` \n\n### \n\n$*Java**Java* `public``static``int``void`\n\n`a1``a2``a3`\n\n*Java*`totalDays``paperWidth`\n\n## \n\nJava","slug":"java/basic/java-variable","published":1,"updated":"2020-05-03T16:25:04.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cl70rsfgb00385ohu00jv4gds","content":"<blockquote>\n<p><strong>The superior man makes the difficulty to be overcome his first interest; success comes only later.</strong></p>\n<p> William Jennings Bryan</p>\n<p><strong></strong>      ()</p>\n</blockquote>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><em>Java</em><em>Java</em></p>\n<p></p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><em>Java</em></p>\n<p></p>\n<p></p>\n<pre class=\" language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span>String<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    System<span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\":\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    Scanner in <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Scanner</span><span class=\"token punctuation\">(</span>System<span class=\"token punctuation\">.</span>in<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">int</span> a <span class=\"token operator\">=</span> in<span class=\"token punctuation\">.</span><span class=\"token function\">nextInt</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    System<span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\":\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">int</span> b <span class=\"token operator\">=</span> in<span class=\"token punctuation\">.</span><span class=\"token function\">nextInt</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">int</span> sum <span class=\"token operator\">=</span> a <span class=\"token operator\">+</span> b<span class=\"token punctuation\">;</span>\n    System<span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\":\"</span> <span class=\"token operator\">+</span> sum<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p><em>in</em><em>Scanner</em><em>a</em><em>b</em><em>sum</em><em>a</em><em>b</em></p>\n<p></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<pre class=\" language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span>String<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    System<span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p></p>\n<p></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<pre class=\" language-java\"><code class=\"language-java\"><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">+</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span></code></pre>\n<p><code>int a</code>  <code>int</code> <code>a</code> </p>\n<p></p>\n<p><code>=</code> <em>Java</em></p>\n<p></p>\n<pre class=\" language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span>String<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">int</span> a <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n    System<span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"a\"</span> <span class=\"token operator\">+</span> a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    a <span class=\"token operator\">=</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\n    System<span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"a\"</span> <span class=\"token operator\">+</span> a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    a <span class=\"token operator\">=</span> <span class=\"token number\">3</span><span class=\"token punctuation\">;</span>\n    System<span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"a\"</span> <span class=\"token operator\">+</span> a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">int</span> b<span class=\"token punctuation\">;</span>\n    System<span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"b\"</span> <span class=\"token operator\">+</span> b<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    b <span class=\"token operator\">=</span> a<span class=\"token punctuation\">;</span>\n    System<span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"b\"</span> <span class=\"token operator\">+</span> b<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p></p>\n<pre class=\" language-java\"><code class=\"language-java\">a<span class=\"token number\">1</span>\na<span class=\"token number\">2</span>\na<span class=\"token number\">3</span>\nb<span class=\"token number\">0</span>\nb<span class=\"token number\">3</span></code></pre>\n<p><code>System.out.println</code>  <code>System.out.print</code> </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>$<em>Java</em><em>Java</em> <code>public</code><code>static</code><code>int</code><code>void</code></p>\n<p><code>a1</code><code>a2</code><code>a3</code></p>\n<p><em>Java</em><code>totalDays</code><code>paperWidth</code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Java</p>\n<script>\n        document.querySelectorAll('.github-emoji')\n          .forEach(el => {\n            if (!el.dataset.src) { return; }\n            const img = document.createElement('img');\n            img.style = 'display:none !important;';\n            img.src = el.dataset.src;\n            img.addEventListener('error', () => {\n              img.remove();\n              el.style.color = 'inherit';\n              el.style.backgroundImage = 'none';\n              el.style.background = 'none';\n            });\n            img.addEventListener('load', () => {\n              img.remove();\n            });\n            document.body.appendChild(img);\n          });\n      </script>","site":{"data":{"friends":[{"avatar":"https://draveness.me/images/draven-logo.png","name":"","introduction":"","url":"https://draveness.me/","title":""}]}},"excerpt":"","more":"<blockquote>\n<p><strong>The superior man makes the difficulty to be overcome his first interest; success comes only later.</strong></p>\n<p> William Jennings Bryan</p>\n<p><strong></strong>      ()</p>\n</blockquote>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><em>Java</em><em>Java</em></p>\n<p></p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><em>Java</em></p>\n<p></p>\n<p></p>\n<pre><code class=\"java\">public static void main(String[] args){\n    System.out.print(&quot;:&quot;);\n    Scanner in = new Scanner(System.in);\n    int a = in.nextInt();\n    System.out.print(&quot;:&quot;);\n    int b = in.nextInt();\n    int sum = a + b;\n    System.out.print(&quot;:&quot; + sum);\n}</code></pre>\n<p><em>in</em><em>Scanner</em><em>a</em><em>b</em><em>sum</em><em>a</em><em>b</em></p>\n<p></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<pre><code class=\"java\">public static void main(String[] args){\n    System.out.print(&quot;&quot;);\n}</code></pre>\n<p></p>\n<p></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<pre><code class=\"java\">[] + []</code></pre>\n<p><code>int a</code>  <code>int</code> <code>a</code> </p>\n<p></p>\n<p><code>=</code> <em>Java</em></p>\n<p></p>\n<pre><code class=\"java\">public static void main(String[] args){\n    int a = 1;\n    System.out.println(&quot;a&quot; + a);\n    a = 2;\n    System.out.println(&quot;a&quot; + a);\n    a = 3;\n    System.out.println(&quot;a&quot; + a);\n    int b;\n    System.out.println(&quot;b&quot; + b);\n    b = a;\n    System.out.println(&quot;b&quot; + b);\n}</code></pre>\n<p></p>\n<pre><code class=\"java\">a1\na2\na3\nb0\nb3</code></pre>\n<p><code>System.out.println</code>  <code>System.out.print</code> </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>$<em>Java</em><em>Java</em> <code>public</code><code>static</code><code>int</code><code>void</code></p>\n<p><code>a1</code><code>a2</code><code>a3</code></p>\n<p><em>Java</em><code>totalDays</code><code>paperWidth</code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Java</p>\n"},{"title":"JavaJavaMac","toc":true,"date":"2020-05-01T14:33:04.000Z","_content":"\n>  --\n\n## \n\n\n\n1. `Oracle`  `JDK` ( `JDK1.8`)\n\n2.\n\n3.\n\n4. `JDK` \n\n `JDK1.8`[](https://blog.csdn.net/deliciousion/article/details/78046007)\n\n## JDK8\n\n `Oracle`  `JDK1.8` \n\nhttps://www.oracle.com/index.html\n\n`Oracle` \n\n![1-jdk-mac.png](https://i.loli.net/2020/05/02/munYUqTkJg5IxDR.png)\n\nDownload Java for Developers\n\n![2-jdk-mac.png](https://i.loli.net/2020/05/02/GOvJdf7zLWrTCEb.png)\n\n `JDK1.8`  `JDK1.8`  `NetBeans`  `JAVA IDE`\n\n![3-jdk-mac.png](https://i.loli.net/2020/05/02/FakO2WjeMR1hi79.png)\n\nAccept License Agreement `JDK` MAC OS X\n\n![4-jdk-mac.png](https://i.loli.net/2020/05/02/I3XBT1vUJQGHDcK.png)\n\n## JDK\n\ndmg `jdk-8u144-macosx-x64.dmg`  `Java 8`  `144`  `JDK`\n\n![5-jdk-mac.png](https://i.loli.net/2020/05/02/PSbdcZGVfY1n4Oz.png)\n\n `dmg` \n\n![6-jdk-mac.png](https://i.loli.net/2020/05/02/bDiVGkgKOrQJS5w.png)\n\n `pkg` \n\n![7-jdk-mac.png](https://i.loli.net/2020/05/02/kMa9bSmKOY2seFD.png)\n\n![9-jdk-mac.png](https://i.loli.net/2020/05/02/ICbJmudG73f52lx.png)\n\n![10-jdk-mac.png](https://i.loli.net/2020/05/02/e92Dx1XPzBI5WVO.png)\n\n## \n\n `JDK1.8`  `terminal`  `JAVA`  `JDK1.8` \n\n `JDK`  `JDK`  `JDK1.8`\n\n```bash\n/Library/Java/JavaVirtualMachines\n```\n\n![11-jdk-mac.png](https://i.loli.net/2020/05/02/ewjVCx6Wdiz7hE5.png)\n\n `MAC`  `WINDOWS`  `JDK`\n\n```bash\n/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home\n```\n\n `terminal`  `home`  `cd` \n\n![12-jdk-mac.png](https://i.loli.net/2020/05/02/bFOD8ViUStJYdBW.png)\n\n `vim .bash_profile` \n\n![13-jdk-mac.png](https://i.loli.net/2020/05/02/u51VTvULm6HtJcn.png)\n\n `vim` `i`  `ESC` :wq\n\n![14-jdk-mac.png](https://i.loli.net/2020/05/02/93vEFplMf4Vjg8O.png)\n\n\n\n```bash\nexport JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_45.jdk/Contents/Home\n```\n\n `jdk1.8.0_45`  `JDK`  `/Library/Java/JavaVirtualMachines/` \n\n## JDK1.8\n\n `java`,\n\n![15-jdk-mac.png](https://i.loli.net/2020/05/02/S3X7JwZfONlvqsM.png)\n\n `java -version`\n\n![16-jdk-mac.png](https://i.loli.net/2020/05/02/zlKysIfgXDL1E4C.png)\n\n `JDK` \n\n[//]: # (![]&#40;https://i.loli.net/2020/05/02/AfHOY5RXge9tlVo.png&#41;)\n","source":"_posts/java/introduction/java-environment-mac.md","raw":"---\ntitle: JavaJavaMac\ntags:\n  - Java\n  - Java\n  - \ncategories:\n  - \ntoc: true\ndate: 2020-05-01 22:33:04\n---\n\n>  --\n\n## \n\n\n\n1. `Oracle`  `JDK` ( `JDK1.8`)\n\n2.\n\n3.\n\n4. `JDK` \n\n `JDK1.8`[](https://blog.csdn.net/deliciousion/article/details/78046007)\n\n## JDK8\n\n `Oracle`  `JDK1.8` \n\nhttps://www.oracle.com/index.html\n\n`Oracle` \n\n![1-jdk-mac.png](https://i.loli.net/2020/05/02/munYUqTkJg5IxDR.png)\n\nDownload Java for Developers\n\n![2-jdk-mac.png](https://i.loli.net/2020/05/02/GOvJdf7zLWrTCEb.png)\n\n `JDK1.8`  `JDK1.8`  `NetBeans`  `JAVA IDE`\n\n![3-jdk-mac.png](https://i.loli.net/2020/05/02/FakO2WjeMR1hi79.png)\n\nAccept License Agreement `JDK` MAC OS X\n\n![4-jdk-mac.png](https://i.loli.net/2020/05/02/I3XBT1vUJQGHDcK.png)\n\n## JDK\n\ndmg `jdk-8u144-macosx-x64.dmg`  `Java 8`  `144`  `JDK`\n\n![5-jdk-mac.png](https://i.loli.net/2020/05/02/PSbdcZGVfY1n4Oz.png)\n\n `dmg` \n\n![6-jdk-mac.png](https://i.loli.net/2020/05/02/bDiVGkgKOrQJS5w.png)\n\n `pkg` \n\n![7-jdk-mac.png](https://i.loli.net/2020/05/02/kMa9bSmKOY2seFD.png)\n\n![9-jdk-mac.png](https://i.loli.net/2020/05/02/ICbJmudG73f52lx.png)\n\n![10-jdk-mac.png](https://i.loli.net/2020/05/02/e92Dx1XPzBI5WVO.png)\n\n## \n\n `JDK1.8`  `terminal`  `JAVA`  `JDK1.8` \n\n `JDK`  `JDK`  `JDK1.8`\n\n```bash\n/Library/Java/JavaVirtualMachines\n```\n\n![11-jdk-mac.png](https://i.loli.net/2020/05/02/ewjVCx6Wdiz7hE5.png)\n\n `MAC`  `WINDOWS`  `JDK`\n\n```bash\n/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home\n```\n\n `terminal`  `home`  `cd` \n\n![12-jdk-mac.png](https://i.loli.net/2020/05/02/bFOD8ViUStJYdBW.png)\n\n `vim .bash_profile` \n\n![13-jdk-mac.png](https://i.loli.net/2020/05/02/u51VTvULm6HtJcn.png)\n\n `vim` `i`  `ESC` :wq\n\n![14-jdk-mac.png](https://i.loli.net/2020/05/02/93vEFplMf4Vjg8O.png)\n\n\n\n```bash\nexport JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_45.jdk/Contents/Home\n```\n\n `jdk1.8.0_45`  `JDK`  `/Library/Java/JavaVirtualMachines/` \n\n## JDK1.8\n\n `java`,\n\n![15-jdk-mac.png](https://i.loli.net/2020/05/02/S3X7JwZfONlvqsM.png)\n\n `java -version`\n\n![16-jdk-mac.png](https://i.loli.net/2020/05/02/zlKysIfgXDL1E4C.png)\n\n `JDK` \n\n[//]: # (![]&#40;https://i.loli.net/2020/05/02/AfHOY5RXge9tlVo.png&#41;)\n","slug":"java/introduction/java-environment-mac","published":1,"updated":"2020-05-01T14:33:04.000Z","_id":"cl70rsfgc003b5ohug4bv93mx","comments":1,"layout":"post","photos":[],"link":"","content":"<blockquote>\n<p> </p>\n</blockquote>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p>1. <code>Oracle</code>  <code>JDK</code> ( <code>JDK1.8</code>)</p>\n<p>2.</p>\n<p>3.</p>\n<p>4. <code>JDK</code> </p>\n<p> <code>JDK1.8</code><a href=\"https://blog.csdn.net/deliciousion/article/details/78046007\" target=\"_blank\" rel=\"noopener\"></a></p>\n<h2 id=\"JDK8\"><a href=\"#JDK8\" class=\"headerlink\" title=\"JDK8\"></a>JDK8</h2><p> <code>Oracle</code>  <code>JDK1.8</code> </p>\n<p><a href=\"https://www.oracle.com/index.html\" target=\"_blank\" rel=\"noopener\">https://www.oracle.com/index.html</a></p>\n<p><code>Oracle</code> </p>\n<p><img src=\"https://i.loli.net/2020/05/02/munYUqTkJg5IxDR.png\" alt=\"1-jdk-mac.png\"></p>\n<p>Download Java for Developers</p>\n<p><img src=\"https://i.loli.net/2020/05/02/GOvJdf7zLWrTCEb.png\" alt=\"2-jdk-mac.png\"></p>\n<p> <code>JDK1.8</code>  <code>JDK1.8</code>  <code>NetBeans</code>  <code>JAVA IDE</code></p>\n<p><img src=\"https://i.loli.net/2020/05/02/FakO2WjeMR1hi79.png\" alt=\"3-jdk-mac.png\"></p>\n<p>Accept License Agreement <code>JDK</code> MAC OS X</p>\n<p><img src=\"https://i.loli.net/2020/05/02/I3XBT1vUJQGHDcK.png\" alt=\"4-jdk-mac.png\"></p>\n<h2 id=\"JDK\"><a href=\"#JDK\" class=\"headerlink\" title=\"JDK\"></a>JDK</h2><p>dmg <code>jdk-8u144-macosx-x64.dmg</code>  <code>Java 8</code>  <code>144</code>  <code>JDK</code></p>\n<p><img src=\"https://i.loli.net/2020/05/02/PSbdcZGVfY1n4Oz.png\" alt=\"5-jdk-mac.png\"></p>\n<p> <code>dmg</code> </p>\n<p><img src=\"https://i.loli.net/2020/05/02/bDiVGkgKOrQJS5w.png\" alt=\"6-jdk-mac.png\"></p>\n<p> <code>pkg</code> </p>\n<p><img src=\"https://i.loli.net/2020/05/02/kMa9bSmKOY2seFD.png\" alt=\"7-jdk-mac.png\"></p>\n<p><img src=\"https://i.loli.net/2020/05/02/ICbJmudG73f52lx.png\" alt=\"9-jdk-mac.png\"></p>\n<p><img src=\"https://i.loli.net/2020/05/02/e92Dx1XPzBI5WVO.png\" alt=\"10-jdk-mac.png\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> <code>JDK1.8</code>  <code>terminal</code>  <code>JAVA</code>  <code>JDK1.8</code> </p>\n<p> <code>JDK</code>  <code>JDK</code>  <code>JDK1.8</code></p>\n<pre class=\" language-bash\"><code class=\"language-bash\">/Library/Java/JavaVirtualMachines</code></pre>\n<p><img src=\"https://i.loli.net/2020/05/02/ewjVCx6Wdiz7hE5.png\" alt=\"11-jdk-mac.png\"></p>\n<p> <code>MAC</code>  <code>WINDOWS</code>  <code>JDK</code></p>\n<pre class=\" language-bash\"><code class=\"language-bash\">/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home</code></pre>\n<p> <code>terminal</code>  <code>home</code>  <code>cd</code> </p>\n<p><img src=\"https://i.loli.net/2020/05/02/bFOD8ViUStJYdBW.png\" alt=\"12-jdk-mac.png\"></p>\n<p> <code>vim .bash_profile</code> </p>\n<p><img src=\"https://i.loli.net/2020/05/02/u51VTvULm6HtJcn.png\" alt=\"13-jdk-mac.png\"></p>\n<p> <code>vim</code> <code>i</code>  <code>ESC</code> :wq</p>\n<p><img src=\"https://i.loli.net/2020/05/02/93vEFplMf4Vjg8O.png\" alt=\"14-jdk-mac.png\"></p>\n<p></p>\n<pre class=\" language-bash\"><code class=\"language-bash\"><span class=\"token function\">export</span> JAVA_HOME<span class=\"token operator\">=</span>/Library/Java/JavaVirtualMachines/jdk1.8.0_45.jdk/Contents/Home</code></pre>\n<p> <code>jdk1.8.0_45</code>  <code>JDK</code>  <code>/Library/Java/JavaVirtualMachines/</code> </p>\n<h2 id=\"JDK1-8\"><a href=\"#JDK1-8\" class=\"headerlink\" title=\"JDK1.8\"></a>JDK1.8</h2><p> <code>java</code>,</p>\n<p><img src=\"https://i.loli.net/2020/05/02/S3X7JwZfONlvqsM.png\" alt=\"15-jdk-mac.png\"></p>\n<p> <code>java -version</code></p>\n<p><img src=\"https://i.loli.net/2020/05/02/zlKysIfgXDL1E4C.png\" alt=\"16-jdk-mac.png\"></p>\n<p> <code>JDK</code> </p>\n<script>\n        document.querySelectorAll('.github-emoji')\n          .forEach(el => {\n            if (!el.dataset.src) { return; }\n            const img = document.createElement('img');\n            img.style = 'display:none !important;';\n            img.src = el.dataset.src;\n            img.addEventListener('error', () => {\n              img.remove();\n              el.style.color = 'inherit';\n              el.style.backgroundImage = 'none';\n              el.style.background = 'none';\n            });\n            img.addEventListener('load', () => {\n              img.remove();\n            });\n            document.body.appendChild(img);\n          });\n      </script>","site":{"data":{"friends":[{"avatar":"http://43.142.191.46:8080/crmebimage/public/operation/2022/08/19/e4c5aacf44c44157ac8381896a4f33bfiwjztayaan.png","name":"","introduction":"","url":"http://43.142.191.46:9527/","title":""},{"avatar":"http://43.142.191.46:8080/crmebimage/public/operation/2022/08/19/e4c5aacf44c44157ac8381896a4f33bfiwjztayaan.png","name":"RabbitMQ","introduction":"","url":"http://43.142.191.46:15672/","title":""}]}},"excerpt":"","more":"<blockquote>\n<p> </p>\n</blockquote>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p>1. <code>Oracle</code>  <code>JDK</code> ( <code>JDK1.8</code>)</p>\n<p>2.</p>\n<p>3.</p>\n<p>4. <code>JDK</code> </p>\n<p> <code>JDK1.8</code><a href=\"https://blog.csdn.net/deliciousion/article/details/78046007\" target=\"_blank\" rel=\"noopener\"></a></p>\n<h2 id=\"JDK8\"><a href=\"#JDK8\" class=\"headerlink\" title=\"JDK8\"></a>JDK8</h2><p> <code>Oracle</code>  <code>JDK1.8</code> </p>\n<p><a href=\"https://www.oracle.com/index.html\" target=\"_blank\" rel=\"noopener\">https://www.oracle.com/index.html</a></p>\n<p><code>Oracle</code> </p>\n<p><img src=\"https://i.loli.net/2020/05/02/munYUqTkJg5IxDR.png\" alt=\"1-jdk-mac.png\"></p>\n<p>Download Java for Developers</p>\n<p><img src=\"https://i.loli.net/2020/05/02/GOvJdf7zLWrTCEb.png\" alt=\"2-jdk-mac.png\"></p>\n<p> <code>JDK1.8</code>  <code>JDK1.8</code>  <code>NetBeans</code>  <code>JAVA IDE</code></p>\n<p><img src=\"https://i.loli.net/2020/05/02/FakO2WjeMR1hi79.png\" alt=\"3-jdk-mac.png\"></p>\n<p>Accept License Agreement <code>JDK</code> MAC OS X</p>\n<p><img src=\"https://i.loli.net/2020/05/02/I3XBT1vUJQGHDcK.png\" alt=\"4-jdk-mac.png\"></p>\n<h2 id=\"JDK\"><a href=\"#JDK\" class=\"headerlink\" title=\"JDK\"></a>JDK</h2><p>dmg <code>jdk-8u144-macosx-x64.dmg</code>  <code>Java 8</code>  <code>144</code>  <code>JDK</code></p>\n<p><img src=\"https://i.loli.net/2020/05/02/PSbdcZGVfY1n4Oz.png\" alt=\"5-jdk-mac.png\"></p>\n<p> <code>dmg</code> </p>\n<p><img src=\"https://i.loli.net/2020/05/02/bDiVGkgKOrQJS5w.png\" alt=\"6-jdk-mac.png\"></p>\n<p> <code>pkg</code> </p>\n<p><img src=\"https://i.loli.net/2020/05/02/kMa9bSmKOY2seFD.png\" alt=\"7-jdk-mac.png\"></p>\n<p><img src=\"https://i.loli.net/2020/05/02/ICbJmudG73f52lx.png\" alt=\"9-jdk-mac.png\"></p>\n<p><img src=\"https://i.loli.net/2020/05/02/e92Dx1XPzBI5WVO.png\" alt=\"10-jdk-mac.png\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> <code>JDK1.8</code>  <code>terminal</code>  <code>JAVA</code>  <code>JDK1.8</code> </p>\n<p> <code>JDK</code>  <code>JDK</code>  <code>JDK1.8</code></p>\n<pre><code class=\"bash\">/Library/Java/JavaVirtualMachines</code></pre>\n<p><img src=\"https://i.loli.net/2020/05/02/ewjVCx6Wdiz7hE5.png\" alt=\"11-jdk-mac.png\"></p>\n<p> <code>MAC</code>  <code>WINDOWS</code>  <code>JDK</code></p>\n<pre><code class=\"bash\">/Library/Java/JavaVirtualMachines/jdk1.8.0_144.jdk/Contents/Home</code></pre>\n<p> <code>terminal</code>  <code>home</code>  <code>cd</code> </p>\n<p><img src=\"https://i.loli.net/2020/05/02/bFOD8ViUStJYdBW.png\" alt=\"12-jdk-mac.png\"></p>\n<p> <code>vim .bash_profile</code> </p>\n<p><img src=\"https://i.loli.net/2020/05/02/u51VTvULm6HtJcn.png\" alt=\"13-jdk-mac.png\"></p>\n<p> <code>vim</code> <code>i</code>  <code>ESC</code> :wq</p>\n<p><img src=\"https://i.loli.net/2020/05/02/93vEFplMf4Vjg8O.png\" alt=\"14-jdk-mac.png\"></p>\n<p></p>\n<pre><code class=\"bash\">export JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_45.jdk/Contents/Home</code></pre>\n<p> <code>jdk1.8.0_45</code>  <code>JDK</code>  <code>/Library/Java/JavaVirtualMachines/</code> </p>\n<h2 id=\"JDK1-8\"><a href=\"#JDK1-8\" class=\"headerlink\" title=\"JDK1.8\"></a>JDK1.8</h2><p> <code>java</code>,</p>\n<p><img src=\"https://i.loli.net/2020/05/02/S3X7JwZfONlvqsM.png\" alt=\"15-jdk-mac.png\"></p>\n<p> <code>java -version</code></p>\n<p><img src=\"https://i.loli.net/2020/05/02/zlKysIfgXDL1E4C.png\" alt=\"16-jdk-mac.png\"></p>\n<p> <code>JDK</code> </p>\n"},{"title":"JavaJavaWindows","toc":true,"date":"2020-05-01T14:33:03.000Z","_content":"\n>  -- \n\n## JDK\n\nhttps://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\n\n![1-jdk-windows.png](https://i.loli.net/2020/05/02/CvASgTp3BQFGlks.png)\n\n## \n\n\n\n|||\n|-|-|\n|JAVA_HOME|JDK|\n|PATH|JDK|\n|CLASSPATH|\n\n### 1-->-->\n\n![2-jdk-windows.png](https://i.loli.net/2020/05/02/KkW2HEcewYmfyLC.png)\n\n### 2-->\n\n![3-jdk-windows.png](https://i.loli.net/2020/05/02/Iybmol7AfZ2JjPV.png)\n\n![4-jdk-windows.png](https://i.loli.net/2020/05/02/iaUDGuIA2dFVLsb.png)\n\n![5-jdk-windows.png](https://i.loli.net/2020/05/02/Fm6WAQtRjKyxPv3.png)\n\n(1)->\"JAVA_HOME\"\"C:/Java/jdk1.8.0_144\"JDK `java8`  \n\n(2)->\"Path\";%JAVA_HOME%/bin;%JAVA_HOME%/jre/bin \n\n(3)->CLASSPATH,.;%JAVA_HOME%/lib;%JAVA_HOME%/lib/dt.jar;%JAVA_HOME%/lib/tools.jar\n\n### 3\n\n `java``javac``java -version`  `JDK` \n\n`java` \n\n![6-jdk-windows.png](https://i.loli.net/2020/05/02/4rDZIYn6yL5lGEp.png)\n\n`javac` \n\n![7-jdk-windows.png](https://i.loli.net/2020/05/02/WagrjY8X9AcwPNI.png)\n\n`java -version` \n\n![8-jdk-windows.png](https://i.loli.net/2020/05/02/wBrWpu7P8KIA1c6.png)\n\n### 4java\n\n----\n\n```java\npublic class Test {\n    public static void main(String[] args) {\n        System.out.println(\"Hello World!\");\n    }\n}\n```\n\n\n\n```bash\nC:\ncd /Users/[]/Desktop\n```\n\n[]C`C:/Users` \n\n `javac Test.java`  `java Test` Hello Java\n\n![9-jdk-windows.png](https://i.loli.net/2020/05/02/InRJXZb54T1veuc.png)\n\n`Java` \n\n[//]: # (![]&#40;https://i.loli.net/2020/05/02/AfHOY5RXge9tlVo.png&#41;)\n","source":"_posts/java/introduction/java-environment-windows.md","raw":"---\ntitle: JavaJavaWindows\ntags:\n  - Java\n  - Java\n  - \ncategories:\n  - \ntoc: true\ndate: 2020-05-01 22:33:03\n---\n\n>  -- \n\n## JDK\n\nhttps://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\n\n![1-jdk-windows.png](https://i.loli.net/2020/05/02/CvASgTp3BQFGlks.png)\n\n## \n\n\n\n|||\n|-|-|\n|JAVA_HOME|JDK|\n|PATH|JDK|\n|CLASSPATH|\n\n### 1-->-->\n\n![2-jdk-windows.png](https://i.loli.net/2020/05/02/KkW2HEcewYmfyLC.png)\n\n### 2-->\n\n![3-jdk-windows.png](https://i.loli.net/2020/05/02/Iybmol7AfZ2JjPV.png)\n\n![4-jdk-windows.png](https://i.loli.net/2020/05/02/iaUDGuIA2dFVLsb.png)\n\n![5-jdk-windows.png](https://i.loli.net/2020/05/02/Fm6WAQtRjKyxPv3.png)\n\n(1)->\"JAVA_HOME\"\"C:/Java/jdk1.8.0_144\"JDK `java8`  \n\n(2)->\"Path\";%JAVA_HOME%/bin;%JAVA_HOME%/jre/bin \n\n(3)->CLASSPATH,.;%JAVA_HOME%/lib;%JAVA_HOME%/lib/dt.jar;%JAVA_HOME%/lib/tools.jar\n\n### 3\n\n `java``javac``java -version`  `JDK` \n\n`java` \n\n![6-jdk-windows.png](https://i.loli.net/2020/05/02/4rDZIYn6yL5lGEp.png)\n\n`javac` \n\n![7-jdk-windows.png](https://i.loli.net/2020/05/02/WagrjY8X9AcwPNI.png)\n\n`java -version` \n\n![8-jdk-windows.png](https://i.loli.net/2020/05/02/wBrWpu7P8KIA1c6.png)\n\n### 4java\n\n----\n\n```java\npublic class Test {\n    public static void main(String[] args) {\n        System.out.println(\"Hello World!\");\n    }\n}\n```\n\n\n\n```bash\nC:\ncd /Users/[]/Desktop\n```\n\n[]C`C:/Users` \n\n `javac Test.java`  `java Test` Hello Java\n\n![9-jdk-windows.png](https://i.loli.net/2020/05/02/InRJXZb54T1veuc.png)\n\n`Java` \n\n[//]: # (![]&#40;https://i.loli.net/2020/05/02/AfHOY5RXge9tlVo.png&#41;)\n","slug":"java/introduction/java-environment-windows","published":1,"updated":"2020-05-01T14:33:03.000Z","_id":"cl70rsfgd003d5ohubtwu2lru","comments":1,"layout":"post","photos":[],"link":"","content":"<blockquote>\n<p>  </p>\n</blockquote>\n<h2 id=\"JDK\"><a href=\"#JDK\" class=\"headerlink\" title=\"JDK\"></a>JDK</h2><p><a href=\"https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\" target=\"_blank\" rel=\"noopener\">https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html</a></p>\n<p><img src=\"https://i.loli.net/2020/05/02/CvASgTp3BQFGlks.png\" alt=\"1-jdk-windows.png\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>JAVA_HOME</td>\n<td>JDK</td>\n</tr>\n<tr>\n<td>PATH</td>\n<td>JDK</td>\n</tr>\n<tr>\n<td>CLASSPATH</td>\n<td></td>\n</tr>\n</tbody></table>\n<h3 id=\"1-gt--gt-\"><a href=\"#1-gt--gt-\" class=\"headerlink\" title=\"1>>\"></a>1&gt;&gt;</h3><p><img src=\"https://i.loli.net/2020/05/02/KkW2HEcewYmfyLC.png\" alt=\"2-jdk-windows.png\"></p>\n<h3 id=\"2-gt-\"><a href=\"#2-gt-\" class=\"headerlink\" title=\"2>\"></a>2&gt;</h3><p><img src=\"https://i.loli.net/2020/05/02/Iybmol7AfZ2JjPV.png\" alt=\"3-jdk-windows.png\"></p>\n<p><img src=\"https://i.loli.net/2020/05/02/iaUDGuIA2dFVLsb.png\" alt=\"4-jdk-windows.png\"></p>\n<p><img src=\"https://i.loli.net/2020/05/02/Fm6WAQtRjKyxPv3.png\" alt=\"5-jdk-windows.png\"></p>\n<p>(1)-&gt;JAVA_HOMEC:/Java/jdk1.8.0_144JDK <code>java8</code>  </p>\n<p>(2)-&gt;Path;%JAVA_HOME%/bin;%JAVA_HOME%/jre/bin </p>\n<p>(3)-&gt;CLASSPATH,.;%JAVA_HOME%/lib;%JAVA_HOME%/lib/dt.jar;%JAVA_HOME%/lib/tools.jar</p>\n<h3 id=\"3\"><a href=\"#3\" class=\"headerlink\" title=\"3\"></a>3</h3><p> <code>java</code><code>javac</code><code>java -version</code>  <code>JDK</code> </p>\n<p><code>java</code> </p>\n<p><img src=\"https://i.loli.net/2020/05/02/4rDZIYn6yL5lGEp.png\" alt=\"6-jdk-windows.png\"></p>\n<p><code>javac</code> </p>\n<p><img src=\"https://i.loli.net/2020/05/02/WagrjY8X9AcwPNI.png\" alt=\"7-jdk-windows.png\"></p>\n<p><code>java -version</code> </p>\n<p><img src=\"https://i.loli.net/2020/05/02/wBrWpu7P8KIA1c6.png\" alt=\"8-jdk-windows.png\"></p>\n<h3 id=\"4java\"><a href=\"#4java\" class=\"headerlink\" title=\"4java\"></a>4java</h3><p></p>\n<pre class=\" language-java\"><code class=\"language-java\"><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Test</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span>String<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        System<span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Hello World!\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p></p>\n<pre class=\" language-bash\"><code class=\"language-bash\">C:\n<span class=\"token function\">cd</span> /Users/<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>/Desktop</code></pre>\n<p>[]C<code>C:/Users</code> </p>\n<p> <code>javac Test.java</code>  <code>java Test</code> Hello Java</p>\n<p><img src=\"https://i.loli.net/2020/05/02/InRJXZb54T1veuc.png\" alt=\"9-jdk-windows.png\"></p>\n<p><code>Java</code> </p>\n<script>\n        document.querySelectorAll('.github-emoji')\n          .forEach(el => {\n            if (!el.dataset.src) { return; }\n            const img = document.createElement('img');\n            img.style = 'display:none !important;';\n            img.src = el.dataset.src;\n            img.addEventListener('error', () => {\n              img.remove();\n              el.style.color = 'inherit';\n              el.style.backgroundImage = 'none';\n              el.style.background = 'none';\n            });\n            img.addEventListener('load', () => {\n              img.remove();\n            });\n            document.body.appendChild(img);\n          });\n      </script>","site":{"data":{"friends":[{"avatar":"http://43.142.191.46:8080/crmebimage/public/operation/2022/08/19/e4c5aacf44c44157ac8381896a4f33bfiwjztayaan.png","name":"","introduction":"","url":"http://43.142.191.46:9527/","title":""},{"avatar":"http://43.142.191.46:8080/crmebimage/public/operation/2022/08/19/e4c5aacf44c44157ac8381896a4f33bfiwjztayaan.png","name":"RabbitMQ","introduction":"","url":"http://43.142.191.46:15672/","title":""}]}},"excerpt":"","more":"<blockquote>\n<p>  </p>\n</blockquote>\n<h2 id=\"JDK\"><a href=\"#JDK\" class=\"headerlink\" title=\"JDK\"></a>JDK</h2><p><a href=\"https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\" target=\"_blank\" rel=\"noopener\">https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html</a></p>\n<p><img src=\"https://i.loli.net/2020/05/02/CvASgTp3BQFGlks.png\" alt=\"1-jdk-windows.png\"></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>JAVA_HOME</td>\n<td>JDK</td>\n</tr>\n<tr>\n<td>PATH</td>\n<td>JDK</td>\n</tr>\n<tr>\n<td>CLASSPATH</td>\n<td></td>\n</tr>\n</tbody></table>\n<h3 id=\"1-gt--gt-\"><a href=\"#1-gt--gt-\" class=\"headerlink\" title=\"1&gt;&gt;\"></a>1&gt;&gt;</h3><p><img src=\"https://i.loli.net/2020/05/02/KkW2HEcewYmfyLC.png\" alt=\"2-jdk-windows.png\"></p>\n<h3 id=\"2-gt-\"><a href=\"#2-gt-\" class=\"headerlink\" title=\"2&gt;\"></a>2&gt;</h3><p><img src=\"https://i.loli.net/2020/05/02/Iybmol7AfZ2JjPV.png\" alt=\"3-jdk-windows.png\"></p>\n<p><img src=\"https://i.loli.net/2020/05/02/iaUDGuIA2dFVLsb.png\" alt=\"4-jdk-windows.png\"></p>\n<p><img src=\"https://i.loli.net/2020/05/02/Fm6WAQtRjKyxPv3.png\" alt=\"5-jdk-windows.png\"></p>\n<p>(1)-&gt;JAVA_HOMEC:/Java/jdk1.8.0_144JDK <code>java8</code>  </p>\n<p>(2)-&gt;Path;%JAVA_HOME%/bin;%JAVA_HOME%/jre/bin </p>\n<p>(3)-&gt;CLASSPATH,.;%JAVA_HOME%/lib;%JAVA_HOME%/lib/dt.jar;%JAVA_HOME%/lib/tools.jar</p>\n<h3 id=\"3\"><a href=\"#3\" class=\"headerlink\" title=\"3\"></a>3</h3><p> <code>java</code><code>javac</code><code>java -version</code>  <code>JDK</code> </p>\n<p><code>java</code> </p>\n<p><img src=\"https://i.loli.net/2020/05/02/4rDZIYn6yL5lGEp.png\" alt=\"6-jdk-windows.png\"></p>\n<p><code>javac</code> </p>\n<p><img src=\"https://i.loli.net/2020/05/02/WagrjY8X9AcwPNI.png\" alt=\"7-jdk-windows.png\"></p>\n<p><code>java -version</code> </p>\n<p><img src=\"https://i.loli.net/2020/05/02/wBrWpu7P8KIA1c6.png\" alt=\"8-jdk-windows.png\"></p>\n<h3 id=\"4java\"><a href=\"#4java\" class=\"headerlink\" title=\"4java\"></a>4java</h3><p></p>\n<pre><code class=\"java\">public class Test {\n    public static void main(String[] args) {\n        System.out.println(&quot;Hello World!&quot;);\n    }\n}</code></pre>\n<p></p>\n<pre><code class=\"bash\">C:\ncd /Users/[]/Desktop</code></pre>\n<p>[]C<code>C:/Users</code> </p>\n<p> <code>javac Test.java</code>  <code>java Test</code> Hello Java</p>\n<p><img src=\"https://i.loli.net/2020/05/02/InRJXZb54T1veuc.png\" alt=\"9-jdk-windows.png\"></p>\n<p><code>Java</code> </p>\n"},{"title":"Java","toc":true,"date":"2020-05-01T14:33:08.000Z","_content":"\n>  -- \n\n## \n\n`Java` \n\n1. `Java` \n2.  `JDK`\n3.  `IDEA`\n4.  `IDEA` \n5.  `IDEA` \n\n`Java` `Java` \n\n `Java` \n\n[//]: # (![]&#40;https://i.loli.net/2020/05/02/AfHOY5RXge9tlVo.png&#41;)\n","source":"_posts/java/introduction/java-primer-conclusion.md","raw":"---\ntitle: Java\ntags:\n  - Java\n  - Java\ncategories:\n  - \ntoc: true\ndate: 2020-05-01 22:33:08\n---\n\n>  -- \n\n## \n\n`Java` \n\n1. `Java` \n2.  `JDK`\n3.  `IDEA`\n4.  `IDEA` \n5.  `IDEA` \n\n`Java` `Java` \n\n `Java` \n\n[//]: # (![]&#40;https://i.loli.net/2020/05/02/AfHOY5RXge9tlVo.png&#41;)\n","slug":"java/introduction/java-primer-conclusion","published":1,"updated":"2020-05-01T14:33:08.000Z","_id":"cl70rsfgg003g5ohucflh3ax5","comments":1,"layout":"post","photos":[],"link":"","content":"<blockquote>\n<p>  </p>\n</blockquote>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><code>Java</code> </p>\n<ol>\n<li><code>Java</code> </li>\n<li> <code>JDK</code></li>\n<li> <code>IDEA</code></li>\n<li> <code>IDEA</code> </li>\n<li> <code>IDEA</code> </li>\n</ol>\n<p><code>Java</code> <code>Java</code> </p>\n<p> <code>Java</code> </p>\n<script>\n        document.querySelectorAll('.github-emoji')\n          .forEach(el => {\n            if (!el.dataset.src) { return; }\n            const img = document.createElement('img');\n            img.style = 'display:none !important;';\n            img.src = el.dataset.src;\n            img.addEventListener('error', () => {\n              img.remove();\n              el.style.color = 'inherit';\n              el.style.backgroundImage = 'none';\n              el.style.background = 'none';\n            });\n            img.addEventListener('load', () => {\n              img.remove();\n            });\n            document.body.appendChild(img);\n          });\n      </script>","site":{"data":{"friends":[{"avatar":"http://43.142.191.46:8080/crmebimage/public/operation/2022/08/19/e4c5aacf44c44157ac8381896a4f33bfiwjztayaan.png","name":"","introduction":"","url":"http://43.142.191.46:9527/","title":""},{"avatar":"http://43.142.191.46:8080/crmebimage/public/operation/2022/08/19/e4c5aacf44c44157ac8381896a4f33bfiwjztayaan.png","name":"RabbitMQ","introduction":"","url":"http://43.142.191.46:15672/","title":""}]}},"excerpt":"","more":"<blockquote>\n<p>  </p>\n</blockquote>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><code>Java</code> </p>\n<ol>\n<li><code>Java</code> </li>\n<li> <code>JDK</code></li>\n<li> <code>IDEA</code></li>\n<li> <code>IDEA</code> </li>\n<li> <code>IDEA</code> </li>\n</ol>\n<p><code>Java</code> <code>Java</code> </p>\n<p> <code>Java</code> </p>\n"},{"title":"JavaJava ","toc":true,"date":"2020-05-01T14:33:06.000Z","_content":"\n>   -- \n\n## \n\n `Java` \n\n\n\n `Java`  `IDE`  `Java IDE`\n\n\n\n## \n\n `Java` \n\n `Java`  `Java` \n\n `Java` `````` `Java`  `QQ```\n\n `Java`  `Java` \n\n `Java`  `Java` \n\n `Java` \n\n\n\nIT\n\n `Java` \n\n\n\n\n\n## \n\n\n\n `Java`  `Java` \n\n`` `boss` ````\n\n``\n\n`````` \n\n``()\n\n``\n\n `Java`  `Java`  `txt`  `Excel` \n\n## \n\n\n\nJava\n\n[//]: # (![]&#40;https://i.loli.net/2020/05/02/AfHOY5RXge9tlVo.png&#41;)\n","source":"_posts/java/introduction/java-introduction.md","raw":"---\ntitle: JavaJava \ntags:\n  - Java\n  - Java\ncategories:\n  - \ntoc: true\ndate: 2020-05-01 22:33:06\n---\n\n>   -- \n\n## \n\n `Java` \n\n\n\n `Java`  `IDE`  `Java IDE`\n\n\n\n## \n\n `Java` \n\n `Java`  `Java` \n\n `Java` `````` `Java`  `QQ```\n\n `Java`  `Java` \n\n `Java`  `Java` \n\n `Java` \n\n\n\nIT\n\n `Java` \n\n\n\n\n\n## \n\n\n\n `Java`  `Java` \n\n`` `boss` ````\n\n``\n\n`````` \n\n``()\n\n``\n\n `Java`  `Java`  `txt`  `Excel` \n\n## \n\n\n\nJava\n\n[//]: # (![]&#40;https://i.loli.net/2020/05/02/AfHOY5RXge9tlVo.png&#41;)\n","slug":"java/introduction/java-introduction","published":1,"updated":"2020-05-01T14:33:06.000Z","_id":"cl70rsfgi003j5ohub2at5aio","comments":1,"layout":"post","photos":[],"link":"","content":"<blockquote>\n<p>   </p>\n</blockquote>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> <code>Java</code> </p>\n<p></p>\n<p> <code>Java</code>  <code>IDE</code>  <code>Java IDE</code></p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> <code>Java</code> </p>\n<p> <code>Java</code>  <code>Java</code> </p>\n<p> <code>Java</code> <code></code><code></code><code></code> <code>Java</code>  <code>QQ</code><code></code></p>\n<p> <code>Java</code>  <code>Java</code> </p>\n<p> <code>Java</code>  <code>Java</code> </p>\n<p> <code>Java</code> </p>\n<p></p>\n<p>IT</p>\n<p> <code>Java</code> </p>\n<p></p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p> <code>Java</code>  <code>Java</code> </p>\n<p><code></code> <code>boss</code> <code></code><code></code></p>\n<p><code></code></p>\n<p><code></code><code></code><code></code> </p>\n<p><code></code>()</p>\n<p><code></code></p>\n<p> <code>Java</code>  <code>Java</code>  <code>txt</code>  <code>Excel</code> </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p>Java</p>\n<script>\n        document.querySelectorAll('.github-emoji')\n          .forEach(el => {\n            if (!el.dataset.src) { return; }\n            const img = document.createElement('img');\n            img.style = 'display:none !important;';\n            img.src = el.dataset.src;\n            img.addEventListener('error', () => {\n              img.remove();\n              el.style.color = 'inherit';\n              el.style.backgroundImage = 'none';\n              el.style.background = 'none';\n            });\n            img.addEventListener('load', () => {\n              img.remove();\n            });\n            document.body.appendChild(img);\n          });\n      </script>","site":{"data":{"friends":[{"avatar":"http://43.142.191.46:8080/crmebimage/public/operation/2022/08/19/e4c5aacf44c44157ac8381896a4f33bfiwjztayaan.png","name":"","introduction":"","url":"http://43.142.191.46:9527/","title":""},{"avatar":"http://43.142.191.46:8080/crmebimage/public/operation/2022/08/19/e4c5aacf44c44157ac8381896a4f33bfiwjztayaan.png","name":"RabbitMQ","introduction":"","url":"http://43.142.191.46:15672/","title":""}]}},"excerpt":"","more":"<blockquote>\n<p>   </p>\n</blockquote>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> <code>Java</code> </p>\n<p></p>\n<p> <code>Java</code>  <code>IDE</code>  <code>Java IDE</code></p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> <code>Java</code> </p>\n<p> <code>Java</code>  <code>Java</code> </p>\n<p> <code>Java</code> <code></code><code></code><code></code> <code>Java</code>  <code>QQ</code><code></code></p>\n<p> <code>Java</code>  <code>Java</code> </p>\n<p> <code>Java</code>  <code>Java</code> </p>\n<p> <code>Java</code> </p>\n<p></p>\n<p>IT</p>\n<p> <code>Java</code> </p>\n<p></p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p> <code>Java</code>  <code>Java</code> </p>\n<p><code></code> <code>boss</code> <code></code><code></code></p>\n<p><code></code></p>\n<p><code></code><code></code><code></code> </p>\n<p><code></code>()</p>\n<p><code></code></p>\n<p> <code>Java</code>  <code>Java</code>  <code>txt</code>  <code>Excel</code> </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p>Java</p>\n"},{"title":"JavaJava","toc":true,"date":"2020-05-01T14:33:02.000Z","_content":"\n> \n\n## \n\n `Java`  `JDK` \n\n`JVM``JRE``JDK`\n\n## JVMJava Virtual Machine\n\n`JVM`  `Java` `Java` \n\n`Java` \t `windows` `linux``mac`\n\n`JVM`  `JVM`  `Java`  `.class` \n\n`JVM` `HotSpot``J9 VM``Zing VM`\n\n## JREJava Runtime Environment\n\n`JRE`  Java `Java`  `JVM` `JVM`  `Java`  `Java` \n\n `JVM`  `class`  `class`  `JVM`  `lib`  `JVM` \n\n `JRE`, `Java`  `JRE` \n\n## JDKJava Development Kit\n\n`JDK`  `Java`  `Java`  `JRE`\n\n## \n\n`JDK`  `JRE` `JRE`  `JVM`  `JDK` \n\n `Java`  `JDK`  `Java` JRE\n\n[//]: # (![]&#40;https://i.loli.net/2020/05/02/AfHOY5RXge9tlVo.png&#41;)\n","source":"_posts/java/introduction/java-environment.md","raw":"---\ntitle: JavaJava\ntags:\n  - Java\n  - Java\n  - \ncategories:\n  - \ntoc: true\ndate: 2020-05-01 22:33:02\n---\n\n> \n\n## \n\n `Java`  `JDK` \n\n`JVM``JRE``JDK`\n\n## JVMJava Virtual Machine\n\n`JVM`  `Java` `Java` \n\n`Java` \t `windows` `linux``mac`\n\n`JVM`  `JVM`  `Java`  `.class` \n\n`JVM` `HotSpot``J9 VM``Zing VM`\n\n## JREJava Runtime Environment\n\n`JRE`  Java `Java`  `JVM` `JVM`  `Java`  `Java` \n\n `JVM`  `class`  `class`  `JVM`  `lib`  `JVM` \n\n `JRE`, `Java`  `JRE` \n\n## JDKJava Development Kit\n\n`JDK`  `Java`  `Java`  `JRE`\n\n## \n\n`JDK`  `JRE` `JRE`  `JVM`  `JDK` \n\n `Java`  `JDK`  `Java` JRE\n\n[//]: # (![]&#40;https://i.loli.net/2020/05/02/AfHOY5RXge9tlVo.png&#41;)\n","slug":"java/introduction/java-environment","published":1,"updated":"2020-05-01T14:33:02.000Z","_id":"cl70rsfgl003n5ohu0hy1axga","comments":1,"layout":"post","photos":[],"link":"","content":"<blockquote>\n<p></p>\n</blockquote>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> <code>Java</code>  <code>JDK</code> </p>\n<p><code>JVM</code><code>JRE</code><code>JDK</code></p>\n<h2 id=\"JVMJava-Virtual-Machine\"><a href=\"#JVMJava-Virtual-Machine\" class=\"headerlink\" title=\"JVMJava Virtual Machine\"></a>JVMJava Virtual Machine</h2><p><code>JVM</code>  <code>Java</code> <code>Java</code> </p>\n<p><code>Java</code>      <code>windows</code> <code>linux</code><code>mac</code></p>\n<p><code>JVM</code>  <code>JVM</code>  <code>Java</code>  <code>.class</code> </p>\n<p><code>JVM</code> <code>HotSpot</code><code>J9 VM</code><code>Zing VM</code></p>\n<h2 id=\"JREJava-Runtime-Environment\"><a href=\"#JREJava-Runtime-Environment\" class=\"headerlink\" title=\"JREJava Runtime Environment\"></a>JREJava Runtime Environment</h2><p><code>JRE</code>  Java <code>Java</code>  <code>JVM</code> <code>JVM</code>  <code>Java</code>  <code>Java</code> </p>\n<p> <code>JVM</code>  <code>class</code>  <code>class</code>  <code>JVM</code>  <code>lib</code>  <code>JVM</code> </p>\n<p> <code>JRE</code>, <code>Java</code>  <code>JRE</code> </p>\n<h2 id=\"JDKJava-Development-Kit\"><a href=\"#JDKJava-Development-Kit\" class=\"headerlink\" title=\"JDKJava Development Kit\"></a>JDKJava Development Kit</h2><p><code>JDK</code>  <code>Java</code>  <code>Java</code>  <code>JRE</code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><code>JDK</code>  <code>JRE</code> <code>JRE</code>  <code>JVM</code>  <code>JDK</code> </p>\n<p> <code>Java</code>  <code>JDK</code>  <code>Java</code> JRE</p>\n<script>\n        document.querySelectorAll('.github-emoji')\n          .forEach(el => {\n            if (!el.dataset.src) { return; }\n            const img = document.createElement('img');\n            img.style = 'display:none !important;';\n            img.src = el.dataset.src;\n            img.addEventListener('error', () => {\n              img.remove();\n              el.style.color = 'inherit';\n              el.style.backgroundImage = 'none';\n              el.style.background = 'none';\n            });\n            img.addEventListener('load', () => {\n              img.remove();\n            });\n            document.body.appendChild(img);\n          });\n      </script>","site":{"data":{"friends":[{"avatar":"http://43.142.191.46:8080/crmebimage/public/operation/2022/08/19/e4c5aacf44c44157ac8381896a4f33bfiwjztayaan.png","name":"","introduction":"","url":"http://43.142.191.46:9527/","title":""},{"avatar":"http://43.142.191.46:8080/crmebimage/public/operation/2022/08/19/e4c5aacf44c44157ac8381896a4f33bfiwjztayaan.png","name":"RabbitMQ","introduction":"","url":"http://43.142.191.46:15672/","title":""}]}},"excerpt":"","more":"<blockquote>\n<p></p>\n</blockquote>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> <code>Java</code>  <code>JDK</code> </p>\n<p><code>JVM</code><code>JRE</code><code>JDK</code></p>\n<h2 id=\"JVMJava-Virtual-Machine\"><a href=\"#JVMJava-Virtual-Machine\" class=\"headerlink\" title=\"JVMJava Virtual Machine\"></a>JVMJava Virtual Machine</h2><p><code>JVM</code>  <code>Java</code> <code>Java</code> </p>\n<p><code>Java</code>      <code>windows</code> <code>linux</code><code>mac</code></p>\n<p><code>JVM</code>  <code>JVM</code>  <code>Java</code>  <code>.class</code> </p>\n<p><code>JVM</code> <code>HotSpot</code><code>J9 VM</code><code>Zing VM</code></p>\n<h2 id=\"JREJava-Runtime-Environment\"><a href=\"#JREJava-Runtime-Environment\" class=\"headerlink\" title=\"JREJava Runtime Environment\"></a>JREJava Runtime Environment</h2><p><code>JRE</code>  Java <code>Java</code>  <code>JVM</code> <code>JVM</code>  <code>Java</code>  <code>Java</code> </p>\n<p> <code>JVM</code>  <code>class</code>  <code>class</code>  <code>JVM</code>  <code>lib</code>  <code>JVM</code> </p>\n<p> <code>JRE</code>, <code>Java</code>  <code>JRE</code> </p>\n<h2 id=\"JDKJava-Development-Kit\"><a href=\"#JDKJava-Development-Kit\" class=\"headerlink\" title=\"JDKJava Development Kit\"></a>JDKJava Development Kit</h2><p><code>JDK</code>  <code>Java</code>  <code>Java</code>  <code>JRE</code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><code>JDK</code>  <code>JRE</code> <code>JRE</code>  <code>JVM</code>  <code>JDK</code> </p>\n<p> <code>Java</code>  <code>JDK</code>  <code>Java</code> JRE</p>\n"},{"title":"JavaJavaIDE","toc":true,"date":"2020-05-01T14:33:05.000Z","_content":"\n>   --\n\n## \n\n `JDK`  `Java` \n\n `IDE` \n\n## IDE\n\n`IDEintegrated development enviroment` ````````\n\n `IDE` \n\n## IDE\n\n ``  `IDE` \n\n\n\n`99```\n\n## IDE\n\n `IDEA` `http://www.jetbrains.com/idea/`\n\n![java-ide-1.png](https://i.loli.net/2020/05/02/P2ZVXphwkvzrTqj.png)\n\n![java-ide-2.png](https://i.loli.net/2020/05/02/amnrtAJkhV87yqb.png)\n\n `ultimate`  `community`  `ultimate` \n\n`http://idea.lanyus.com/` 0.0.0.0 account.jetbrains.com `hosts` [](https://www.baidu.com/s?wd=idea%20%E6%BF%80%E6%B4%BB%E7%A0%81)\n\n\n\n## \n\n`HelloWorld`\n\n![java-ide-3.png](https://i.loli.net/2020/05/02/IvMY16wh5pU9WNE.png)\n\n![java-ide-4.png](https://i.loli.net/2020/05/02/CrWpUA13NszeytF.png)\n\n![java-ide-5.png](https://i.loli.net/2020/05/02/qhDGHiVAOawZk9J.png)\n\nsrcpackagehellopackageHelloWorld\n\n![java-ide-6.png](https://i.loli.net/2020/05/02/MKGcT3CD7t2msRH.png)\n\n![java-ide-7.png](https://i.loli.net/2020/05/02/buyAFqTGB9QjEzU.png)\n\n![java-ide-8.png](https://i.loli.net/2020/05/02/nGU3f2zLcNHlXoT.png)\n\n\n\n```java\npackage hello;\nimport java.lang.System;\n\npublic class HelloWorld {\n    public static void main(String[] args){\n        System.out.println(\"Hello World!\");\n    }\n}\n```\n\n `Run`  `HelloWorld` \n\n![java-ide-9.png](https://i.loli.net/2020/05/02/O8f6ePSNw4BWFph.png)\n\n`IDE` \n\n[//]: # (![]&#40;https://i.loli.net/2020/05/02/AfHOY5RXge9tlVo.png&#41;)\n","source":"_posts/java/introduction/java-ide.md","raw":"---\ntitle: JavaJavaIDE\ntags:\n  - Java\n  - Java\n  - \ncategories:\n  - \ntoc: true\ndate: 2020-05-01 22:33:05\n---\n\n>   --\n\n## \n\n `JDK`  `Java` \n\n `IDE` \n\n## IDE\n\n`IDEintegrated development enviroment` ````````\n\n `IDE` \n\n## IDE\n\n ``  `IDE` \n\n\n\n`99```\n\n## IDE\n\n `IDEA` `http://www.jetbrains.com/idea/`\n\n![java-ide-1.png](https://i.loli.net/2020/05/02/P2ZVXphwkvzrTqj.png)\n\n![java-ide-2.png](https://i.loli.net/2020/05/02/amnrtAJkhV87yqb.png)\n\n `ultimate`  `community`  `ultimate` \n\n`http://idea.lanyus.com/` 0.0.0.0 account.jetbrains.com `hosts` [](https://www.baidu.com/s?wd=idea%20%E6%BF%80%E6%B4%BB%E7%A0%81)\n\n\n\n## \n\n`HelloWorld`\n\n![java-ide-3.png](https://i.loli.net/2020/05/02/IvMY16wh5pU9WNE.png)\n\n![java-ide-4.png](https://i.loli.net/2020/05/02/CrWpUA13NszeytF.png)\n\n![java-ide-5.png](https://i.loli.net/2020/05/02/qhDGHiVAOawZk9J.png)\n\nsrcpackagehellopackageHelloWorld\n\n![java-ide-6.png](https://i.loli.net/2020/05/02/MKGcT3CD7t2msRH.png)\n\n![java-ide-7.png](https://i.loli.net/2020/05/02/buyAFqTGB9QjEzU.png)\n\n![java-ide-8.png](https://i.loli.net/2020/05/02/nGU3f2zLcNHlXoT.png)\n\n\n\n```java\npackage hello;\nimport java.lang.System;\n\npublic class HelloWorld {\n    public static void main(String[] args){\n        System.out.println(\"Hello World!\");\n    }\n}\n```\n\n `Run`  `HelloWorld` \n\n![java-ide-9.png](https://i.loli.net/2020/05/02/O8f6ePSNw4BWFph.png)\n\n`IDE` \n\n[//]: # (![]&#40;https://i.loli.net/2020/05/02/AfHOY5RXge9tlVo.png&#41;)\n","slug":"java/introduction/java-ide","published":1,"updated":"2020-05-01T14:33:05.000Z","_id":"cl70rsfgo003p5ohu82hier9h","comments":1,"layout":"post","photos":[],"link":"","content":"<blockquote>\n<p>  </p>\n</blockquote>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> <code>JDK</code>  <code>Java</code> </p>\n<p> <code>IDE</code> </p>\n<h2 id=\"IDE\"><a href=\"#IDE\" class=\"headerlink\" title=\"IDE\"></a>IDE</h2><p><code>IDEintegrated development enviroment</code> <code></code><code></code><code></code><code></code></p>\n<p> <code>IDE</code> </p>\n<h2 id=\"IDE\"><a href=\"#IDE\" class=\"headerlink\" title=\"IDE\"></a>IDE</h2><p> <code></code>  <code>IDE</code> </p>\n<p></p>\n<p><code>99</code><code></code></p>\n<h2 id=\"IDE\"><a href=\"#IDE\" class=\"headerlink\" title=\"IDE\"></a>IDE</h2><p> <code>IDEA</code> <code>http://www.jetbrains.com/idea/</code></p>\n<p><img src=\"https://i.loli.net/2020/05/02/P2ZVXphwkvzrTqj.png\" alt=\"java-ide-1.png\"></p>\n<p><img src=\"https://i.loli.net/2020/05/02/amnrtAJkhV87yqb.png\" alt=\"java-ide-2.png\"></p>\n<p> <code>ultimate</code>  <code>community</code>  <code>ultimate</code> </p>\n<p><code>http://idea.lanyus.com/</code> 0.0.0.0 account.jetbrains.com <code>hosts</code> <a href=\"https://www.baidu.com/s?wd=idea%20%E6%BF%80%E6%B4%BB%E7%A0%81\" target=\"_blank\" rel=\"noopener\"></a></p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><code>HelloWorld</code></p>\n<p><img src=\"https://i.loli.net/2020/05/02/IvMY16wh5pU9WNE.png\" alt=\"java-ide-3.png\"></p>\n<p><img src=\"https://i.loli.net/2020/05/02/CrWpUA13NszeytF.png\" alt=\"java-ide-4.png\"></p>\n<p><img src=\"https://i.loli.net/2020/05/02/qhDGHiVAOawZk9J.png\" alt=\"java-ide-5.png\"></p>\n<p>srcpackagehellopackageHelloWorld</p>\n<p><img src=\"https://i.loli.net/2020/05/02/MKGcT3CD7t2msRH.png\" alt=\"java-ide-6.png\"></p>\n<p><img src=\"https://i.loli.net/2020/05/02/buyAFqTGB9QjEzU.png\" alt=\"java-ide-7.png\"></p>\n<p><img src=\"https://i.loli.net/2020/05/02/nGU3f2zLcNHlXoT.png\" alt=\"java-ide-8.png\"></p>\n<p></p>\n<pre class=\" language-java\"><code class=\"language-java\"><span class=\"token keyword\">package</span> hello<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> java<span class=\"token punctuation\">.</span>lang<span class=\"token punctuation\">.</span>System<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">HelloWorld</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span>String<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        System<span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Hello World!\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p> <code>Run</code>  <code>HelloWorld</code> </p>\n<p><img src=\"https://i.loli.net/2020/05/02/O8f6ePSNw4BWFph.png\" alt=\"java-ide-9.png\"></p>\n<p><code>IDE</code> </p>\n<script>\n        document.querySelectorAll('.github-emoji')\n          .forEach(el => {\n            if (!el.dataset.src) { return; }\n            const img = document.createElement('img');\n            img.style = 'display:none !important;';\n            img.src = el.dataset.src;\n            img.addEventListener('error', () => {\n              img.remove();\n              el.style.color = 'inherit';\n              el.style.backgroundImage = 'none';\n              el.style.background = 'none';\n            });\n            img.addEventListener('load', () => {\n              img.remove();\n            });\n            document.body.appendChild(img);\n          });\n      </script>","site":{"data":{"friends":[{"avatar":"http://43.142.191.46:8080/crmebimage/public/operation/2022/08/19/e4c5aacf44c44157ac8381896a4f33bfiwjztayaan.png","name":"","introduction":"","url":"http://43.142.191.46:9527/","title":""},{"avatar":"http://43.142.191.46:8080/crmebimage/public/operation/2022/08/19/e4c5aacf44c44157ac8381896a4f33bfiwjztayaan.png","name":"RabbitMQ","introduction":"","url":"http://43.142.191.46:15672/","title":""}]}},"excerpt":"","more":"<blockquote>\n<p>  </p>\n</blockquote>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> <code>JDK</code>  <code>Java</code> </p>\n<p> <code>IDE</code> </p>\n<h2 id=\"IDE\"><a href=\"#IDE\" class=\"headerlink\" title=\"IDE\"></a>IDE</h2><p><code>IDEintegrated development enviroment</code> <code></code><code></code><code></code><code></code></p>\n<p> <code>IDE</code> </p>\n<h2 id=\"IDE\"><a href=\"#IDE\" class=\"headerlink\" title=\"IDE\"></a>IDE</h2><p> <code></code>  <code>IDE</code> </p>\n<p></p>\n<p><code>99</code><code></code></p>\n<h2 id=\"IDE\"><a href=\"#IDE\" class=\"headerlink\" title=\"IDE\"></a>IDE</h2><p> <code>IDEA</code> <code>http://www.jetbrains.com/idea/</code></p>\n<p><img src=\"https://i.loli.net/2020/05/02/P2ZVXphwkvzrTqj.png\" alt=\"java-ide-1.png\"></p>\n<p><img src=\"https://i.loli.net/2020/05/02/amnrtAJkhV87yqb.png\" alt=\"java-ide-2.png\"></p>\n<p> <code>ultimate</code>  <code>community</code>  <code>ultimate</code> </p>\n<p><code>http://idea.lanyus.com/</code> 0.0.0.0 account.jetbrains.com <code>hosts</code> <a href=\"https://www.baidu.com/s?wd=idea%20%E6%BF%80%E6%B4%BB%E7%A0%81\" target=\"_blank\" rel=\"noopener\"></a></p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><code>HelloWorld</code></p>\n<p><img src=\"https://i.loli.net/2020/05/02/IvMY16wh5pU9WNE.png\" alt=\"java-ide-3.png\"></p>\n<p><img src=\"https://i.loli.net/2020/05/02/CrWpUA13NszeytF.png\" alt=\"java-ide-4.png\"></p>\n<p><img src=\"https://i.loli.net/2020/05/02/qhDGHiVAOawZk9J.png\" alt=\"java-ide-5.png\"></p>\n<p>srcpackagehellopackageHelloWorld</p>\n<p><img src=\"https://i.loli.net/2020/05/02/MKGcT3CD7t2msRH.png\" alt=\"java-ide-6.png\"></p>\n<p><img src=\"https://i.loli.net/2020/05/02/buyAFqTGB9QjEzU.png\" alt=\"java-ide-7.png\"></p>\n<p><img src=\"https://i.loli.net/2020/05/02/nGU3f2zLcNHlXoT.png\" alt=\"java-ide-8.png\"></p>\n<p></p>\n<pre><code class=\"java\">package hello;\nimport java.lang.System;\n\npublic class HelloWorld {\n    public static void main(String[] args){\n        System.out.println(&quot;Hello World!&quot;);\n    }\n}</code></pre>\n<p> <code>Run</code>  <code>HelloWorld</code> </p>\n<p><img src=\"https://i.loli.net/2020/05/02/O8f6ePSNw4BWFph.png\" alt=\"java-ide-9.png\"></p>\n<p><code>IDE</code> </p>\n"},{"title":"JavaJava","toc":true,"date":"2020-05-01T14:33:07.000Z","_content":"\n> \n\n## \n\n\n\n `Hello World``Java`\n\n## \n\n `Java` \n\n## \n\n\n\n\n\n### \n\n `System.out.println()```emmm````\n\n `idea` [](../java-ide)\n\n `hello`  `PrintTest` \n\n```java\npackage hello;\n\npublic class PrintTest {\n    public static void main(String[] args){\n        System.out.println(\"\");\n    }\n}\n```\n\n`ctrl+shift+R`\n\n![java-simple-example-1.png](https://i.loli.net/2020/05/02/7tNkXUYGDI9bAo8.png)\n\n `System`  `System.out.print() `\n\n### \n\n\n\n `Scanner` `Scanner` \n\n `Scanner`  `System.in`  `InputTest` \n\n```java\npackage hello;\n\nimport java.util.Scanner;\n\npublic class InputTest {\n    public static void main(String[] args){\n        Scanner in = new Scanner(System.in);\n        System.out.print(\":\");\n        int a = in.nextInt();\n        System.out.println(\"\" + a);\n    }\n}\n```\n\n20\n\n![java-simple-example-2.png](https://i.loli.net/2020/05/02/LlMGZuJ1C6SgvUm.png)\n\n\n\n## \n\n\n\n```java\nSystem.out.print(\":\");\n```\n\n `int` \n\n```java\nScanner in = new Scanner(System.in);\nint a = in.nextInt();\n```\n\n\n\n```java\nSystem.out.print(\":\");\n```\n\n `int` \n\n```java\nint b = in.nextInt();\n```\n\n\n\n```java\nint sum = a + b;\n```\n\n\n\n```java\nSystem.out.print(\":\" + sum);\n```\n\n\n\n```java\npackage hello;\n\nimport java.util.Scanner;\n\npublic class SimpleCalculator {\n    public static void main(String[] args){\n        System.out.print(\":\");\n        Scanner in = new Scanner(System.in);\n        int a = in.nextInt();\n        System.out.print(\":\");\n        int b = in.nextInt();\n        int sum = a + b;\n        System.out.print(\":\" + sum);\n    }\n}\n```\n\n\n\n![java-simple-example-3.png](https://i.loli.net/2020/05/02/apKXJ3bZmunBSW9.png)\n\n\n\n`SimpleCalculator`mainScannerpackageimport\n\n## \n\n1. \n\n[//]: # (![]&#40;https://i.loli.net/2020/05/02/AfHOY5RXge9tlVo.png&#41;)\n","source":"_posts/java/introduction/java-simple-example.md","raw":"---\ntitle: JavaJava\ntags:\n  - Java\n  - Java\ncategories:\n  - \ntoc: true\ndate: 2020-05-01 22:33:07\n---\n\n> \n\n## \n\n\n\n `Hello World``Java`\n\n## \n\n `Java` \n\n## \n\n\n\n\n\n### \n\n `System.out.println()```emmm````\n\n `idea` [](../java-ide)\n\n `hello`  `PrintTest` \n\n```java\npackage hello;\n\npublic class PrintTest {\n    public static void main(String[] args){\n        System.out.println(\"\");\n    }\n}\n```\n\n`ctrl+shift+R`\n\n![java-simple-example-1.png](https://i.loli.net/2020/05/02/7tNkXUYGDI9bAo8.png)\n\n `System`  `System.out.print() `\n\n### \n\n\n\n `Scanner` `Scanner` \n\n `Scanner`  `System.in`  `InputTest` \n\n```java\npackage hello;\n\nimport java.util.Scanner;\n\npublic class InputTest {\n    public static void main(String[] args){\n        Scanner in = new Scanner(System.in);\n        System.out.print(\":\");\n        int a = in.nextInt();\n        System.out.println(\"\" + a);\n    }\n}\n```\n\n20\n\n![java-simple-example-2.png](https://i.loli.net/2020/05/02/LlMGZuJ1C6SgvUm.png)\n\n\n\n## \n\n\n\n```java\nSystem.out.print(\":\");\n```\n\n `int` \n\n```java\nScanner in = new Scanner(System.in);\nint a = in.nextInt();\n```\n\n\n\n```java\nSystem.out.print(\":\");\n```\n\n `int` \n\n```java\nint b = in.nextInt();\n```\n\n\n\n```java\nint sum = a + b;\n```\n\n\n\n```java\nSystem.out.print(\":\" + sum);\n```\n\n\n\n```java\npackage hello;\n\nimport java.util.Scanner;\n\npublic class SimpleCalculator {\n    public static void main(String[] args){\n        System.out.print(\":\");\n        Scanner in = new Scanner(System.in);\n        int a = in.nextInt();\n        System.out.print(\":\");\n        int b = in.nextInt();\n        int sum = a + b;\n        System.out.print(\":\" + sum);\n    }\n}\n```\n\n\n\n![java-simple-example-3.png](https://i.loli.net/2020/05/02/apKXJ3bZmunBSW9.png)\n\n\n\n`SimpleCalculator`mainScannerpackageimport\n\n## \n\n1. \n\n[//]: # (![]&#40;https://i.loli.net/2020/05/02/AfHOY5RXge9tlVo.png&#41;)\n","slug":"java/introduction/java-simple-example","published":1,"updated":"2020-05-01T14:33:07.000Z","_id":"cl70rsfgt003s5ohu207s65n8","comments":1,"layout":"post","photos":[],"link":"","content":"<blockquote>\n<p></p>\n</blockquote>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p> <code>Hello World</code><code>Java</code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> <code>Java</code> </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> <code>System.out.println()</code><code></code>emmm<code></code><code></code></p>\n<p> <code>idea</code> <a href=\"../java-ide\"></a></p>\n<p> <code>hello</code>  <code>PrintTest</code> </p>\n<pre class=\" language-java\"><code class=\"language-java\"><span class=\"token keyword\">package</span> hello<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">PrintTest</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span>String<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        System<span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p><code>ctrl+shift+R</code></p>\n<p><img src=\"https://i.loli.net/2020/05/02/7tNkXUYGDI9bAo8.png\" alt=\"java-simple-example-1.png\"></p>\n<p> <code>System</code>  <code>System.out.print()</code></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<p> <code>Scanner</code> <code>Scanner</code> </p>\n<p> <code>Scanner</code>  <code>System.in</code>  <code>InputTest</code> </p>\n<pre class=\" language-java\"><code class=\"language-java\"><span class=\"token keyword\">package</span> hello<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span>Scanner<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">InputTest</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span>String<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        Scanner in <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Scanner</span><span class=\"token punctuation\">(</span>System<span class=\"token punctuation\">.</span>in<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        System<span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\":\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">int</span> a <span class=\"token operator\">=</span> in<span class=\"token punctuation\">.</span><span class=\"token function\">nextInt</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        System<span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span> <span class=\"token operator\">+</span> a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p>20</p>\n<p><img src=\"https://i.loli.net/2020/05/02/LlMGZuJ1C6SgvUm.png\" alt=\"java-simple-example-2.png\"></p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<pre class=\" language-java\"><code class=\"language-java\">System<span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\":\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p> <code>int</code> </p>\n<pre class=\" language-java\"><code class=\"language-java\">Scanner in <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Scanner</span><span class=\"token punctuation\">(</span>System<span class=\"token punctuation\">.</span>in<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">int</span> a <span class=\"token operator\">=</span> in<span class=\"token punctuation\">.</span><span class=\"token function\">nextInt</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p></p>\n<pre class=\" language-java\"><code class=\"language-java\">System<span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\":\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p> <code>int</code> </p>\n<pre class=\" language-java\"><code class=\"language-java\"><span class=\"token keyword\">int</span> b <span class=\"token operator\">=</span> in<span class=\"token punctuation\">.</span><span class=\"token function\">nextInt</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p></p>\n<pre class=\" language-java\"><code class=\"language-java\"><span class=\"token keyword\">int</span> sum <span class=\"token operator\">=</span> a <span class=\"token operator\">+</span> b<span class=\"token punctuation\">;</span></code></pre>\n<p></p>\n<pre class=\" language-java\"><code class=\"language-java\">System<span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\":\"</span> <span class=\"token operator\">+</span> sum<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre>\n<p></p>\n<pre class=\" language-java\"><code class=\"language-java\"><span class=\"token keyword\">package</span> hello<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span>Scanner<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">SimpleCalculator</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span>String<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n        System<span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\":\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        Scanner in <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Scanner</span><span class=\"token punctuation\">(</span>System<span class=\"token punctuation\">.</span>in<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">int</span> a <span class=\"token operator\">=</span> in<span class=\"token punctuation\">.</span><span class=\"token function\">nextInt</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        System<span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\":\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">int</span> b <span class=\"token operator\">=</span> in<span class=\"token punctuation\">.</span><span class=\"token function\">nextInt</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">int</span> sum <span class=\"token operator\">=</span> a <span class=\"token operator\">+</span> b<span class=\"token punctuation\">;</span>\n        System<span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">print</span><span class=\"token punctuation\">(</span><span class=\"token string\">\":\"</span> <span class=\"token operator\">+</span> sum<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre>\n<p></p>\n<p><img src=\"https://i.loli.net/2020/05/02/apKXJ3bZmunBSW9.png\" alt=\"java-simple-example-3.png\"></p>\n<p></p>\n<p><code>SimpleCalculator</code>mainScannerpackageimport</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ol>\n<li></li>\n</ol>\n<script>\n        document.querySelectorAll('.github-emoji')\n          .forEach(el => {\n            if (!el.dataset.src) { return; }\n            const img = document.createElement('img');\n            img.style = 'display:none !important;';\n            img.src = el.dataset.src;\n            img.addEventListener('error', () => {\n              img.remove();\n              el.style.color = 'inherit';\n              el.style.backgroundImage = 'none';\n              el.style.background = 'none';\n            });\n            img.addEventListener('load', () => {\n              img.remove();\n            });\n            document.body.appendChild(img);\n          });\n      </script>","site":{"data":{"friends":[{"avatar":"http://43.142.191.46:8080/crmebimage/public/operation/2022/08/19/e4c5aacf44c44157ac8381896a4f33bfiwjztayaan.png","name":"","introduction":"","url":"http://43.142.191.46:9527/","title":""},{"avatar":"http://43.142.191.46:8080/crmebimage/public/operation/2022/08/19/e4c5aacf44c44157ac8381896a4f33bfiwjztayaan.png","name":"RabbitMQ","introduction":"","url":"http://43.142.191.46:15672/","title":""}]}},"excerpt":"","more":"<blockquote>\n<p></p>\n</blockquote>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p> <code>Hello World</code><code>Java</code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> <code>Java</code> </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<p></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> <code>System.out.println()</code><code></code>emmm<code></code><code></code></p>\n<p> <code>idea</code> <a href=\"../java-ide\"></a></p>\n<p> <code>hello</code>  <code>PrintTest</code> </p>\n<pre><code class=\"java\">package hello;\n\npublic class PrintTest {\n    public static void main(String[] args){\n        System.out.println(&quot;&quot;);\n    }\n}</code></pre>\n<p><code>ctrl+shift+R</code></p>\n<p><img src=\"https://i.loli.net/2020/05/02/7tNkXUYGDI9bAo8.png\" alt=\"java-simple-example-1.png\"></p>\n<p> <code>System</code>  <code>System.out.print()</code></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p></p>\n<p> <code>Scanner</code> <code>Scanner</code> </p>\n<p> <code>Scanner</code>  <code>System.in</code>  <code>InputTest</code> </p>\n<pre><code class=\"java\">package hello;\n\nimport java.util.Scanner;\n\npublic class InputTest {\n    public static void main(String[] args){\n        Scanner in = new Scanner(System.in);\n        System.out.print(&quot;:&quot;);\n        int a = in.nextInt();\n        System.out.println(&quot;&quot; + a);\n    }\n}</code></pre>\n<p>20</p>\n<p><img src=\"https://i.loli.net/2020/05/02/LlMGZuJ1C6SgvUm.png\" alt=\"java-simple-example-2.png\"></p>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<pre><code class=\"java\">System.out.print(&quot;:&quot;);</code></pre>\n<p> <code>int</code> </p>\n<pre><code class=\"java\">Scanner in = new Scanner(System.in);\nint a = in.nextInt();</code></pre>\n<p></p>\n<pre><code class=\"java\">System.out.print(&quot;:&quot;);</code></pre>\n<p> <code>int</code> </p>\n<pre><code class=\"java\">int b = in.nextInt();</code></pre>\n<p></p>\n<pre><code class=\"java\">int sum = a + b;</code></pre>\n<p></p>\n<pre><code class=\"java\">System.out.print(&quot;:&quot; + sum);</code></pre>\n<p></p>\n<pre><code class=\"java\">package hello;\n\nimport java.util.Scanner;\n\npublic class SimpleCalculator {\n    public static void main(String[] args){\n        System.out.print(&quot;:&quot;);\n        Scanner in = new Scanner(System.in);\n        int a = in.nextInt();\n        System.out.print(&quot;:&quot;);\n        int b = in.nextInt();\n        int sum = a + b;\n        System.out.print(&quot;:&quot; + sum);\n    }\n}</code></pre>\n<p></p>\n<p><img src=\"https://i.loli.net/2020/05/02/apKXJ3bZmunBSW9.png\" alt=\"java-simple-example-3.png\"></p>\n<p></p>\n<p><code>SimpleCalculator</code>mainScannerpackageimport</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ol>\n<li></li>\n</ol>\n"},{"title":"Java","toc":true,"date":"2020-05-01T14:33:01.000Z","_content":"\n> \n\n## \n\n[](http://www.cnblogs.com/mfrank/)\n\n\n\nJavaJavaJavaJava\n\n`Java ` IDE\n\n\n\n*  Java \n*  IDEA \n*  Java \n\n## \n\nBOSS\n\n\n\n`3`\n\n``\n\n\n\n``\n\n``\n\n``````\n\n``\n\n``````\n\n\n\n## Java\n\n`Java` ````\n\n```Java` ``\n\n`Java`  `Web/APP` `` `` `` `Java`  `Java` \n\n\n\n> \n\n\n\n\n\n`Java`  `JavaWeb`  `Java` \n\n`JavaWeb`  `html`  `app` `app` \n\nUI\n\n `Java` \n\n\n\n`Java` \n\n\n\nQQ529253292\n\n`Java` bossbossboss\n\n## \n\n `JavaWeb` \n\n `JavaWeb` :\n\n![java-started-1.png](https://i.loli.net/2020/05/02/SkyFbiuZjdQTOaW.png)\n\n\n\n `Java` \n\n[//]: # (![]&#40;https://i.loli.net/2020/05/02/AfHOY5RXge9tlVo.png&#41;)\n","source":"_posts/java/introduction/java-started.md","raw":"---\ntitle: Java\ntags:\n  - Java\n  - Java\ncategories:\n  - \ntoc: true\ndate: 2020-05-01 22:33:01\n---\n\n> \n\n## \n\n[](http://www.cnblogs.com/mfrank/)\n\n\n\nJavaJavaJavaJava\n\n`Java ` IDE\n\n\n\n*  Java \n*  IDEA \n*  Java \n\n## \n\nBOSS\n\n\n\n`3`\n\n``\n\n\n\n``\n\n``\n\n``````\n\n``\n\n``````\n\n\n\n## Java\n\n`Java` ````\n\n```Java` ``\n\n`Java`  `Web/APP` `` `` `` `Java`  `Java` \n\n\n\n> \n\n\n\n\n\n`Java`  `JavaWeb`  `Java` \n\n`JavaWeb`  `html`  `app` `app` \n\nUI\n\n `Java` \n\n\n\n`Java` \n\n\n\nQQ529253292\n\n`Java` bossbossboss\n\n## \n\n `JavaWeb` \n\n `JavaWeb` :\n\n![java-started-1.png](https://i.loli.net/2020/05/02/SkyFbiuZjdQTOaW.png)\n\n\n\n `Java` \n\n[//]: # (![]&#40;https://i.loli.net/2020/05/02/AfHOY5RXge9tlVo.png&#41;)\n","slug":"java/introduction/java-started","published":1,"updated":"2020-05-01T14:33:01.000Z","_id":"cl70rsfgv003v5ohu9pox0zhk","comments":1,"layout":"post","photos":[],"link":"","content":"<blockquote>\n<p></p>\n</blockquote>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"http://www.cnblogs.com/mfrank/\" target=\"_blank\" rel=\"noopener\"></a></p>\n<p></p>\n<p>JavaJavaJavaJava</p>\n<p><code>Java </code> IDE</p>\n<p></p>\n<ul>\n<li> Java </li>\n<li> IDEA </li>\n<li> Java </li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>BOSS</p>\n<p></p>\n<p><code>3</code></p>\n<p><code></code></p>\n<p></p>\n<p><code></code></p>\n<p><code></code></p>\n<p><code></code><code></code><code></code></p>\n<p><code></code></p>\n<p><code></code><code></code><code></code></p>\n<p></p>\n<h2 id=\"Java\"><a href=\"#Java\" class=\"headerlink\" title=\"Java\"></a>Java</h2><p><code>Java</code> <code></code><code></code></p>\n<p><code></code><code>Java</code> <code></code></p>\n<p><code>Java</code>  <code>Web/APP</code> <code></code> <code></code> <code></code> <code>Java</code>  <code>Java</code> </p>\n<p></p>\n<blockquote>\n<p></p>\n</blockquote>\n<p></p>\n<p></p>\n<p><code>Java</code>  <code>JavaWeb</code>  <code>Java</code> </p>\n<p><code>JavaWeb</code>  <code>html</code>  <code>app</code> <code>app</code> </p>\n<p>UI</p>\n<p> <code>Java</code> </p>\n<p></p>\n<p><code>Java</code> </p>\n<p></p>\n<p>QQ529253292</p>\n<p><code>Java</code> bossbossboss</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> <code>JavaWeb</code> </p>\n<p> <code>JavaWeb</code> :</p>\n<p><img src=\"https://i.loli.net/2020/05/02/SkyFbiuZjdQTOaW.png\" alt=\"java-started-1.png\"></p>\n<p></p>\n<p> <code>Java</code> </p>\n<script>\n        document.querySelectorAll('.github-emoji')\n          .forEach(el => {\n            if (!el.dataset.src) { return; }\n            const img = document.createElement('img');\n            img.style = 'display:none !important;';\n            img.src = el.dataset.src;\n            img.addEventListener('error', () => {\n              img.remove();\n              el.style.color = 'inherit';\n              el.style.backgroundImage = 'none';\n              el.style.background = 'none';\n            });\n            img.addEventListener('load', () => {\n              img.remove();\n            });\n            document.body.appendChild(img);\n          });\n      </script>","site":{"data":{"friends":[{"avatar":"http://43.142.191.46:8080/crmebimage/public/operation/2022/08/19/e4c5aacf44c44157ac8381896a4f33bfiwjztayaan.png","name":"","introduction":"","url":"http://43.142.191.46:9527/","title":""},{"avatar":"http://43.142.191.46:8080/crmebimage/public/operation/2022/08/19/e4c5aacf44c44157ac8381896a4f33bfiwjztayaan.png","name":"RabbitMQ","introduction":"","url":"http://43.142.191.46:15672/","title":""}]}},"excerpt":"","more":"<blockquote>\n<p></p>\n</blockquote>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><a href=\"http://www.cnblogs.com/mfrank/\" target=\"_blank\" rel=\"noopener\"></a></p>\n<p></p>\n<p>JavaJavaJavaJava</p>\n<p><code>Java </code> IDE</p>\n<p></p>\n<ul>\n<li> Java </li>\n<li> IDEA </li>\n<li> Java </li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>BOSS</p>\n<p></p>\n<p><code>3</code></p>\n<p><code></code></p>\n<p></p>\n<p><code></code></p>\n<p><code></code></p>\n<p><code></code><code></code><code></code></p>\n<p><code></code></p>\n<p><code></code><code></code><code></code></p>\n<p></p>\n<h2 id=\"Java\"><a href=\"#Java\" class=\"headerlink\" title=\"Java\"></a>Java</h2><p><code>Java</code> <code></code><code></code></p>\n<p><code></code><code>Java</code> <code></code></p>\n<p><code>Java</code>  <code>Web/APP</code> <code></code> <code></code> <code></code> <code>Java</code>  <code>Java</code> </p>\n<p></p>\n<blockquote>\n<p></p>\n</blockquote>\n<p></p>\n<p></p>\n<p><code>Java</code>  <code>JavaWeb</code>  <code>Java</code> </p>\n<p><code>JavaWeb</code>  <code>html</code>  <code>app</code> <code>app</code> </p>\n<p>UI</p>\n<p> <code>Java</code> </p>\n<p></p>\n<p><code>Java</code> </p>\n<p></p>\n<p>QQ529253292</p>\n<p><code>Java</code> bossbossboss</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> <code>JavaWeb</code> </p>\n<p> <code>JavaWeb</code> :</p>\n<p><img src=\"https://i.loli.net/2020/05/02/SkyFbiuZjdQTOaW.png\" alt=\"java-started-1.png\"></p>\n<p></p>\n<p> <code>Java</code> </p>\n"}],"PostAsset":[{"_id":"source/_posts/conclusion/2020-conclusion-slim/11.jpeg","slug":"11.jpeg","post":"cl70rsfb400075ohu812jdjxs","modified":0,"renderable":0},{"_id":"source/_posts/conclusion/2020-conclusion-slim/14.jpeg","slug":"14.jpeg","post":"cl70rsfb400075ohu812jdjxs","modified":0,"renderable":0},{"_id":"source/_posts/conclusion/2020-conclusion-slim/24.jpeg","slug":"24.jpeg","post":"cl70rsfb400075ohu812jdjxs","modified":0,"renderable":0},{"_id":"source/_posts/conclusion/2020-conclusion-slim/25.jpeg","slug":"25.jpeg","post":"cl70rsfb400075ohu812jdjxs","modified":0,"renderable":0},{"_id":"source/_posts/conclusion/2020-conclusion-slim/28.jpeg","slug":"28.jpeg","post":"cl70rsfb400075ohu812jdjxs","modified":0,"renderable":0},{"_id":"source/_posts/conclusion/2020-conclusion-slim/8.jpeg","slug":"8.jpeg","post":"cl70rsfb400075ohu812jdjxs","modified":0,"renderable":0},{"_id":"source/_posts/data-analysis/r-study-install/12.png","slug":"12.png","post":"cl70rsfb7000b5ohuhon4f38o","modified":0,"renderable":0},{"_id":"source/_posts/data-analysis/r-study-install/15.png","slug":"15.png","post":"cl70rsfb7000b5ohuhon4f38o","modified":0,"renderable":0},{"_id":"source/_posts/data-analysis/r-study-install/5.png","slug":"5.png","post":"cl70rsfb7000b5ohuhon4f38o","modified":0,"renderable":0},{"_id":"source/_posts/hexo/hexo-start/hexo-1.jpg","slug":"hexo-1.jpg","post":"cl70rsfbc000k5ohu16oq97x0","modified":0,"renderable":0},{"_id":"source/_posts/hexo/hexo-start/hexo-17.jpg","slug":"hexo-17.jpg","post":"cl70rsfbc000k5ohu16oq97x0","modified":0,"renderable":0},{"_id":"source/_posts/hexo/hexo-start/hexo-3.jpg","slug":"hexo-3.jpg","post":"cl70rsfbc000k5ohu16oq97x0","modified":0,"renderable":0},{"_id":"source/_posts/hexo/hexo-start/hexo-4.jpg","slug":"hexo-4.jpg","post":"cl70rsfbc000k5ohu16oq97x0","modified":0,"renderable":0},{"_id":"source/_posts/hexo/hexo-start/hexo-5.jpg","slug":"hexo-5.jpg","post":"cl70rsfbc000k5ohu16oq97x0","modified":0,"renderable":0},{"_id":"source/_posts/hexo/hexo-theme/hexo-theme-1.jpg","slug":"hexo-theme-1.jpg","post":"cl70rsfba000g5ohu5ho9b02j","modified":0,"renderable":0},{"_id":"source/_posts/picture/go-basic-usage-of-gg-package/11.png","slug":"11.png","post":"cl70rsfb9000f5ohuak0a9el4","modified":0,"renderable":0},{"_id":"source/_posts/picture/go-draw-word-in-pic/10.png","slug":"10.png","post":"cl70rsfbf000q5ohu7jjx94bs","modified":0,"renderable":0},{"_id":"source/_posts/picture/go-pic-rotate-use-gg-package/2.png","slug":"2.png","post":"cl70rsfbh000t5ohubzf01mj3","modified":0,"renderable":0},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-use-dead-letter-queue/carbon (4).png","slug":"carbon (4).png","post":"cl70rsfbm00195ohu6z1m6rv7","modified":0,"renderable":0},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-use-dead-letter-queue/carbon (5).png","slug":"carbon (5).png","post":"cl70rsfbm00195ohu6z1m6rv7","modified":0,"renderable":0},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-use-delay-queue/carbon (1).png","slug":"carbon (1).png","post":"cl70rsfbo001f5ohucfcngr87","modified":0,"renderable":0},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-use-delay-queue/carbon (13).png","slug":"carbon (13).png","post":"cl70rsfbo001f5ohucfcngr87","modified":0,"renderable":0},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-use-delay-queue/carbon (12).png","slug":"carbon (12).png","post":"cl70rsfbo001f5ohucfcngr87","modified":0,"renderable":0},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-use-delay-queue/carbon (14).png","slug":"carbon (14).png","post":"cl70rsfbo001f5ohucfcngr87","modified":0,"renderable":0},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-use-delay-queue/carbon (8).png","slug":"carbon (8).png","post":"cl70rsfbo001f5ohucfcngr87","modified":0,"renderable":0},{"_id":"source/_posts/conclusion/2020-conclusion-slim/23.jpeg","slug":"23.jpeg","post":"cl70rsfb400075ohu812jdjxs","modified":0,"renderable":0},{"_id":"source/_posts/conclusion/2020-conclusion-slim/26.jpeg","slug":"26.jpeg","post":"cl70rsfb400075ohu812jdjxs","modified":0,"renderable":0},{"_id":"source/_posts/data-analysis/r-study-install/14.png","slug":"14.png","post":"cl70rsfb7000b5ohuhon4f38o","modified":0,"renderable":0},{"_id":"source/_posts/data-analysis/r-study-install/2.png","slug":"2.png","post":"cl70rsfb7000b5ohuhon4f38o","modified":0,"renderable":0},{"_id":"source/_posts/data-analysis/r-study-install/4.png","slug":"4.png","post":"cl70rsfb7000b5ohuhon4f38o","modified":0,"renderable":0},{"_id":"source/_posts/data-analysis/r-study-install/6.png","slug":"6.png","post":"cl70rsfb7000b5ohuhon4f38o","modified":0,"renderable":0},{"_id":"source/_posts/hexo/hexo-start/hexo-2.jpg","slug":"hexo-2.jpg","post":"cl70rsfbc000k5ohu16oq97x0","modified":0,"renderable":0},{"_id":"source/_posts/picture/go-basic-usage-of-gg-package/1.png","slug":"1.png","post":"cl70rsfb9000f5ohuak0a9el4","modified":0,"renderable":0},{"_id":"source/_posts/picture/go-pic-rotate-use-gg-package/3.png","slug":"3.png","post":"cl70rsfbh000t5ohubzf01mj3","modified":0,"renderable":0},{"_id":"source/_posts/picture/go-pic-rotate-use-gg-package/6.png","slug":"6.png","post":"cl70rsfbh000t5ohubzf01mj3","modified":0,"renderable":0},{"_id":"source/_posts/picture/go-pic-rotate-use-gg-package/5.png","slug":"5.png","post":"cl70rsfbh000t5ohubzf01mj3","modified":0,"renderable":0},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-use-dead-letter-queue/carbon (3).png","slug":"carbon (3).png","post":"cl70rsfbm00195ohu6z1m6rv7","modified":0,"renderable":0},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-use-delay-queue/carbon (15).png","slug":"carbon (15).png","post":"cl70rsfbo001f5ohucfcngr87","modified":0,"renderable":0},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-use-delay-queue/carbon (4).png","slug":"carbon (4).png","post":"cl70rsfbo001f5ohucfcngr87","modified":0,"renderable":0},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-use-delay-queue/carbon (5).png","slug":"carbon (5).png","post":"cl70rsfbo001f5ohucfcngr87","modified":0,"renderable":0},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-use-delay-queue/carbon (9).png","slug":"carbon (9).png","post":"cl70rsfbo001f5ohucfcngr87","modified":0,"renderable":0},{"_id":"source/_posts/conclusion/2020-conclusion-slim/27.jpeg","slug":"27.jpeg","post":"cl70rsfb400075ohu812jdjxs","modified":0,"renderable":0},{"_id":"source/_posts/conclusion/2020-conclusion-slim/32.png","slug":"32.png","post":"cl70rsfb400075ohu812jdjxs","modified":0,"renderable":0},{"_id":"source/_posts/picture/go-pic-rotate-use-gg-package/7.png","slug":"7.png","post":"cl70rsfbh000t5ohubzf01mj3","modified":0,"renderable":0},{"_id":"source/_posts/java/introduction/java-environment-mac/2-jdk-mac.png","slug":"2-jdk-mac.png","post":"cl70rsfgc003b5ohug4bv93mx","modified":0,"renderable":0},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-use-delay-queue/carbon (10).png","slug":"carbon (10).png","post":"cl70rsfbo001f5ohucfcngr87","modified":0,"renderable":0},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-use-delay-queue/carbon (3).png","slug":"carbon (3).png","post":"cl70rsfbo001f5ohucfcngr87","modified":0,"renderable":0},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-use-delay-queue/carbon (6).png","slug":"carbon (6).png","post":"cl70rsfbo001f5ohucfcngr87","modified":0,"renderable":0},{"_id":"source/_posts/data-analysis/r-study-basic-type/1.png","slug":"1.png","post":"cl70rsfb6000a5ohu5zhzbo4j","modified":0,"renderable":0},{"_id":"source/_posts/hexo/hexo-theme/hexo-theme-2.jpg","slug":"hexo-theme-2.jpg","post":"cl70rsfba000g5ohu5ho9b02j","modified":0,"renderable":0},{"_id":"source/_posts/hexo/hexo-theme/hexo-theme-3.jpg","slug":"hexo-theme-3.jpg","post":"cl70rsfba000g5ohu5ho9b02j","modified":0,"renderable":0},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-ensure-reliable-delivery-of-message2/$2ER{ZD68TZW07[M5{$JZGL.png","slug":"$2ER{ZD68TZW07[M5{$JZGL.png","post":"cl70rsfbk00155ohuf689b5gd","modified":0,"renderable":0},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-ensure-reliable-delivery-of-message2/42P7LF)NXQ`0JIN0~~43]PE.png","slug":"42P7LF)NXQ`0JIN0~~43]PE.png","post":"cl70rsfbk00155ohuf689b5gd","modified":0,"renderable":0},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-ensure-reliable-delivery-of-message2/DTHP)NN0CQ28[@(HHY2R8{5.png","slug":"DTHP)NN0CQ28[@(HHY2R8{5.png","post":"cl70rsfbk00155ohuf689b5gd","modified":0,"renderable":0},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-ensure-reliable-delivery-of-message/111.png.jpg","slug":"111.png.jpg","post":"cl70rsfbj00115ohu0wq7hw4y","modified":0,"renderable":0},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-ensure-reliable-delivery-of-message/20170716034945131.jpg","slug":"20170716034945131.jpg","post":"cl70rsfbj00115ohu0wq7hw4y","modified":0,"renderable":0},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-ensure-reliable-delivery-of-message/5b65729e0001439305000294.jpg","slug":"5b65729e0001439305000294.jpg","post":"cl70rsfbj00115ohu0wq7hw4y","modified":0,"renderable":0},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-ensure-reliable-delivery-of-message/u=1091165172,1855706818&fm=26&gp=0.jpg","slug":"u=1091165172,1855706818&fm=26&gp=0.jpg","post":"cl70rsfbj00115ohu0wq7hw4y","modified":0,"renderable":0},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-ensure-reliable-delivery-of-message/{6582FAF9-A46E-4239-810B-E1D6883ED070}.png.jpg","slug":"{6582FAF9-A46E-4239-810B-E1D6883ED070}.png.jpg","post":"cl70rsfbj00115ohu0wq7hw4y","modified":0,"renderable":0},{"_id":"source/_posts/best-practice/how-to-retry-elegantly/1565529015677.png","slug":"1565529015677.png","post":"cl70rsfb300065ohu2ghc4be7","modified":0,"renderable":0},{"_id":"source/_posts/best-practice/how-to-retry-elegantly/EDaBTlbkyvbhmng.jpg","slug":"EDaBTlbkyvbhmng.jpg","post":"cl70rsfb300065ohu2ghc4be7","modified":0,"renderable":0},{"_id":"source/_posts/best-practice/how-to-retry-elegantly/GBvgTpbkyvbhlEB.jpg","slug":"GBvgTpbkyvbhlEB.jpg","post":"cl70rsfb300065ohu2ghc4be7","modified":0,"renderable":0},{"_id":"source/_posts/best-practice/how-to-retry-elegantly/IStGDBbkyvbhmow.jpg","slug":"IStGDBbkyvbhmow.jpg","post":"cl70rsfb300065ohu2ghc4be7","modified":0,"renderable":0},{"_id":"source/_posts/best-practice/how-to-retry-elegantly/dtFxiMbkyvbhlzo.jpg","slug":"dtFxiMbkyvbhlzo.jpg","post":"cl70rsfb300065ohu2ghc4be7","modified":0,"renderable":0},{"_id":"source/_posts/best-practice/how-to-retry-elegantly/fuuTyTbkyvbhmsa.jpg","slug":"fuuTyTbkyvbhmsa.jpg","post":"cl70rsfb300065ohu2ghc4be7","modified":0,"renderable":0},{"_id":"source/_posts/best-practice/how-to-retry-elegantly/timg.jpg","slug":"timg.jpg","post":"cl70rsfb300065ohu2ghc4be7","modified":0,"renderable":0},{"_id":"source/_posts/picture/go-pic-rotate-use-gg-package/1.png","slug":"1.png","post":"cl70rsfbh000t5ohubzf01mj3","modified":0,"renderable":0},{"_id":"source/_posts/picture/go-pic-rotate-use-gg-package/4.png","slug":"4.png","post":"cl70rsfbh000t5ohubzf01mj3","modified":0,"renderable":0},{"_id":"source/_posts/picture/go-draw-word-in-pic2/1.png","slug":"1.png","post":"cl70rsfbd000m5ohu334rbmha","modified":0,"renderable":0},{"_id":"source/_posts/picture/go-draw-word-in-pic2/2.png","slug":"2.png","post":"cl70rsfbd000m5ohu334rbmha","modified":0,"renderable":0},{"_id":"source/_posts/picture/go-draw-word-in-pic2/3.png","slug":"3.png","post":"cl70rsfbd000m5ohu334rbmha","modified":0,"renderable":0},{"_id":"source/_posts/picture/go-draw-word-in-pic2/4.png","slug":"4.png","post":"cl70rsfbd000m5ohu334rbmha","modified":0,"renderable":0},{"_id":"source/_posts/picture/go-draw-word-in-pic2/5.png","slug":"5.png","post":"cl70rsfbd000m5ohu334rbmha","modified":0,"renderable":0},{"_id":"source/_posts/picture/go-draw-word-in-pic2/6.png","slug":"6.png","post":"cl70rsfbd000m5ohu334rbmha","modified":0,"renderable":0},{"_id":"source/_posts/picture/go-draw-word-in-pic2/7.png","slug":"7.png","post":"cl70rsfbd000m5ohu334rbmha","modified":0,"renderable":0},{"_id":"source/_posts/picture/go-draw-word-in-pic2/SourceHanSansCN-Bold-2.otf","slug":"SourceHanSansCN-Bold-2.otf","post":"cl70rsfbd000m5ohu334rbmha","modified":0,"renderable":0},{"_id":"source/_posts/picture/go-draw-word-in-pic2/gilmer-heavy.ttf","slug":"gilmer-heavy.ttf","post":"cl70rsfbd000m5ohu334rbmha","modified":0,"renderable":0},{"_id":"source/_posts/picture/go-draw-word-in-pic2/.ttf","slug":".ttf","post":"cl70rsfbd000m5ohu334rbmha","modified":0,"renderable":0},{"_id":"source/_posts/picture/go-wx-pic-generator/1.png","slug":"1.png","post":"cl70rsfbj000y5ohua65p291g","modified":0,"renderable":0},{"_id":"source/_posts/picture/go-wx-pic-generator/10.png","slug":"10.png","post":"cl70rsfbj000y5ohua65p291g","modified":0,"renderable":0},{"_id":"source/_posts/picture/go-wx-pic-generator/11.png","slug":"11.png","post":"cl70rsfbj000y5ohua65p291g","modified":0,"renderable":0},{"_id":"source/_posts/picture/go-wx-pic-generator/2.png","slug":"2.png","post":"cl70rsfbj000y5ohua65p291g","modified":0,"renderable":0},{"_id":"source/_posts/picture/go-wx-pic-generator/3.png","slug":"3.png","post":"cl70rsfbj000y5ohua65p291g","modified":0,"renderable":0},{"_id":"source/_posts/picture/go-wx-pic-generator/4.jpg","slug":"4.jpg","post":"cl70rsfbj000y5ohua65p291g","modified":0,"renderable":0},{"_id":"source/_posts/picture/go-wx-pic-generator/5.jpg","slug":"5.jpg","post":"cl70rsfbj000y5ohua65p291g","modified":0,"renderable":0},{"_id":"source/_posts/picture/go-wx-pic-generator/6.jpg","slug":"6.jpg","post":"cl70rsfbj000y5ohua65p291g","modified":0,"renderable":0},{"_id":"source/_posts/picture/go-wx-pic-generator/7.png","slug":"7.png","post":"cl70rsfbj000y5ohua65p291g","modified":0,"renderable":0},{"_id":"source/_posts/picture/go-wx-pic-generator/8.png","slug":"8.png","post":"cl70rsfbj000y5ohua65p291g","modified":0,"renderable":0},{"_id":"source/_posts/picture/go-wx-pic-generator/9.png","slug":"9.png","post":"cl70rsfbj000y5ohua65p291g","modified":0,"renderable":0},{"_id":"source/_posts/picture/go-basic-usage-of-gg-package/10.png","slug":"10.png","post":"cl70rsfb9000f5ohuak0a9el4","modified":0,"renderable":0},{"_id":"source/_posts/picture/go-basic-usage-of-gg-package/2.png","slug":"2.png","post":"cl70rsfb9000f5ohuak0a9el4","modified":0,"renderable":0},{"_id":"source/_posts/picture/go-basic-usage-of-gg-package/3.png","slug":"3.png","post":"cl70rsfb9000f5ohuak0a9el4","modified":0,"renderable":0},{"_id":"source/_posts/picture/go-basic-usage-of-gg-package/4.png","slug":"4.png","post":"cl70rsfb9000f5ohuak0a9el4","modified":0,"renderable":0},{"_id":"source/_posts/picture/go-basic-usage-of-gg-package/5.png","slug":"5.png","post":"cl70rsfb9000f5ohuak0a9el4","modified":0,"renderable":0},{"_id":"source/_posts/picture/go-basic-usage-of-gg-package/6.png","slug":"6.png","post":"cl70rsfb9000f5ohuak0a9el4","modified":0,"renderable":0},{"_id":"source/_posts/picture/go-basic-usage-of-gg-package/7.png","slug":"7.png","post":"cl70rsfb9000f5ohuak0a9el4","modified":0,"renderable":0},{"_id":"source/_posts/picture/go-basic-usage-of-gg-package/8.png","slug":"8.png","post":"cl70rsfb9000f5ohuak0a9el4","modified":0,"renderable":0},{"_id":"source/_posts/picture/go-basic-usage-of-gg-package/9.png","slug":"9.png","post":"cl70rsfb9000f5ohuak0a9el4","modified":0,"renderable":0},{"_id":"source/_posts/picture/go-basic-usage-of-gg-package/test.jpg","slug":"test.jpg","post":"cl70rsfb9000f5ohuak0a9el4","modified":0,"renderable":0},{"_id":"source/_posts/picture/go-draw-word-in-pic/1.png","slug":"1.png","post":"cl70rsfbf000q5ohu7jjx94bs","modified":0,"renderable":0},{"_id":"source/_posts/picture/go-draw-word-in-pic/2.png","slug":"2.png","post":"cl70rsfbf000q5ohu7jjx94bs","modified":0,"renderable":0},{"_id":"source/_posts/picture/go-draw-word-in-pic/3.png","slug":"3.png","post":"cl70rsfbf000q5ohu7jjx94bs","modified":0,"renderable":0},{"_id":"source/_posts/picture/go-draw-word-in-pic/4.png","slug":"4.png","post":"cl70rsfbf000q5ohu7jjx94bs","modified":0,"renderable":0},{"_id":"source/_posts/picture/go-draw-word-in-pic/5.png","slug":"5.png","post":"cl70rsfbf000q5ohu7jjx94bs","modified":0,"renderable":0},{"_id":"source/_posts/picture/go-draw-word-in-pic/6.png","slug":"6.png","post":"cl70rsfbf000q5ohu7jjx94bs","modified":0,"renderable":0},{"_id":"source/_posts/picture/go-draw-word-in-pic/7.png","slug":"7.png","post":"cl70rsfbf000q5ohu7jjx94bs","modified":0,"renderable":0},{"_id":"source/_posts/picture/go-draw-word-in-pic/8.png","slug":"8.png","post":"cl70rsfbf000q5ohu7jjx94bs","modified":0,"renderable":0},{"_id":"source/_posts/picture/go-draw-word-in-pic/9.png","slug":"9.png","post":"cl70rsfbf000q5ohu7jjx94bs","modified":0,"renderable":0},{"_id":"source/_posts/picture/go-draw-word-in-pic/gilmer-heavy.ttf","slug":"gilmer-heavy.ttf","post":"cl70rsfbf000q5ohu7jjx94bs","modified":0,"renderable":0},{"_id":"source/_posts/picture/go-draw-word-in-pic/.ttf","slug":".ttf","post":"cl70rsfbf000q5ohu7jjx94bs","modified":0,"renderable":0},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-use-dead-letter-queue/54b719620c68404a8b8dfacc070420cb.jpg","slug":"54b719620c68404a8b8dfacc070420cb.jpg","post":"cl70rsfbm00195ohu6z1m6rv7","modified":0,"renderable":0},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-use-dead-letter-queue/5d2ae72753a8e90481.png","slug":"5d2ae72753a8e90481.png","post":"cl70rsfbm00195ohu6z1m6rv7","modified":0,"renderable":0},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-use-dead-letter-queue/8(%(3A_Y`_N8XX8W5XHZMWY.png","slug":"8(%(3A_Y`_N8XX8W5XHZMWY.png","post":"cl70rsfbm00195ohu6z1m6rv7","modified":0,"renderable":0},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-use-dead-letter-queue/A51]5T0]5(4`@P{}[06(%~Q.png","slug":"A51]5T0]5(4`@P{}[06(%~Q.png","post":"cl70rsfbm00195ohu6z1m6rv7","modified":0,"renderable":0},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-use-dead-letter-queue/AG4T332}_NEUNPUAU(A_)U6.png","slug":"AG4T332}_NEUNPUAU(A_)U6.png","post":"cl70rsfbm00195ohu6z1m6rv7","modified":0,"renderable":0},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-use-dead-letter-queue/TIM20190714173105.png","slug":"TIM20190714173105.png","post":"cl70rsfbm00195ohu6z1m6rv7","modified":0,"renderable":0},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-use-dead-letter-queue/[@YD9OX4WP)E9$ME_7`Z]NB.png","slug":"[@YD9OX4WP)E9$ME_7`Z]NB.png","post":"cl70rsfbm00195ohu6z1m6rv7","modified":0,"renderable":0},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-use-dead-letter-queue/carbon (1).png","slug":"carbon (1).png","post":"cl70rsfbm00195ohu6z1m6rv7","modified":0,"renderable":0},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-use-dead-letter-queue/carbon (2).png","slug":"carbon (2).png","post":"cl70rsfbm00195ohu6z1m6rv7","modified":0,"renderable":0},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-use-dead-letter-queue/carbon.png","slug":"carbon.png","post":"cl70rsfbm00195ohu6z1m6rv7","modified":0,"renderable":0},{"_id":"source/_posts/data-analysis/r-study-install/10.png","slug":"10.png","post":"cl70rsfb7000b5ohuhon4f38o","modified":0,"renderable":0},{"_id":"source/_posts/data-analysis/r-study-install/1043143-20200727074006066-1700986643.png","slug":"1043143-20200727074006066-1700986643.png","post":"cl70rsfb7000b5ohuhon4f38o","modified":0,"renderable":0},{"_id":"source/_posts/data-analysis/r-study-install/11.png","slug":"11.png","post":"cl70rsfb7000b5ohuhon4f38o","modified":0,"renderable":0},{"_id":"source/_posts/data-analysis/r-study-install/13.png","slug":"13.png","post":"cl70rsfb7000b5ohuhon4f38o","modified":0,"renderable":0},{"_id":"source/_posts/data-analysis/r-study-install/3.png","slug":"3.png","post":"cl70rsfb7000b5ohuhon4f38o","modified":0,"renderable":0},{"_id":"source/_posts/data-analysis/r-study-install/7.png","slug":"7.png","post":"cl70rsfb7000b5ohuhon4f38o","modified":0,"renderable":0},{"_id":"source/_posts/data-analysis/r-study-install/8.png","slug":"8.png","post":"cl70rsfb7000b5ohuhon4f38o","modified":0,"renderable":0},{"_id":"source/_posts/data-analysis/r-study-install/9.png","slug":"9.png","post":"cl70rsfb7000b5ohuhon4f38o","modified":0,"renderable":0},{"_id":"source/_posts/java/introduction/java-environment-mac/3-jdk-mac.png","slug":"3-jdk-mac.png","post":"cl70rsfgc003b5ohug4bv93mx","modified":0,"renderable":0},{"_id":"source/_posts/hexo/hexo-start/hexo-10.jpg","slug":"hexo-10.jpg","post":"cl70rsfbc000k5ohu16oq97x0","modified":0,"renderable":0},{"_id":"source/_posts/hexo/hexo-start/hexo-11.jpg","slug":"hexo-11.jpg","post":"cl70rsfbc000k5ohu16oq97x0","modified":0,"renderable":0},{"_id":"source/_posts/hexo/hexo-start/hexo-12.jpg","slug":"hexo-12.jpg","post":"cl70rsfbc000k5ohu16oq97x0","modified":0,"renderable":0},{"_id":"source/_posts/hexo/hexo-start/hexo-13.jpg","slug":"hexo-13.jpg","post":"cl70rsfbc000k5ohu16oq97x0","modified":0,"renderable":0},{"_id":"source/_posts/hexo/hexo-start/hexo-14.jpg","slug":"hexo-14.jpg","post":"cl70rsfbc000k5ohu16oq97x0","modified":0,"renderable":0},{"_id":"source/_posts/hexo/hexo-start/hexo-15.jpg","slug":"hexo-15.jpg","post":"cl70rsfbc000k5ohu16oq97x0","modified":0,"renderable":0},{"_id":"source/_posts/hexo/hexo-start/hexo-16.jpg","slug":"hexo-16.jpg","post":"cl70rsfbc000k5ohu16oq97x0","modified":0,"renderable":0},{"_id":"source/_posts/hexo/hexo-start/hexo-18.jpg","slug":"hexo-18.jpg","post":"cl70rsfbc000k5ohu16oq97x0","modified":0,"renderable":0},{"_id":"source/_posts/hexo/hexo-start/hexo-19.jpg","slug":"hexo-19.jpg","post":"cl70rsfbc000k5ohu16oq97x0","modified":0,"renderable":0},{"_id":"source/_posts/hexo/hexo-start/hexo-6.jpg","slug":"hexo-6.jpg","post":"cl70rsfbc000k5ohu16oq97x0","modified":0,"renderable":0},{"_id":"source/_posts/hexo/hexo-start/hexo-7.jpg","slug":"hexo-7.jpg","post":"cl70rsfbc000k5ohu16oq97x0","modified":0,"renderable":0},{"_id":"source/_posts/hexo/hexo-start/hexo-8.jpg","slug":"hexo-8.jpg","post":"cl70rsfbc000k5ohu16oq97x0","modified":0,"renderable":0},{"_id":"source/_posts/hexo/hexo-start/hexo-9.jpg","slug":"hexo-9.jpg","post":"cl70rsfbc000k5ohu16oq97x0","modified":0,"renderable":0},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-use-delay-queue/$QT%QELKW@$DM92E@ZNA647.png","slug":"$QT%QELKW@$DM92E@ZNA647.png","post":"cl70rsfbo001f5ohucfcngr87","modified":0,"renderable":0},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-use-delay-queue/1@J8$IFWP3]K{)U]{E~7V{1.png","slug":"1@J8$IFWP3]K{)U]{E~7V{1.png","post":"cl70rsfbo001f5ohucfcngr87","modified":0,"renderable":0},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-use-delay-queue/8Q$8RRCK~N@S]1@71KPJ]NC.png","slug":"8Q$8RRCK~N@S]1@71KPJ]NC.png","post":"cl70rsfbo001f5ohucfcngr87","modified":0,"renderable":0},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-use-delay-queue/LH`~)W5TPAA`OB6`5UH@FIB.png","slug":"LH`~)W5TPAA`OB6`5UH@FIB.png","post":"cl70rsfbo001f5ohucfcngr87","modified":0,"renderable":0},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-use-delay-queue/carbon (11).png","slug":"carbon (11).png","post":"cl70rsfbo001f5ohucfcngr87","modified":0,"renderable":0},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-use-delay-queue/carbon (2).png","slug":"carbon (2).png","post":"cl70rsfbo001f5ohucfcngr87","modified":0,"renderable":0},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-use-delay-queue/carbon (7).png","slug":"carbon (7).png","post":"cl70rsfbo001f5ohucfcngr87","modified":0,"renderable":0},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-use-delay-queue/carbon.png","slug":"carbon.png","post":"cl70rsfbo001f5ohucfcngr87","modified":0,"renderable":0},{"_id":"source/_posts/rabbitmq/rabbitmq-how-to-use-delay-queue/ 2019-07-28 6.04.42.png","slug":" 2019-07-28 6.04.42.png","post":"cl70rsfbo001f5ohucfcngr87","modified":0,"renderable":0},{"_id":"source/_posts/java/introduction/java-ide/java-ide-2.png","slug":"java-ide-2.png","post":"cl70rsfgo003p5ohu82hier9h","modified":0,"renderable":0},{"_id":"source/_posts/conclusion/2020-conclusion-slim/1.jpg","slug":"1.jpg","post":"cl70rsfb400075ohu812jdjxs","modified":0,"renderable":0},{"_id":"source/_posts/conclusion/2020-conclusion-slim/10.png","slug":"10.png","post":"cl70rsfb400075ohu812jdjxs","modified":0,"renderable":0},{"_id":"source/_posts/conclusion/2020-conclusion-slim/12.jpeg","slug":"12.jpeg","post":"cl70rsfb400075ohu812jdjxs","modified":0,"renderable":0},{"_id":"source/_posts/conclusion/2020-conclusion-slim/13.jpeg","slug":"13.jpeg","post":"cl70rsfb400075ohu812jdjxs","modified":0,"renderable":0},{"_id":"source/_posts/conclusion/2020-conclusion-slim/15.png","slug":"15.png","post":"cl70rsfb400075ohu812jdjxs","modified":0,"renderable":0},{"_id":"source/_posts/conclusion/2020-conclusion-slim/16.jpeg","slug":"16.jpeg","post":"cl70rsfb400075ohu812jdjxs","modified":0,"renderable":0},{"_id":"source/_posts/conclusion/2020-conclusion-slim/17.jpeg","slug":"17.jpeg","post":"cl70rsfb400075ohu812jdjxs","modified":0,"renderable":0},{"_id":"source/_posts/conclusion/2020-conclusion-slim/18.jpeg","slug":"18.jpeg","post":"cl70rsfb400075ohu812jdjxs","modified":0,"renderable":0},{"_id":"source/_posts/conclusion/2020-conclusion-slim/19.jpeg","slug":"19.jpeg","post":"cl70rsfb400075ohu812jdjxs","modified":0,"renderable":0},{"_id":"source/_posts/conclusion/2020-conclusion-slim/2.jpg","slug":"2.jpg","post":"cl70rsfb400075ohu812jdjxs","modified":0,"renderable":0},{"_id":"source/_posts/conclusion/2020-conclusion-slim/20.png","slug":"20.png","post":"cl70rsfb400075ohu812jdjxs","modified":0,"renderable":0},{"_id":"source/_posts/conclusion/2020-conclusion-slim/21.jpeg","slug":"21.jpeg","post":"cl70rsfb400075ohu812jdjxs","modified":0,"renderable":0},{"_id":"source/_posts/conclusion/2020-conclusion-slim/22.jpeg","slug":"22.jpeg","post":"cl70rsfb400075ohu812jdjxs","modified":0,"renderable":0},{"_id":"source/_posts/conclusion/2020-conclusion-slim/29.jpeg","slug":"29.jpeg","post":"cl70rsfb400075ohu812jdjxs","modified":0,"renderable":0},{"_id":"source/_posts/conclusion/2020-conclusion-slim/3.jpeg","slug":"3.jpeg","post":"cl70rsfb400075ohu812jdjxs","modified":0,"renderable":0},{"_id":"source/_posts/conclusion/2020-conclusion-slim/30.jpeg","slug":"30.jpeg","post":"cl70rsfb400075ohu812jdjxs","modified":0,"renderable":0},{"_id":"source/_posts/conclusion/2020-conclusion-slim/31.png","slug":"31.png","post":"cl70rsfb400075ohu812jdjxs","modified":0,"renderable":0},{"_id":"source/_posts/conclusion/2020-conclusion-slim/4.png","slug":"4.png","post":"cl70rsfb400075ohu812jdjxs","modified":0,"renderable":0},{"_id":"source/_posts/conclusion/2020-conclusion-slim/5.png","slug":"5.png","post":"cl70rsfb400075ohu812jdjxs","modified":0,"renderable":0},{"_id":"source/_posts/conclusion/2020-conclusion-slim/6.png","slug":"6.png","post":"cl70rsfb400075ohu812jdjxs","modified":0,"renderable":0},{"_id":"source/_posts/conclusion/2020-conclusion-slim/7.jpeg","slug":"7.jpeg","post":"cl70rsfb400075ohu812jdjxs","modified":0,"renderable":0},{"_id":"source/_posts/conclusion/2020-conclusion-slim/9.jpeg","slug":"9.jpeg","post":"cl70rsfb400075ohu812jdjxs","modified":0,"renderable":0},{"_id":"source/_posts/java/introduction/java-environment-mac/4-jdk-mac.png","slug":"4-jdk-mac.png","post":"cl70rsfgc003b5ohug4bv93mx","modified":0,"renderable":0},{"_id":"source/_posts/java/introduction/java-started/java-started-1.png","slug":"java-started-1.png","post":"cl70rsfgv003v5ohu9pox0zhk","modified":0,"renderable":0},{"_id":"source/_posts/java/introduction/java-simple-example/java-simple-example-1.png","slug":"java-simple-example-1.png","post":"cl70rsfgt003s5ohu207s65n8","modified":0,"renderable":0},{"_id":"source/_posts/java/introduction/java-simple-example/java-simple-example-2.png","slug":"java-simple-example-2.png","post":"cl70rsfgt003s5ohu207s65n8","modified":0,"renderable":0},{"_id":"source/_posts/java/introduction/java-simple-example/java-simple-example-3.png","slug":"java-simple-example-3.png","post":"cl70rsfgt003s5ohu207s65n8","modified":0,"renderable":0},{"_id":"source/_posts/java/introduction/java-environment-windows/1-jdk-windows.png","slug":"1-jdk-windows.png","post":"cl70rsfgd003d5ohubtwu2lru","modified":0,"renderable":0},{"_id":"source/_posts/java/introduction/java-environment-windows/2-jdk-windows.png","slug":"2-jdk-windows.png","post":"cl70rsfgd003d5ohubtwu2lru","modified":0,"renderable":0},{"_id":"source/_posts/java/introduction/java-environment-windows/3-jdk-windows.png","slug":"3-jdk-windows.png","post":"cl70rsfgd003d5ohubtwu2lru","modified":0,"renderable":0},{"_id":"source/_posts/java/introduction/java-environment-windows/4-jdk-windows.png","slug":"4-jdk-windows.png","post":"cl70rsfgd003d5ohubtwu2lru","modified":0,"renderable":0},{"_id":"source/_posts/java/introduction/java-environment-windows/5-jdk-windows.png","slug":"5-jdk-windows.png","post":"cl70rsfgd003d5ohubtwu2lru","modified":0,"renderable":0},{"_id":"source/_posts/java/introduction/java-environment-windows/6-jdk-windows.png","slug":"6-jdk-windows.png","post":"cl70rsfgd003d5ohubtwu2lru","modified":0,"renderable":0},{"_id":"source/_posts/java/introduction/java-environment-windows/7-jdk-windows.png","slug":"7-jdk-windows.png","post":"cl70rsfgd003d5ohubtwu2lru","modified":0,"renderable":0},{"_id":"source/_posts/java/introduction/java-environment-windows/8-jdk-windows.png","slug":"8-jdk-windows.png","post":"cl70rsfgd003d5ohubtwu2lru","modified":0,"renderable":0},{"_id":"source/_posts/java/introduction/java-environment-windows/9-jdk-windows.png","slug":"9-jdk-windows.png","post":"cl70rsfgd003d5ohubtwu2lru","modified":0,"renderable":0},{"_id":"source/_posts/java/introduction/java-ide/java-ide-1.png","slug":"java-ide-1.png","post":"cl70rsfgo003p5ohu82hier9h","modified":0,"renderable":0},{"_id":"source/_posts/java/introduction/java-ide/java-ide-3.png","slug":"java-ide-3.png","post":"cl70rsfgo003p5ohu82hier9h","modified":0,"renderable":0},{"_id":"source/_posts/java/introduction/java-ide/java-ide-4.png","slug":"java-ide-4.png","post":"cl70rsfgo003p5ohu82hier9h","modified":0,"renderable":0},{"_id":"source/_posts/java/introduction/java-ide/java-ide-5.png","slug":"java-ide-5.png","post":"cl70rsfgo003p5ohu82hier9h","modified":0,"renderable":0},{"_id":"source/_posts/java/introduction/java-ide/java-ide-6.png","slug":"java-ide-6.png","post":"cl70rsfgo003p5ohu82hier9h","modified":0,"renderable":0},{"_id":"source/_posts/java/introduction/java-ide/java-ide-7.png","slug":"java-ide-7.png","post":"cl70rsfgo003p5ohu82hier9h","modified":0,"renderable":0},{"_id":"source/_posts/java/introduction/java-ide/java-ide-8.png","slug":"java-ide-8.png","post":"cl70rsfgo003p5ohu82hier9h","modified":0,"renderable":0},{"_id":"source/_posts/java/introduction/java-ide/java-ide-9.png","slug":"java-ide-9.png","post":"cl70rsfgo003p5ohu82hier9h","modified":0,"renderable":0},{"_id":"source/_posts/java/introduction/java-environment-mac/1-jdk-mac.png","slug":"1-jdk-mac.png","post":"cl70rsfgc003b5ohug4bv93mx","modified":0,"renderable":0},{"_id":"source/_posts/java/introduction/java-environment-mac/10-jdk-mac.png","slug":"10-jdk-mac.png","post":"cl70rsfgc003b5ohug4bv93mx","modified":0,"renderable":0},{"_id":"source/_posts/java/introduction/java-environment-mac/11-jdk-mac.png","slug":"11-jdk-mac.png","post":"cl70rsfgc003b5ohug4bv93mx","modified":0,"renderable":0},{"_id":"source/_posts/java/introduction/java-environment-mac/12-jdk-mac.png","slug":"12-jdk-mac.png","post":"cl70rsfgc003b5ohug4bv93mx","modified":0,"renderable":0},{"_id":"source/_posts/java/introduction/java-environment-mac/13-jdk-mac.png","slug":"13-jdk-mac.png","post":"cl70rsfgc003b5ohug4bv93mx","modified":0,"renderable":0},{"_id":"source/_posts/java/introduction/java-environment-mac/14-jdk-mac.png","slug":"14-jdk-mac.png","post":"cl70rsfgc003b5ohug4bv93mx","modified":0,"renderable":0},{"_id":"source/_posts/java/introduction/java-environment-mac/15-jdk-mac.png","slug":"15-jdk-mac.png","post":"cl70rsfgc003b5ohug4bv93mx","modified":0,"renderable":0},{"_id":"source/_posts/java/introduction/java-environment-mac/16-jdk-mac.png","slug":"16-jdk-mac.png","post":"cl70rsfgc003b5ohug4bv93mx","modified":0,"renderable":0},{"_id":"source/_posts/java/introduction/java-environment-mac/5-jdk-mac.png","slug":"5-jdk-mac.png","post":"cl70rsfgc003b5ohug4bv93mx","modified":0,"renderable":0},{"_id":"source/_posts/java/introduction/java-environment-mac/6-jdk-mac.png","slug":"6-jdk-mac.png","post":"cl70rsfgc003b5ohug4bv93mx","modified":0,"renderable":0},{"_id":"source/_posts/java/introduction/java-environment-mac/7-jdk-mac.png","slug":"7-jdk-mac.png","post":"cl70rsfgc003b5ohug4bv93mx","modified":0,"renderable":0},{"_id":"source/_posts/java/introduction/java-environment-mac/8-jdk-mac.png","slug":"8-jdk-mac.png","post":"cl70rsfgc003b5ohug4bv93mx","modified":0,"renderable":0},{"_id":"source/_posts/java/introduction/java-environment-mac/9-jdk-mac.png","slug":"9-jdk-mac.png","post":"cl70rsfgc003b5ohug4bv93mx","modified":0,"renderable":0}],"PostCategory":[{"post_id":"cl70rsfb300065ohu2ghc4be7","category_id":"cl70rsfb500085ohu9ti75tpk","_id":"cl70rsfbb000h5ohuds5ghpwj"},{"post_id":"cl70rsfb8000c5ohu7ah576ex","category_id":"cl70rsfb500085ohu9ti75tpk","_id":"cl70rsfbd000l5ohudkls46jg"},{"post_id":"cl70rsfb9000f5ohuak0a9el4","category_id":"cl70rsfb500085ohu9ti75tpk","_id":"cl70rsfbe000n5ohuc4iz0txv"},{"post_id":"cl70rsfb400075ohu812jdjxs","category_id":"cl70rsfb9000d5ohuckahdx5v","_id":"cl70rsfbh000r5ohu5vx140ty"},{"post_id":"cl70rsfba000g5ohu5ho9b02j","category_id":"cl70rsfb500085ohu9ti75tpk","_id":"cl70rsfbi000u5ohu6lnqczak"},{"post_id":"cl70rsfbd000m5ohu334rbmha","category_id":"cl70rsfb500085ohu9ti75tpk","_id":"cl70rsfbj000z5ohugren39c5"},{"post_id":"cl70rsfbf000q5ohu7jjx94bs","category_id":"cl70rsfb500085ohu9ti75tpk","_id":"cl70rsfbk00125ohua94thw5b"},{"post_id":"cl70rsfb7000b5ohuhon4f38o","category_id":"cl70rsfb500085ohu9ti75tpk","_id":"cl70rsfbl00165ohu6eyf81zt"},{"post_id":"cl70rsfb7000b5ohuhon4f38o","category_id":"cl70rsfbe000o5ohu7ka57f9g","_id":"cl70rsfbm001a5ohufo3ldw1l"},{"post_id":"cl70rsfbh000t5ohubzf01mj3","category_id":"cl70rsfb500085ohu9ti75tpk","_id":"cl70rsfbn001c5ohuhha8exd1"},{"post_id":"cl70rsfbj000y5ohua65p291g","category_id":"cl70rsfb500085ohu9ti75tpk","_id":"cl70rsfbp001g5ohu52g5b0ch"},{"post_id":"cl70rsfbc000k5ohu16oq97x0","category_id":"cl70rsfb500085ohu9ti75tpk","_id":"cl70rsfbq001i5ohuhhx95xyv"},{"post_id":"cl70rsfbc000k5ohu16oq97x0","category_id":"cl70rsfbi000w5ohuccg86wmx","_id":"cl70rsfbr001l5ohu5qq2297t"},{"post_id":"cl70rsfbj00115ohu0wq7hw4y","category_id":"cl70rsfb500085ohu9ti75tpk","_id":"cl70rsfbr001n5ohu4osj2dts"},{"post_id":"cl70rsfbk00155ohuf689b5gd","category_id":"cl70rsfb500085ohu9ti75tpk","_id":"cl70rsfbt001p5ohugk3phomb"},{"post_id":"cl70rsfb6000a5ohu5zhzbo4j","category_id":"cl70rsfb500085ohu9ti75tpk","_id":"cl70rsfbt001r5ohufyneftm5"},{"post_id":"cl70rsfb6000a5ohu5zhzbo4j","category_id":"cl70rsfbe000o5ohu7ka57f9g","_id":"cl70rsfbu001v5ohu1lifeo4a"},{"post_id":"cl70rsfbm00195ohu6z1m6rv7","category_id":"cl70rsfb500085ohu9ti75tpk","_id":"cl70rsfbv001x5ohudz8a076v"},{"post_id":"cl70rsfbn001b5ohu702z6i5x","category_id":"cl70rsfb500085ohu9ti75tpk","_id":"cl70rsfbv001z5ohufvhf20z1"},{"post_id":"cl70rsfbo001f5ohucfcngr87","category_id":"cl70rsfb500085ohu9ti75tpk","_id":"cl70rsfbv00205ohuhlzp479n"},{"post_id":"cl70rsfbq001k5ohu8yu29nc7","category_id":"cl70rsfb500085ohu9ti75tpk","_id":"cl70rsfbw00225ohuhku67zm3"},{"post_id":"cl70rsfbp001h5ohu1zyidzi3","category_id":"cl70rsfbr001m5ohu100072q3","_id":"cl70rsfbw00245ohud48i5eyq"},{"post_id":"cl70rsfbp001h5ohu1zyidzi3","category_id":"cl70rsfbu001u5ohu4xw16h73","_id":"cl70rsfbx00275ohualnc6fu2"},{"post_id":"cl70rsfg800325ohu1sog7nls","category_id":"cl70rsfb500085ohu9ti75tpk","_id":"cl70rsfgb00375ohuc6t25c2l"},{"post_id":"cl70rsfg900335ohuddjgdhwc","category_id":"cl70rsfb500085ohu9ti75tpk","_id":"cl70rsfgb00395ohudbhchiwe"},{"post_id":"cl70rsfg900355ohu6io7ermn","category_id":"cl70rsfb500085ohu9ti75tpk","_id":"cl70rsfgc003c5ohu8bph4mg8"},{"post_id":"cl70rsfga00365ohu9ofp7rvh","category_id":"cl70rsfb500085ohu9ti75tpk","_id":"cl70rsfgd003e5ohu5c555xed"},{"post_id":"cl70rsfgb00385ohu00jv4gds","category_id":"cl70rsfb500085ohu9ti75tpk","_id":"cl70rsfgg003h5ohucs00a8l4"},{"post_id":"cl70rsfgc003b5ohug4bv93mx","category_id":"cl70rsfb500085ohu9ti75tpk","_id":"cl70rsfgj003k5ohu3wrkbyc2"},{"post_id":"cl70rsfgd003d5ohubtwu2lru","category_id":"cl70rsfb500085ohu9ti75tpk","_id":"cl70rsfgm003o5ohuc947ehmu"},{"post_id":"cl70rsfgg003g5ohucflh3ax5","category_id":"cl70rsfb500085ohu9ti75tpk","_id":"cl70rsfgq003q5ohugx4y992f"},{"post_id":"cl70rsfgi003j5ohub2at5aio","category_id":"cl70rsfb500085ohu9ti75tpk","_id":"cl70rsfgt003t5ohu7qekbt3k"},{"post_id":"cl70rsfgl003n5ohu0hy1axga","category_id":"cl70rsfb500085ohu9ti75tpk","_id":"cl70rsfgw003w5ohu0wav7jci"},{"post_id":"cl70rsfgo003p5ohu82hier9h","category_id":"cl70rsfb500085ohu9ti75tpk","_id":"cl70rsfgz003z5ohuacusgay8"},{"post_id":"cl70rsfgt003s5ohu207s65n8","category_id":"cl70rsfb500085ohu9ti75tpk","_id":"cl70rsfh200405ohuerpthdmx"},{"post_id":"cl70rsfgv003v5ohu9pox0zhk","category_id":"cl70rsfb500085ohu9ti75tpk","_id":"cl70rsfh300425ohu87rygmrf"}],"PostTag":[{"post_id":"cl70rsfb300065ohu2ghc4be7","tag_id":"cl70rsfb600095ohudun72i8u","_id":"cl70rsfbh000s5ohu9a1xfz6r"},{"post_id":"cl70rsfb300065ohu2ghc4be7","tag_id":"cl70rsfb9000e5ohu4ig1dbxu","_id":"cl70rsfbi000v5ohu4e7lfwzc"},{"post_id":"cl70rsfb300065ohu2ghc4be7","tag_id":"cl70rsfbb000j5ohuakvv9u85","_id":"cl70rsfbj00105ohu59h08odo"},{"post_id":"cl70rsfb400075ohu812jdjxs","tag_id":"cl70rsfbe000p5ohu5pv06xb2","_id":"cl70rsfbk00135ohu04oga023"},{"post_id":"cl70rsfb6000a5ohu5zhzbo4j","tag_id":"cl70rsfbi000x5ohu9vcx3l3v","_id":"cl70rsfbm00185ohugv3chri9"},{"post_id":"cl70rsfb7000b5ohuhon4f38o","tag_id":"cl70rsfbi000x5ohu9vcx3l3v","_id":"cl70rsfbo001e5ohu6yj8g1xc"},{"post_id":"cl70rsfb8000c5ohu7ah576ex","tag_id":"cl70rsfbn001d5ohudh3wf6dk","_id":"cl70rsfbt001q5ohu9vyngl1m"},{"post_id":"cl70rsfb8000c5ohu7ah576ex","tag_id":"cl70rsfbq001j5ohu3b6sgzzw","_id":"cl70rsfbt001s5ohu1sb94g3d"},{"post_id":"cl70rsfb9000f5ohuak0a9el4","tag_id":"cl70rsfbs001o5ohu5y3m01ue","_id":"cl70rsfbu001w5ohu99lk0cwo"},{"post_id":"cl70rsfba000g5ohu5ho9b02j","tag_id":"cl70rsfbn001d5ohudh3wf6dk","_id":"cl70rsfbw00235ohuaps9dywq"},{"post_id":"cl70rsfba000g5ohu5ho9b02j","tag_id":"cl70rsfbq001j5ohu3b6sgzzw","_id":"cl70rsfbw00255ohubf7408qb"},{"post_id":"cl70rsfbc000k5ohu16oq97x0","tag_id":"cl70rsfbn001d5ohudh3wf6dk","_id":"cl70rsfc8002b5ohu38go7dv6"},{"post_id":"cl70rsfbc000k5ohu16oq97x0","tag_id":"cl70rsfbq001j5ohu3b6sgzzw","_id":"cl70rsfca002c5ohughm510or"},{"post_id":"cl70rsfbc000k5ohu16oq97x0","tag_id":"cl70rsfbx00285ohufwn4aber","_id":"cl70rsfcc002e5ohubqmxad37"},{"post_id":"cl70rsfbc000k5ohu16oq97x0","tag_id":"cl70rsfc200295ohuev09ac82","_id":"cl70rsfcg002f5ohu7cbi1uyq"},{"post_id":"cl70rsfbd000m5ohu334rbmha","tag_id":"cl70rsfbs001o5ohu5y3m01ue","_id":"cl70rsfcj002h5ohu16jb08v8"},{"post_id":"cl70rsfbf000q5ohu7jjx94bs","tag_id":"cl70rsfbs001o5ohu5y3m01ue","_id":"cl70rsfck002i5ohubfve937c"},{"post_id":"cl70rsfbh000t5ohubzf01mj3","tag_id":"cl70rsfbs001o5ohu5y3m01ue","_id":"cl70rsfcm002k5ohu7iym2chx"},{"post_id":"cl70rsfbj000y5ohua65p291g","tag_id":"cl70rsfbs001o5ohu5y3m01ue","_id":"cl70rsfcr002m5ohu77pre1wp"},{"post_id":"cl70rsfbj00115ohu0wq7hw4y","tag_id":"cl70rsfcp002l5ohubkvzd7jj","_id":"cl70rsfcv002o5ohu0ox48kd1"},{"post_id":"cl70rsfbk00155ohuf689b5gd","tag_id":"cl70rsfcp002l5ohubkvzd7jj","_id":"cl70rsfd0002q5ohudkcpfp32"},{"post_id":"cl70rsfbm00195ohu6z1m6rv7","tag_id":"cl70rsfcp002l5ohubkvzd7jj","_id":"cl70rsfd5002s5ohu16pda8r6"},{"post_id":"cl70rsfbn001b5ohu702z6i5x","tag_id":"cl70rsfd5002r5ohugc869aaf","_id":"cl70rsfdc002u5ohu9l4mdvoe"},{"post_id":"cl70rsfbo001f5ohucfcngr87","tag_id":"cl70rsfcp002l5ohubkvzd7jj","_id":"cl70rsfdl002x5ohufosb54ap"},{"post_id":"cl70rsfbo001f5ohucfcngr87","tag_id":"cl70rsfdf002v5ohufn747d0s","_id":"cl70rsfdn002y5ohuadr0bzsq"},{"post_id":"cl70rsfbp001h5ohu1zyidzi3","tag_id":"cl70rsfd5002r5ohugc869aaf","_id":"cl70rsfdq00305ohu0be95tyz"},{"post_id":"cl70rsfbq001k5ohu8yu29nc7","tag_id":"cl70rsfd5002r5ohugc869aaf","_id":"cl70rsfdu00315ohu1asmcw6m"},{"post_id":"cl70rsfg800325ohu1sog7nls","tag_id":"cl70rsfg900345ohu7id2hjqz","_id":"cl70rsfgg003i5ohucsda0gfk"},{"post_id":"cl70rsfg800325ohu1sog7nls","tag_id":"cl70rsfgb003a5ohufbs88f9u","_id":"cl70rsfgj003l5ohu6l6r69t4"},{"post_id":"cl70rsfg900335ohuddjgdhwc","tag_id":"cl70rsfg900345ohu7id2hjqz","_id":"cl70rsfgt003u5ohu08qh3pvh"},{"post_id":"cl70rsfg900335ohuddjgdhwc","tag_id":"cl70rsfgb003a5ohufbs88f9u","_id":"cl70rsfgw003x5ohuc60m4l74"},{"post_id":"cl70rsfg900355ohu6io7ermn","tag_id":"cl70rsfg900345ohu7id2hjqz","_id":"cl70rsfh300435ohu4yx11ahw"},{"post_id":"cl70rsfg900355ohu6io7ermn","tag_id":"cl70rsfgb003a5ohufbs88f9u","_id":"cl70rsfh300445ohuauw13quh"},{"post_id":"cl70rsfga00365ohu9ofp7rvh","tag_id":"cl70rsfg900345ohu7id2hjqz","_id":"cl70rsfh300465ohu7bdm7ofy"},{"post_id":"cl70rsfga00365ohu9ofp7rvh","tag_id":"cl70rsfgb003a5ohufbs88f9u","_id":"cl70rsfh300475ohuaf3t5rfk"},{"post_id":"cl70rsfgb00385ohu00jv4gds","tag_id":"cl70rsfg900345ohu7id2hjqz","_id":"cl70rsfh300495ohub18dcd3i"},{"post_id":"cl70rsfgb00385ohu00jv4gds","tag_id":"cl70rsfgb003a5ohufbs88f9u","_id":"cl70rsfh3004a5ohuaef4f6ec"},{"post_id":"cl70rsfgc003b5ohug4bv93mx","tag_id":"cl70rsfh300485ohufm0a0kp1","_id":"cl70rsfh3004c5ohua4da0uxh"},{"post_id":"cl70rsfgc003b5ohug4bv93mx","tag_id":"cl70rsfg900345ohu7id2hjqz","_id":"cl70rsfh3004d5ohu7pxe6hxs"},{"post_id":"cl70rsfgc003b5ohug4bv93mx","tag_id":"cl70rsfbn001d5ohudh3wf6dk","_id":"cl70rsfh4004f5ohu9rdj983g"},{"post_id":"cl70rsfgd003d5ohubtwu2lru","tag_id":"cl70rsfh300485ohufm0a0kp1","_id":"cl70rsfh4004g5ohue7su60t2"},{"post_id":"cl70rsfgd003d5ohubtwu2lru","tag_id":"cl70rsfg900345ohu7id2hjqz","_id":"cl70rsfh4004i5ohu3f8r15lc"},{"post_id":"cl70rsfgd003d5ohubtwu2lru","tag_id":"cl70rsfbn001d5ohudh3wf6dk","_id":"cl70rsfh4004j5ohuck81bo19"},{"post_id":"cl70rsfgg003g5ohucflh3ax5","tag_id":"cl70rsfh300485ohufm0a0kp1","_id":"cl70rsfh4004l5ohudmv90rx2"},{"post_id":"cl70rsfgg003g5ohucflh3ax5","tag_id":"cl70rsfg900345ohu7id2hjqz","_id":"cl70rsfh4004m5ohu1onb7mft"},{"post_id":"cl70rsfgi003j5ohub2at5aio","tag_id":"cl70rsfh300485ohufm0a0kp1","_id":"cl70rsfh5004o5ohu8zwma0jg"},{"post_id":"cl70rsfgi003j5ohub2at5aio","tag_id":"cl70rsfg900345ohu7id2hjqz","_id":"cl70rsfh5004p5ohu7zr37hn3"},{"post_id":"cl70rsfgl003n5ohu0hy1axga","tag_id":"cl70rsfh300485ohufm0a0kp1","_id":"cl70rsfh5004r5ohu02kpe8w6"},{"post_id":"cl70rsfgl003n5ohu0hy1axga","tag_id":"cl70rsfg900345ohu7id2hjqz","_id":"cl70rsfh5004s5ohuf6es1w3c"},{"post_id":"cl70rsfgl003n5ohu0hy1axga","tag_id":"cl70rsfbn001d5ohudh3wf6dk","_id":"cl70rsfh5004u5ohugyf5c67a"},{"post_id":"cl70rsfgo003p5ohu82hier9h","tag_id":"cl70rsfh300485ohufm0a0kp1","_id":"cl70rsfh5004v5ohu7rzf8hpg"},{"post_id":"cl70rsfgo003p5ohu82hier9h","tag_id":"cl70rsfg900345ohu7id2hjqz","_id":"cl70rsfh5004w5ohuh21z36m1"},{"post_id":"cl70rsfgo003p5ohu82hier9h","tag_id":"cl70rsfbn001d5ohudh3wf6dk","_id":"cl70rsfh5004x5ohu7eyn42he"},{"post_id":"cl70rsfgt003s5ohu207s65n8","tag_id":"cl70rsfh300485ohufm0a0kp1","_id":"cl70rsfh5004y5ohudqdreax2"},{"post_id":"cl70rsfgt003s5ohu207s65n8","tag_id":"cl70rsfg900345ohu7id2hjqz","_id":"cl70rsfh5004z5ohu6j1xguu9"},{"post_id":"cl70rsfgv003v5ohu9pox0zhk","tag_id":"cl70rsfh300485ohufm0a0kp1","_id":"cl70rsfh500505ohucxvdbh6o"},{"post_id":"cl70rsfgv003v5ohu9pox0zhk","tag_id":"cl70rsfg900345ohu7id2hjqz","_id":"cl70rsfh500515ohu7g2j1ksz"}],"Tag":[{"name":"","_id":"cl70rsfb600095ohudun72i8u"},{"name":"","_id":"cl70rsfb9000e5ohu4ig1dbxu"},{"name":"Spring","_id":"cl70rsfbb000j5ohuakvv9u85"},{"name":"","_id":"cl70rsfbe000p5ohu5pv06xb2"},{"name":"R","_id":"cl70rsfbi000x5ohu9vcx3l3v"},{"name":"","_id":"cl70rsfbn001d5ohudh3wf6dk"},{"name":"Hexo","_id":"cl70rsfbq001j5ohu3b6sgzzw"},{"name":"go","_id":"cl70rsfbs001o5ohu5y3m01ue"},{"name":"github pages","_id":"cl70rsfbx00285ohufwn4aber"},{"name":"travis ci","_id":"cl70rsfc200295ohuev09ac82"},{"name":"RabbitMQ","_id":"cl70rsfcp002l5ohubkvzd7jj"},{"name":"Thoughts","_id":"cl70rsfd5002r5ohugc869aaf"},{"name":"DelayQueue","_id":"cl70rsfdf002v5ohufn747d0s"},{"name":"Java","_id":"cl70rsfg900345ohu7id2hjqz"},{"name":"Java","_id":"cl70rsfgb003a5ohufbs88f9u"},{"name":"Java","_id":"cl70rsfh300485ohufm0a0kp1"}]}}